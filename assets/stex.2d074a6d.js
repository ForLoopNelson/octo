function b(p){function h(t,e){t.cmdState.push(e)}function d(t){return t.cmdState.length>0?t.cmdState[t.cmdState.length-1]:null}function i(t,e,n){return function(){this.name=t,this.bracketNo=0,this.style=e,this.styles=n,this.argument=null,this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null},this.openBracket=function(){return this.bracketNo++,"bracket"},this.closeBracket=function(){}}}var r={};function u(t,e){t.f=e}function f(t,e){var n;if(t.match(/^\\[a-zA-Z@]+/)){var a=t.current().slice(1);return h(e,n=new(n=r.hasOwnProperty(a)?r[a]:r.DEFAULT)),u(e,g),n.style}if(t.match(/^\\[$&%#{}_]/)||t.match(/^\\[,;!\/\\]/))return"tag";if(t.match("\\["))return u(e,function(o,c){return s(o,c,"\\]")}),"keyword";if(t.match("\\("))return u(e,function(o,c){return s(o,c,"\\)")}),"keyword";if(t.match("$$"))return u(e,function(o,c){return s(o,c,"$$")}),"keyword";if(t.match("$"))return u(e,function(o,c){return s(o,c,"$")}),"keyword";var m=t.next();return m=="%"?(t.skipToEnd(),"comment"):m=="}"||m=="]"?(n=d(e))?(n.closeBracket(m),u(e,g),"bracket"):"error":m=="{"||m=="["?(h(e,n=new(n=r.DEFAULT)),"bracket"):/\d/.test(m)?(t.eatWhile(/[\w.%]/),"atom"):(t.eatWhile(/[\w\-_]/),(n=function(o){for(var c=o.cmdState,l=c.length-1;l>=0;l--){var k=c[l];if(k.name!="DEFAULT")return k}return{styleIdentifier:function(){return null}}}(e)).name=="begin"&&(n.argument=t.current()),n.styleIdentifier())}function s(t,e,n){if(t.eatSpace())return null;if(n&&t.match(n))return u(e,f),"keyword";if(t.match(/^\\[a-zA-Z@]+/))return"tag";if(t.match(/^[a-zA-Z]+/))return"variableName.special";if(t.match(/^\\[$&%#{}_]/)||t.match(/^\\[,;!\/]/)||t.match(/^[\^_&]/))return"tag";if(t.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(t.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var a=t.next();return a=="{"||a=="}"||a=="["||a=="]"||a=="("||a==")"?"bracket":a=="%"?(t.skipToEnd(),"comment"):"error"}function g(t,e){var n,a=t.peek();return a=="{"||a=="["?(d(e).openBracket(a),t.eat(a),u(e,f),"bracket"):/[ \t\r]/.test(a)?(t.eat(a),null):(u(e,f),(n=e.cmdState.pop())&&n.closeBracket(),f(t,e))}return r.importmodule=i("importmodule","tag",["string","builtin"]),r.documentclass=i("documentclass","tag",["","atom"]),r.usepackage=i("usepackage","tag",["atom"]),r.begin=i("begin","tag",["atom"]),r.end=i("end","tag",["atom"]),r.label=i("label","tag",["atom"]),r.ref=i("ref","tag",["atom"]),r.eqref=i("eqref","tag",["atom"]),r.cite=i("cite","tag",["atom"]),r.bibitem=i("bibitem","tag",["atom"]),r.Bibitem=i("Bibitem","tag",["atom"]),r.RBibitem=i("RBibitem","tag",["atom"]),r.DEFAULT=function(){this.name="DEFAULT",this.style="tag",this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){return{cmdState:[],f:p?function(t,e){return s(t,e)}:f}},copyState:function(t){return{cmdState:t.cmdState.slice(),f:t.f}},token:function(t,e){return e.f(t,e)},blankLine:function(t){t.f=f,t.cmdState.length=0},languageData:{commentTokens:{line:"%"}}}}const y=b(!1),S=b(!0);export{y as stex,S as stexMath};
