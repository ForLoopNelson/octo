import{s as c,v as d}from"./vendor.71bc5b01.js";import{n as u,T as f,m as g,q as m,S as n}from"./index.6f8da31a.js";var h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container flex flex-col mx-auto p-4 md:px-16 md:py-8"},[e("div",[e("h2",{staticClass:"text-2xl"},[t._v("Context Switching")]),e("p",{staticClass:"mt-1 text-gray-500"},[t._v(" A context allows you to focus on what's important now by filtering your docs down to just a handful of relevant tags. ")]),e("div",{staticClass:"mt-4"},[e("label",{attrs:{for:"context-name"}},[t._v("Name it and save it (optional)")]),e("div",{staticClass:"flex items-center mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contextName,expression:"contextName"}],staticClass:"form-text w-full shadow",attrs:{type:"text",id:"context-name",placeholder:"Give this context a name..."},domProps:{value:t.contextName},on:{input:function(s){s.target.composing||(t.contextName=s.target.value)}}}),e("button",{staticClass:"button button-size-medium button-color-gray disabled:text-gray-900 ml-2",attrs:{disabled:!(t.tags.length&&t.contextName)},on:{click:t.save}},[t._v("Save")])]),e("small",{staticClass:"text-gray-700 mt-1 hidden md:block"},[t._v("You must add at least one tag and give the context a name in order to save it.")])]),e("div",{staticClass:"mt-4"},[e("label",{attrs:{for:"tags-search"}},[t._v("Choose some tags")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",staticClass:"form-text w-full mt-2",attrs:{type:"text",id:"tag-search",placeholder:"Start typing to filter the list...",autocomplete:"off"},domProps:{value:t.input},on:{input:[function(s){s.target.composing||(t.input=s.target.value)},t.first],keydown:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"space",32,s.key,[" ","Spacebar"])?null:(s.preventDefault(),t.toggleTag.apply(null,arguments))},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")||s.ctrlKey||s.shiftKey||s.altKey||s.metaKey?null:t.toggleTag.apply(null,arguments)},function(s){return!s.type.indexOf("key")&&s.keyCode!==221?null:(s.preventDefault(),t.down.apply(null,arguments))},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"down",40,s.key,["Down","ArrowDown"])?null:(s.preventDefault(),t.down.apply(null,arguments))},function(s){return!s.type.indexOf("key")&&s.keyCode!==219?null:(s.preventDefault(),t.up.apply(null,arguments))},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"up",38,s.key,["Up","ArrowUp"])?null:(s.preventDefault(),t.up.apply(null,arguments))}]}}),t._m(0)]),e("simplebar",{ref:"tagsContainer",staticClass:"border rounded mt-4 overflow-hidden bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700"},[e("div",[t.filtered.length?e("div",t._l(t.filtered,function(s,r){return e("div",{key:s,ref:"tags",refInFor:!0,staticClass:"flex justify-between cursor-pointer p-6 md:p-3 focus-within:ring",class:{"bg-gray-200 dark:bg-gray-700":t.isSelected(s),"bg-blue-300 dark:bg-blue-500":r===t.activeIndex},on:{click:function(i){return t.selectTag(s)}}},[e("div",{staticClass:"flex items-center"},[e("svg",{attrs:{width:"1.25em",height:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),e("span",{staticClass:"ml-6 md:ml-3 flex-grow"},[t._v(t._s(s))])]),t.isSelected(s)?e("span",[t._v("selected")]):t._e()])}),0):e("div",{staticClass:"flex justify-between p-3"},[t._v("No results...")])])]),e("div",{staticClass:"mt-4"},[e("h3",{staticClass:"text-xl mb-4"},[t._v("Saved Contexts")]),e("div",{staticClass:"grid gap-4 grid-cols-1 lg:grid-cols-2"},t._l(t.contexts,function(s){return e("div",{key:s.id,staticClass:"shadow relative flex flex-col min-w-0 rounded p-4 bg-gray-100 dark:bg-gray-800 dark:text-gray-300"},[e("div",{staticClass:"flex items-center justify-between mb-4"},[e("h4",{staticClass:"text-lg flex items-center"},[e("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}})]),e("span",{staticClass:"ml-2"},[t._v(t._s(s.name))])]),e("button",{staticClass:"button-flat button-size-medium text-sm text-red-500 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700",on:{click:function(r){return t.discard(s)}}},[e("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),e("span",{staticClass:"ml-2"},[t._v("Discard")])])]),e("div",{staticClass:"flex items-center flex-wrap"},t._l(s.tags,function(r){return e("div",{key:r,staticClass:"flex items-center mr-6"},[e("svg",{attrs:{width:"1.25em",height:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),e("span",{staticClass:"ml-2 flex-grow"},[t._v(t._s(r))])])}),0)])}),0)])],1)])},p=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("small",{staticClass:"text-gray-700 mt-1 hidden md:block"},[t._v("Navigate the list below with "),e("span",{staticClass:"key"},[t._v("up")]),t._v(" or "),e("span",{staticClass:"key"},[t._v("down")]),t._v(" and toggle tags with "),e("span",{staticClass:"key"},[t._v("space")]),t._v(" or "),e("span",{staticClass:"key"},[t._v("enter")])])}];const v={name:"Context",components:{simplebar:c,Tag:f},data(){return{activeIndex:0,contextName:"",input:""}},computed:{availableTags(){return this.$store.getters.allTags},contexts(){return this.$store.getters.sortedContexts},filtered(){return this.availableTags.filter(t=>t.startsWith(this.input.toLowerCase()))},selected(){return this.tags.sort()},tags(){return this.$store.state.context.tags}},methods:{discard(t){this.$store.commit(g,t)},down(){this.activeIndex<this.filtered.length-1&&(this.activeIndex+=1,this.scroll())},first(){this.activeIndex=0,this.$refs.tagsContainer.scrollElement.scroll(0,0)},focusInput(){this.$refs.input.focus()},save(){this.$store.commit(m,{id:d(),name:this.contextName,tags:this.tags}),this.contextName="",this.$store.dispatch(n,{context:{tags:[]}})},scroll(){const t=this.$refs.tagsContainer.scrollElement,a=this.$refs.tags[this.activeIndex],e=t.scrollTop,s=t.offsetHeight,r=a.offsetTop,i=a.offsetHeight;if(r+i-e>s){const l=r-s+i;t.scroll(0,l)}else r<e&&t.scroll(0,r)},selectTag(t){this.activeIndex=this.filtered.findIndex(a=>a===t),this.toggleTag(),this.focusInput(),this.scroll()},isSelected(t){return this.tags.includes(t)},toggleTag(){const t=this.filtered[this.activeIndex];if(t){let a=this.tags;a.includes(t)?a=a.filter(e=>e!==t):a=a.concat([t]),this.$store.dispatch(n,{context:{tags:a}})}},up(){this.activeIndex>0&&(this.activeIndex-=1,this.scroll())}},mounted(){this.$store.state.context.editing=!0,this.focusInput()},beforeDestroy(){this.$store.state.context.editing=!1}},o={};var x=u(v,h,p,!1,y,"5286008f",null,null);function y(t){for(let a in o)this[a]=o[a]}var C=function(){return x.exports}();export{C as default};
