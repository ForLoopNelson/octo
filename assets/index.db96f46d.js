var Ka=Object.defineProperty,Ba=Object.defineProperties;var Ha=Object.getOwnPropertyDescriptors;var Br=Object.getOwnPropertySymbols;var Ga=Object.prototype.hasOwnProperty,qa=Object.prototype.propertyIsEnumerable;var Hr=(e,r,n)=>r in e?Ka(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Bt=(e,r)=>{for(var n in r||(r={}))Ga.call(r,n)&&Hr(e,n,r[n]);if(Br)for(var n of Br(r))qa.call(r,n)&&Hr(e,n,r[n]);return e},Ht=(e,r)=>Ba(e,Ha(r));import{s as Ce,f as ke,j as Va,M as Hn,v as Gr,h as bt,l as Ya,c as Wa,a as Gn,b as qn,V as ne,d as qr,R as Vr,e as Xa,i as Za}from"./vendor.6733ebcc.js";const Qa=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};Qa();var Ja=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("router-link",{staticClass:"flex items-center",attrs:{to:e.tagRoute}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow"},[e._v(e._s(e.tag))])])},to=[];function H(e,r,n,i,s,a,o,l){var c=typeof e=="function"?e.options:e;r&&(c.render=r,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a);var u;if(o?(u=function(d){d=d||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!d&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(d=__VUE_SSR_CONTEXT__),s&&s.call(this,d),d&&d._registeredComponents&&d._registeredComponents.add(o)},c._ssrRegister=u):s&&(u=l?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(p,y){return u.call(y),f(p,y)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,u):[u]}return{exports:e,options:c}}const eo={name:"Tag",props:{tag:String},computed:{tagRoute(){return{name:"tag",params:{tag:this.tag}}}}},Yr={};var no=H(eo,Ja,to,!1,ro,null,null,null);function ro(e){for(let r in Yr)this[r]=Yr[r]}var Ee=function(){return no.exports}();const fn="ACTIVATE_CONTEXT",Ct="ADD_DOCUMENT",io="BLUR_EDITOR",Ae="DEACTIVATE_CONTEXT",Gt="DISCARD_DOCUMENT",Wr="DUPLICATE_DOCUMENT",re="DOCUMENTS_LOADED",ie="EDIT_DOCUMENT",so="FOCUS_EDITOR",Vn="HIDE_MENU",dn="LOAD_DOCUMENT",Xr="LOAD_DOCUMENTS",se="MERGE_DOCUMENT",Zr="MERGE_DOCUMENTS",Qt="RESTORE_DOCUMENT",ae="RESTRICT_DOCUMENT",oe="SET_CONTEXT_TAGS",Jt="SET_DOCUMENT",Yn="SET_EDITOR",pn="SET_MOD_KEY",Se="SET_OFFLINE",Te="SET_ONLINE",Me="SET_RIGHT_SIDEBAR_VISIBILITY",$e="SET_SHOW_WELCOME",le="SET_USER",ce="SHARE_DOCUMENT",Wn="SHOW_MENU",ao="SIGN_OUT",Qr="SYNC",ue="TOUCH_DOCUMENT";var oo=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"flex flex-col flex-grow flex-shrink",class:e.sizes.concat([!e.ligatures&&"ligatures-none"]),attrs:{id:"app"}},[e.showStripeModal?n("div",{staticClass:"flex items-center justify-center fixed top-0 left-0 h-full w-full z-50 bg-darkest"},[n("div",{staticClass:"flex flex-col items-center justify-center gap-8 text-center text-2xl"},[n("svg",{staticClass:"animate-spin mr-3 h-10 w-10 text-current",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[n("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),n("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),n("span",[e._v("Redirecting you to Stripe for checkout")])])]):e._e(),e.context.active||e.context.editing?n("simplebar",{staticClass:"context-banner bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-800 relative-fixed"},[n("div",{staticClass:"flex items-center text-center"},[e.contextTags.length?n("div",{staticClass:"context-tags"},e._l(e.contextTags,function(i){return n("Tag",{key:i,staticClass:"button button-size-small button-color-gray ml-1",attrs:{tag:i}})}),1):n("div",{staticClass:"context-placeholder"},[e._v("no active tags")]),n("div",{staticClass:"button button-size-small button-color-gray",on:{click:e.deactivateContext}},[n("svg",{attrs:{width:"1.25em",height:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])]):e._e(),n("div",{staticClass:"flex flex-col flex-grow flex-shrink relative min-h-0"},[n("router-view",{staticClass:"flex-grow flex-shrink min-h-0"}),n("div",{staticClass:"flex flex-col min-w-0 max-w-full rounded break-words bg-white notification fixed top-0 right-0 m-4 md:m-2 dark:bg-gray-800",class:{hidden:!e.showModal}},[n("div",{staticClass:"flex-auto p-4 notification-body"},[n("p",{staticClass:"mb-6"},[e._v("An update is available. Refresh the app to apply.")]),n("button",{staticClass:"button button-size-small button-color-blue text-gray-900 dark:text-gray-200",attrs:{type:"button"},on:{click:e.refreshPage}},[e._v("Refresh Now")]),n("button",{staticClass:"button button-size-small button-color-gray ml-2",attrs:{type:"button"},on:{click:e.hideModal}},[e._v("Later")])])])],1)],1)},lo=[];const co={name:"App",components:{simplebar:Ce,Tag:Ee},data(){return{showModal:!1}},watch:{theme(e){switch(document.documentElement.classList.remove("dark","light","october"),e){case"dark":document.documentElement.classList.add("dark");break;case"light":document.documentElement.classList.add("light");break;case"october":document.documentElement.classList.add("dark","october");break;default:document.documentElement.classList.add("dark");break}}},computed:{context(){return this.$store.state.context},contextTags(){return this.context.tags.sort()},ligatures(){return this.$store.state.settings.editor.ligatures},sizes(){if(this.$mq==="xs")return["xs xs-plus"];if(this.$mq==="sm")return["sm xs-plus sm-plus"];if(this.$mq==="md")return["md xs-plus sm-plus md-plus"];if(this.$mq==="lg")return["lg xs-plus sm-plus md-plus lg-plus"];if(this.$mq==="xl")return["xl xs-plus sm-plus md-plus lg-plus xl-plus"]},showStripeModal(){return this.$store.state.showStripeModal},theme(){return this.$store.state.settings.theme}},methods:{deactivateContext(){this.$store.dispatch(Ae)},hideModal(){this.showModal=!1},refreshPage(){window.location.reload(!0)}},created(){window.addEventListener("swupdated",e=>{this.showModal=!0})}},Jr={};var uo=H(co,oo,lo,!1,ho,null,null,null);function ho(e){for(let r in Jr)this[r]=Jr[r]}var fo=function(){return uo.exports}(),po=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",[e._l(e.prependable,function(i){return n(i.name,{key:i.name,tag:"component"})}),e._t("default"),e._l(e.appendable,function(i){return n(i.name,{key:i.name,tag:"component"})})],2)},go=[];const mo={name:"Extendable",props:{scope:String},computed:{appendable(){return this.$packageManager.getComponents(this.scope,"append")},prependable(){return this.$packageManager.getComponents(this.scope,"prepend")}},created(){[...this.appendable,...this.prependable].forEach(e=>{this.$options.components[e.name]=e})}},ti={};var vo=H(mo,po,go,!1,yo,null,null,null);function yo(e){for(let r in ti)this[r]=ti[r]}var _o=function(){return vo.exports}();const wo={apiKey:"AIzaSyCqk-k-XiYFYgPQo28ITj3qkxoqDGDrVk0",appId:"1:1011232276130:web:1ae2ea1437c349a4c2e1fb",authDomain:"octo-64838.firebaseapp.com",databaseURL:"https://octo-64838.firebaseio.com",messagingSenderId:"1011232276130",projectId:"octo-64838",storageBucket:"octo-64838.appspot.com"};ke.initializeApp(wo);const ot=ke.auth(),mt=ke.auth,he=ke.firestore(),ei=ke.firestore;location.hostname==="localhost"&&!{}.VITE_FIREBASE_EMULATOR_BYPASS&&(ot.useEmulator({}.VITE_FIREBASE_EMULATOR_AUTH,{disableWarnings:!0}),he.useEmulator({}.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,{}.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT));var xo=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"flex flex-col flex-grow",on:{click:e.focusEditor}},[n("div",{staticClass:"md:container md:mx-auto flex flex-grow"},[n("div",{staticClass:"editor flex flex-col flex-grow min-w-0 p-4 md:px-16 md:py-0"},[n("div",{staticClass:"gutter h-8",on:{click:e.focusEditorStart}}),e.ink?n("Ink",{ref:"editable",staticClass:"ink",attrs:{appearance:e.appearance,images:e.settings.images.enabled,initialSelection:e.initialSelection,spellcheck:e.spellcheck,value:e.text},on:{input:e.input}}):n("LegacyEditor",{ref:"editable",staticClass:"editable",attrs:{theme:e.appearance,initialCursor:e.initialCursor,initialVimMode:e.initialVimMode,settings:e.settings,value:e.text},on:{input:e.input,ready:e.onReady}}),n("div",{staticClass:"gutter h-8 flex-grow",on:{click:e.focusEditorEnd}})],1)]),!e.showRightSidebar&&e.text?n("div",{staticClass:"fixed top-4 right-4 z-index-10 hidden md:block"},[n("button",{staticClass:"button button-size-medium button-color-gray",on:{click:e.toggleMeta}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-3"},[e._v("Info")])])]):e._e()])},bo=[];const Co={name:"Editor",components:{Ink:Va,LegacyEditor:Hn},props:{appearance:{type:String,default:()=>"dark",validator:e=>["dark","light"].includes(e)},initialCursor:{type:Object,default:()=>({character:0,line:0}),validator:e=>e.hasOwnProperty("character")&&e.hasOwnProperty("line")},initialFocus:{type:String,default:()=>"any",validator:e=>["any","start","end"].includes(e)},initialSelection:{type:Object},initialVimMode:{type:String},readonly:{type:Boolean},settings:{type:Object},text:{type:String}},data(){return{editor:null}},computed:{ink(){return this.settings.version==="ink"},mediumPlus(){return["md","lg","xl"].includes(this.$mq)},showRightSidebar(){return this.$store.state.showRightSidebar},spellcheck(){return this.settings.spellcheck}},methods:{clearHistory(){if(this.ink)this.$refs.editable.instance.load(this.text);else{const e=()=>{this.text===this.editor.getValue()&&(this.editor.off("change",e),this.editor.clearHistory())};this.editor.on("change",e)}},focusEditor(){this.$refs.editable.focus()},focusInitial(){this.focusEditor(),this.initialFocus==="start"?this.focusEditorStart():this.initialFocus==="end"&&this.focusEditorEnd()},async focusEditorEnd(){this.ink?this.$refs.editable.focus():this.$refs.editable.focusEnd()},async focusEditorStart(){this.ink?this.$refs.editable.focus():this.$refs.editable.focusStart()},async input(e){this.$emit("input",e)},async onReady(e){this.editor=e,this.focusInitial(),this.clearHistory()},async toggleMeta(){this.$store.dispatch(Me,!this.showRightSidebar)}},async mounted(){document.fonts.ready.then(()=>{this.$refs.editable&&!this.ink&&this.$refs.editable.refresh()}),this.focusEditor()}},ni={};var ko=H(Co,xo,bo,!1,Eo,"925ec4c2",null,null);function Eo(e){for(let r in ni)this[r]=ni[r]}var ri=function(){return ko.exports}();const ii=e=>new TextDecoder().decode(e),Ao=e=>new TextEncoder().encode(e),So=()=>window.crypto.getRandomValues(new Uint8Array(12)),Ie=e=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(e))),fe=e=>{const r=window.atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return n},De={name:"RSA-OAEP"},To=async(e,r)=>{const n=await window.crypto.subtle.decrypt(De,r,e);return ii(n)},si=async e=>{const r={};return e.privateKey&&(r.privateKey=await ai(e.privateKey)),e.publicKey&&(r.publicKey=await oi(e.publicKey)),r},ai=async e=>`-----BEGIN PRIVATE KEY-----
${Ie(await window.crypto.subtle.exportKey("pkcs8",e))}
-----END PRIVATE KEY-----`,oi=async e=>`-----BEGIN PUBLIC KEY-----
${Ie(await window.crypto.subtle.exportKey("spki",e))}
-----END PUBLIC KEY-----`,li=async()=>window.crypto.subtle.generateKey({hash:"SHA-512",modulusLength:4096,name:De.name,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"]),Mo=async e=>{const r={};return e.privateKey&&(r.privateKey=await ci(e.privateKey)),e.publicKey&&(r.publicKey=await ui(e.publicKey)),r},ci=async e=>{const r="-----BEGIN PRIVATE KEY-----",n="-----END PRIVATE KEY-----",i=e.substring(r.length,e.length-n.length),s=fe(i);return window.crypto.subtle.importKey("pkcs8",s,{hash:"SHA-512",name:De.name},!0,["decrypt","unwrapKey"])},ui=async e=>{const r="-----BEGIN PUBLIC KEY-----",n="-----END PUBLIC KEY-----",i=e.substring(r.length,e.length-n.length),s=fe(i);return window.crypto.subtle.importKey("spki",s,{hash:"SHA-512",name:De.name},!0,["encrypt","wrapKey"])};var Re={algorithm:De,decrypt:To,exportKeys:si,exportPrivateKey:ai,exportPublicKey:oi,generateKeys:li,importKeys:Mo,importPrivateKey:ci,importPublicKey:ui};const ze={name:"AES-GCM"},$o=async(e,r,n)=>{const i=await window.crypto.subtle.decrypt({name:ze.name,iv:n},r,e);return ii(i)},Io=async(e,r)=>{const n=Ao(e),i=So();return{cipher:await window.crypto.subtle.encrypt({name:ze.name,iv:i},r,n),iv:i}},Do=async()=>window.crypto.subtle.generateKey({name:ze.name,length:256},!0,["encrypt","decrypt"]),Ro=async e=>window.crypto.subtle.importKey("raw",e,ze.name,!0,["decrypt","encrypt"]);var Pe={algorithm:ze,decrypt:$o,encrypt:Io,generateKey:Do,importKey:Ro};const zo=async(e,r)=>window.crypto.subtle.unwrapKey("raw",e,r,Re.algorithm,Pe.algorithm,!0,["encrypt","decrypt"]),Po=async(e,r)=>window.crypto.subtle.wrapKey("raw",e,r,Re.algorithm),Oo=async e=>{const r=fe(e.cipher),n=fe(e.cipherKey),i=fe(e.iv),{privateKey:s}=await Re.importKeys({privateKey:e.privateKey});try{var a=await zo(n,s)}catch(o){var a=await Re.decrypt(n,s).then(c=>Pe.importKey(fe(c)))}return Pe.decrypt(r,a,i)},No=async e=>{const r=await Pe.generateKey(),{cipher:n,iv:i}=await Pe.encrypt(e.data,r),{publicKey:s}=await Re.importKeys({publicKey:e.publicKey}),a=await Po(r,s);return{cipher:Ie(n),cipherKey:Ie(a),iv:Ie(i)}},Lo=/```([^\n\s]*)(?:\s([\w-]+\.[\w]+))?\n(.*?)```/gs,jo=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|#([\w-]+)/gs,Uo=/````.*?````|```.*?```|``.*?``|`.*?`|- \[ \] ([^\n]+)/gs,Xn=(e,r)=>{let n=[];const i=[];for(;n=e.exec(r);)i.push(n);return i},Fo=e=>{const r=Xn(Lo,e),n=[];return r.forEach(i=>{n.push({filename:i[2],language:i[1],code:i[3]})}),n},hi=e=>{const r=Xn(jo,e),n=new Set;return r.forEach(i=>{i[1]&&n.add(i[1].toLowerCase())}),Array.from(n).sort()},fi=e=>{const r=Xn(Uo,e),n=[];return r.forEach(i=>{i[1]&&n.push(i[1])}),n};class It{constructor(r={}){this.id=r.id||Gr(),this.text=r.text||"",this.textKey=r.textKey||null,this.daily=r.daily||!1,this.iv=r.iv||null,this.encrypted=r.encrypted||!1,this.createdAt=r.createdAt||new Date,this.updatedAt=r.updatedAt||new Date,this.touchedAt=r.touchedAt||new Date,this.discardedAt=r.discardedAt||null,this.tags=this.encrypted?[]:hi(this.text),this.tasks=this.encrypted?[]:fi(this.text),this.firebaseId=r.firebaseId||null,this.ownerId=r.ownerId||null,this.syncedAt=r.syncedAt||null,this.public=r.public||!1}discard(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=new Date}duplicate(){return new It({text:this.text})}merge(r){Object.assign(this,r,{id:this.id})}restore(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=null}restrict(){this.public=!1,this.updatedAt=new Date,this.touchedAt=new Date}share(){this.public=!0,this.updatedAt=new Date,this.touchedAt=new Date}touch(){this.touchedAt=new Date}update({text:r}){this.text=r,this.tags=hi(r),this.tasks=fi(r),this.updatedAt=new Date,this.touchedAt=new Date}}const gn=async(e,{secure:r=!0,publicKey:n=null})=>{if(r){const{cipher:i,cipherKey:s,iv:a}=await No({data:e.text,publicKey:n});return Object.assign({},e,{encrypted:!0,iv:a,tags:[],text:i,textKey:s})}return Object.assign({},e)},Zn=async(e,{privateKey:r})=>{try{if(e.encrypted){const n=await Oo({cipher:e.text,cipherKey:e.textKey,iv:e.iv,privateKey:r});return new It(Object.assign({},e,{encrypted:!1,text:n}))}}catch(n){}return new It(e)};var Ko=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("Editor",{ref:"editable",attrs:{appearance:e.appearance,initialCursor:e.initialCursor,initialSelection:e.initialSelection,initialVimMode:e.initialVimMode,settings:e.settings,text:e.document.text},on:{input:e.input}})},Bo=[];const Ho={name:"EditorView",components:{Editor:ri},props:{id:String,initialCursor:{type:Object,default:()=>({character:0,line:0}),validator:e=>e.hasOwnProperty("character")&&e.hasOwnProperty("line")},initialFocus:{type:String,default:()=>"any",validator:e=>["any","start","end"].includes(e)},initialSelection:{type:Object},initialVimMode:{type:String},readonly:{type:Boolean}},data(){return{editor:null,placeholder:new It}},watch:{document(){this.$refs.editable.clearHistory(),this.$refs.editable.focusEditor()}},computed:{appearance(){return this.$store.state.settings.theme==="october"?"dark":this.$store.state.settings.theme},currentDoc(){return this.$store.getters.currentDoc},document(){return this.$store.getters.decrypted.find(e=>e.id===this.id)||this.placeholder},settings(){return this.$store.state.settings.editor}},methods:{async findSharedDocument(){const e=await he.collection("documents").where("public","==",!0).where("id","==",this.$route.params.id).get(),[r,...n]=e.docs,i=r.data(),s=Ht(Bt({},i),{id:i.id||i.clientId,firebaseId:r.id,textKey:i.textKey||i.dataKey,createdAt:i.createdAt?i.createdAt.toDate():null,discardedAt:i.discardedAt?i.discardedAt.toDate():null,updatedAt:i.updatedAt?i.updatedAt.toDate():null,touchedAt:i.touchedAt?i.touchedAt.toDate():null,syncedAt:i.syncedAt.toDate()});return Zn(s,{privateKey:this.$store.state.settings.crypto.privateKey})},async input(e){this.id?this.$store.dispatch(ie,{id:this.document.id,text:e}):(this.$store.dispatch(Ct,new It({id:this.document.id,text:e})),this.ink?Zt({name:"document",params:{id:this.document.id,initialSelection:this.$refs.editable.selection()}}):Zt({name:"document",params:{id:this.document.id,initialCursor:{character:this.editor.getCursor().ch,line:this.editor.getCursor().line},initialVimMode:this.editor.getOption("keyMap")}}))}},beforeRouteUpdate(e,r,n){e.name==="document"&&this.$store.dispatch(Jt,{id:e.params.id}),n()},async mounted(){this.readonly&&(this.placeholder=await this.findSharedDocument())}},di={};var Go=H(Ho,Ko,Bo,!1,qo,null,null,null);function qo(e){for(let r in di)this[r]=di[r]}var mn=function(){return Go.exports}(),Vo=function(){var e=this,r=e.$createElement,n=e._self._c||r;return e.daily?n("Editor",{attrs:{id:e.daily.id,initialFocus:"end"}}):e._e()},Yo=[];const Wo={name:"Daily",components:{Editor:mn},computed:{daily(){return this.$store.getters.daily}},methods:{async buildTemplate(){const e=await fetch("/quotes.json").then(n=>n.json()).catch(n=>[]),r=e[Math.floor(Math.random()*e.length)];return`#daily

# ${bt().format("dddd, MMMM Do, YYYY")}

> ${r.text}
> ${r.author||"Unknown"}

`},async checkDaily(){let e=bt().startOf("day").add(3,"hours");if(bt()<e&&(e=e.subtract(1,"day")),!this.daily||this.daily.createdAt<e){const r=await this.buildTemplate(),n=new It({text:r,daily:!0});this.$store.commit(Ct,n)}}},beforeMount(){this.$store.state.documents.loaded?this.checkDaily():this.$store.subscribe(({type:e},r)=>{e===re&&this.checkDaily()})}},pi={};var Xo=H(Wo,Vo,Yo,!1,Zo,null,null,null);function Zo(e){for(let r in pi)this[r]=pi[r]}var Qo=function(){return Xo.exports}(),Jo=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("svg",{staticClass:"text-theme",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{height:e.size,viewBox:"0 0 152 49",fill:"currentColor",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("g",[n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M27.653,15.649c0,-0.677 0.551,-1.227 1.228,-1.227c0.678,0 1.226,0.55 1.226,1.227c0,0.678 -0.548,1.228 -1.226,1.228c-0.678,0 -1.228,-0.55 -1.228,-1.228m-8.461,1.228c-0.678,0 -1.227,-0.55 -1.227,-1.228c0,-0.677 0.549,-1.227 1.227,-1.227c0.678,0 1.228,0.55 1.228,1.227c0,0.678 -0.55,1.228 -1.228,1.228m28.297,8.015c-0.545,-0.3 -1.228,-0.101 -1.528,0.444c-2.024,3.685 -5.129,5.271 -9.736,4.952c-3.258,-0.264 -4.79,-2.195 -4.79,-2.195c2.539,0.784 5.078,0.57 5.078,0.57c0.381,0 0.761,-0.025 1.136,-0.076c2.59,-0.348 4.686,-1.885 5.753,-4.219c1.037,-2.268 1.042,-4.45 0.011,-6.143c-0.888,-1.461 -2.479,-2.385 -4.252,-2.471c-1.434,-0.071 -2.329,0.466 -2.827,0.93c-1.142,1.06 -1.212,2.585 -1.216,2.756c-0.016,0.621 0.474,1.138 1.095,1.153c0.621,0.016 1.132,-0.471 1.154,-1.087c0.01,-0.211 0.12,-0.83 0.506,-1.182c0.268,-0.243 0.653,-0.348 1.178,-0.324c1.027,0.051 1.939,0.572 2.44,1.395c0.631,1.035 0.582,2.469 -0.135,4.037c-0.749,1.64 -2.173,2.679 -4.007,2.925c-2.778,0.375 -5.891,-1.141 -8.322,-4.05c-0.055,-0.066 -0.117,-0.123 -0.184,-0.173c0,-0.014 0.001,-0.027 0,-0.041c0,0 -0.971,-2.404 1.075,-3.938c0,0 2.301,0.205 2.454,-2.199c0.154,-2.404 -1.841,-1.636 -1.841,-3.529c0,-1.892 0.921,0 0.921,-5.421c0,-5.062 -3.631,-7.006 -7.415,-7.006c-3.785,0 -7.415,1.944 -7.415,7.006c-0.001,5.421 0.919,3.529 0.919,5.421c0,1.893 -1.994,1.125 -1.841,3.529c0.154,2.404 2.455,2.199 2.455,2.199c2.046,1.534 1.074,3.938 1.074,3.938l0,0.041c-0.066,0.05 -0.129,0.107 -0.183,0.173c-2.432,2.909 -5.545,4.425 -8.323,4.05c-1.834,-0.246 -3.258,-1.285 -4.007,-2.925c-0.717,-1.568 -0.764,-3.002 -0.135,-4.037c0.502,-0.823 1.414,-1.344 2.441,-1.394c0.524,-0.025 0.91,0.08 1.177,0.324c0.386,0.351 0.497,0.97 0.507,1.181c0.021,0.617 0.532,1.103 1.153,1.087c0.621,-0.015 1.112,-0.532 1.097,-1.153c-0.005,-0.171 -0.075,-1.696 -1.217,-2.756c-0.498,-0.464 -1.393,-1.001 -2.827,-0.93c-1.773,0.086 -3.363,1.01 -4.253,2.471c-1.03,1.693 -1.026,3.875 0.011,6.143c1.067,2.334 3.163,3.871 5.753,4.219c0.376,0.051 0.755,0.076 1.137,0.076c0,0 2.538,0.214 5.077,-0.57c0,0 -1.532,1.931 -4.79,2.195c-4.607,0.319 -7.711,-1.267 -9.736,-4.952c-0.3,-0.545 -0.983,-0.744 -1.527,-0.444c-0.545,0.299 -0.744,0.983 -0.445,1.527c2.27,4.132 5.741,6.161 10.573,6.161c0.703,0 1.437,-0.043 2.198,-0.128c1.421,-0.161 2.627,-0.455 3.653,-0.828c-0.926,2.333 -2.698,5.702 -5.618,7.316c-2.178,1.203 -3.664,0.829 -4.329,0.078c-0.488,-0.553 -0.548,-1.293 -0.149,-1.84c0.37,-0.51 0.649,-0.53 0.741,-0.536c0.468,-0.029 1.066,0.423 1.279,0.643c0.426,0.453 1.138,0.476 1.59,0.05c0.453,-0.425 0.476,-1.137 0.05,-1.59c-0.14,-0.15 -1.419,-1.449 -3.055,-1.349c-0.652,0.04 -1.603,0.327 -2.426,1.458c-1.017,1.399 -0.901,3.311 0.284,4.653c0.733,0.83 1.911,1.464 3.441,1.464c1.063,0 2.293,-0.305 3.663,-1.061c1.851,-1.024 3.294,-2.577 4.402,-4.206c-0.115,0.742 -0.064,1.512 -0.065,2.314c-0.007,6.805 3.59,8.563 4.897,8.943c0.105,0.03 0.209,0.045 0.314,0.045c0.487,0 0.936,-0.32 1.08,-0.813c0.173,-0.596 -0.171,-1.22 -0.767,-1.394c-0.817,-0.236 -1.664,-0.929 -2.365,-2.883c-0.746,-2.08 -0.64,-4.403 0.349,-6.378c0.831,-1.653 2.161,-3.379 4.157,-3.602c1.997,0.223 3.327,1.949 4.156,3.602c0.989,1.975 1.096,4.298 0.349,6.378c-0.7,1.954 -1.547,2.647 -2.364,2.883c-0.597,0.174 -0.94,0.798 -0.767,1.394c0.143,0.493 0.592,0.813 1.08,0.813c0.104,0 0.209,-0.015 0.314,-0.045c1.307,-0.38 4.903,-2.138 4.898,-8.943c-0.001,-0.802 0.048,-1.572 -0.066,-2.314c1.108,1.629 2.552,3.182 4.402,4.206c1.371,0.756 2.601,1.061 3.662,1.061c1.531,0 2.708,-0.634 3.442,-1.464c1.185,-1.342 1.3,-3.254 0.284,-4.653c-0.824,-1.131 -1.773,-1.418 -2.426,-1.458c-1.637,-0.1 -2.916,1.199 -3.056,1.349c-0.425,0.453 -0.403,1.165 0.051,1.59c0.453,0.426 1.164,0.403 1.589,-0.05c0.214,-0.22 0.813,-0.672 1.28,-0.643c0.091,0.006 0.371,0.026 0.741,0.534c0.399,0.549 0.339,1.289 -0.149,1.842c-0.665,0.751 -2.15,1.125 -4.329,-0.078c-2.92,-1.615 -4.691,-4.983 -5.617,-7.316c1.025,0.373 2.231,0.667 3.651,0.827c0.762,0.086 1.496,0.129 2.199,0.129c4.833,0 8.304,-2.029 10.573,-6.161c0.3,-0.544 0.1,-1.228 -0.444,-1.527"}}),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M95.254,16.33c-6.423,0 -11.652,5.227 -11.652,11.652c0,6.424 5.229,11.652 11.652,11.652c3.705,0 7.106,-1.703 9.33,-4.671c0.509,-0.679 0.371,-1.646 -0.307,-2.156c-0.68,-0.508 -1.647,-0.369 -2.155,0.308c-1.638,2.186 -4.142,3.44 -6.868,3.44c-4.727,0 -8.572,-3.846 -8.572,-8.573c0,-4.727 3.845,-8.574 8.572,-8.574c2.31,0 4.476,0.906 6.099,2.549c0.594,0.601 1.572,0.61 2.179,0.014c0.602,-0.596 0.609,-1.574 0.012,-2.179c-2.207,-2.232 -5.152,-3.462 -8.29,-3.462"}}),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M109.286,21.758l1.562,0l0.036,10.359c0,4.143 3.368,7.512 7.511,7.512c4.142,0 7.511,-3.369 7.511,-7.512c0,-2.67 -1.437,-5.161 -3.749,-6.501l-0.001,-0.001c-0.356,-0.206 -0.77,-0.26 -1.166,-0.156c-0.397,0.106 -0.729,0.361 -0.937,0.717c-0.205,0.355 -0.262,0.769 -0.155,1.167c0.105,0.397 0.359,0.73 0.715,0.936c1.366,0.793 2.216,2.262 2.216,3.838c0,2.444 -1.99,4.433 -4.434,4.433c-2.443,0 -4.433,-1.989 -4.433,-4.433l-0.035,-10.359l7.521,0c0.849,0 1.54,-0.691 1.54,-1.539c0,-0.85 -0.691,-1.54 -1.54,-1.54l-7.533,0l-0.022,-4.734c-0.003,-0.845 -0.693,-1.532 -1.538,-1.532c-0.856,0.003 -1.544,0.697 -1.54,1.546l0.02,4.72l-1.549,0c-0.85,0 -1.541,0.69 -1.541,1.54c0,0.848 0.691,1.539 1.541,1.539"}}),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M68.814,36.555c-1.444,0 -2.878,-0.371 -4.145,-1.074l-0.091,-0.067c-0.431,-0.425 -0.762,-0.944 -0.955,-1.499c-0.714,-2.042 0.37,-4.286 2.416,-5.003c1.321,-0.46 2.8,-0.181 3.859,0.727c0.643,0.553 1.618,0.475 2.171,-0.168c0.55,-0.644 0.475,-1.617 -0.171,-2.17c-1.893,-1.622 -4.526,-2.119 -6.877,-1.294c-1.674,0.586 -3.054,1.783 -3.885,3.369l-0.601,1.147l-0.191,-1.281c-0.07,-0.471 -0.103,-0.871 -0.103,-1.26c0,-4.727 3.846,-8.573 8.573,-8.573c4.728,0 8.573,3.846 8.573,8.573c0,4.727 -3.845,8.573 -8.573,8.573m0,-20.225c-6.425,0 -11.652,5.227 -11.652,11.652c0,4.046 2.068,7.745 5.531,9.896c0.161,0.129 0.287,0.205 0.434,0.267c1.762,0.981 3.717,1.489 5.687,1.489c6.425,0 11.652,-5.227 11.652,-11.652c0,-6.425 -5.227,-11.652 -11.652,-11.652"}}),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M148.609,29.743l-0.27,1.297l-0.531,-1.214c-0.782,-1.79 -2.276,-3.18 -4.099,-3.819c-2.355,-0.826 -4.989,-0.328 -6.882,1.294c-0.643,0.553 -0.718,1.527 -0.164,2.171c0.553,0.644 1.526,0.717 2.171,0.166c1.055,-0.907 2.53,-1.189 3.856,-0.726c2.045,0.717 3.129,2.961 2.417,5.005c-0.225,0.642 -0.612,1.216 -1.121,1.659l-0.242,0.212c-1.121,0.509 -2.308,0.767 -3.525,0.767c-4.727,0 -8.572,-3.847 -8.572,-8.574c0,-4.727 3.845,-8.572 8.572,-8.572c4.728,0 8.573,3.845 8.573,8.572c0,0.585 -0.061,1.178 -0.183,1.762m-8.39,-13.413c-6.425,0 -11.652,5.227 -11.652,11.651c0,6.425 5.227,11.652 11.652,11.652c6.426,0 11.652,-5.227 11.652,-11.652c0,-6.424 -5.226,-11.651 -11.652,-11.651"}})])])},tl=[];const el={name:"TheLogo",props:{size:{type:String,default:"1.25em",required:!1}}},gi={};var nl=H(el,Jo,tl,!1,rl,null,null,null);function rl(e){for(let r in gi)this[r]=gi[r]}var mi=function(){return nl.exports}(),il=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("nav",{staticClass:"relative flex flex-wrap items-center content-between py-3 px-4 z-index-10 md:hidden p-6 w-full"},[n("router-link",{staticClass:"pt-1 pb-1 mr-4 text-lg whitespace-no-wrap flex justify-between items-center",attrs:{to:{name:"dashboard"}}},[n("TheLogo",{attrs:{size:"2.25em"}})],1),n("div",{staticClass:"flex items-stretch fixed top-3 right-3"},[n("router-link",{staticClass:"button button-size-medium button-color-gray ml-2",attrs:{to:{name:"menu"},role:"button","aria-haspopup":"true","aria-expanded":"false"}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}})]),n("span",{staticClass:"ml-2"},[e._v("Menu")])]),e.isDashboard?n("router-link",{staticClass:"button button-size-medium button-color-gray ml-2",attrs:{to:{name:"quick-action"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})])]):e.isDocument?n("router-link",{staticClass:"button button-size-medium button-color-gray ml-2",attrs:{to:{name:"document-meta",params:{id:e.document.id}}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})])]):n("button",{staticClass:"button button-size-medium button-color-gray ml-2",on:{click:e.close}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])],1)],1)},sl=[];const al={name:"TheNavbar",components:{TheLogo:mi},computed:{document(){return this.$store.getters.currentDoc},isDocument(){return this.document&&this.$route.name==="document"},isDashboard(){return this.$route.name==="dashboard"}},methods:{close(){if(this.document)return Zt({name:"document",params:{id:this.document.id}});Zt({name:"dashboard"})}}},vi={};var ol=H(al,il,sl,!1,ll,null,null,null);function ll(e){for(let r in vi)this[r]=vi[r]}var cl=function(){return ol.exports}(),ul=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("simplebar",{staticClass:"the-content flex h-full relative-fixed"},[n("TheNavbar"),n("router-view",{key:e.$route.fullPath,staticClass:"flex"})],1)},hl=[];const fl={name:"TheContent",components:{simplebar:Ce,TheNavbar:cl}},yi={};var dl=H(fl,ul,hl,!1,pl,"49fe8a99",null,null);function pl(e){for(let r in yi)this[r]=yi[r]}var gl=function(){return dl.exports}(),ml=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("small",{staticClass:"key hidden md:flex justify-center rounded-sm shadow uppercase leading-none text-xs text-gray-500 py-1 px-1.5",class:{active:e.active}},[e._t("default")],2)},vl=[];const yl={name:"Key",props:{active:{default:!1,required:!1,type:Boolean}}},_i={};var _l=H(yl,ml,vl,!1,wl,"5fd7f1b8",null,null);function wl(e){for(let r in _i)this[r]=_i[r]}var Qn=function(){return _l.exports}(),xl=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"hidden md:flex items-center"},[n("Key",{staticClass:"bg-gray-200 dark:bg-gray-900",class:{active:e.active}},[e._v(e._s(this.$store.state.modKey))]),n("Key",{staticClass:"bg-gray-200 dark:bg-gray-900 ml-1",class:{active:e.active}},[e._v("K")])],1)},bl=[];const Cl={name:"ModK",components:{Key:Qn},computed:{active(){return this.$store.state.keybindings.listening}}},wi={};var kl=H(Cl,xl,bl,!1,El,"105403fc",null,null);function El(e){for(let r in wi)this[r]=wi[r]}var Al=function(){return kl.exports}(),Sl=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"md:flex items-center"},[e.active?n("Key",{staticClass:"bg-gray-200 dark:bg-gray-900"},[e._t("default")],2):e._e()],1)},Tl=[];const Ml={name:"ModKKey",components:{Key:Qn},computed:{active(){return this.$store.state.keybindings.listening}}},xi={};var $l=H(Ml,Sl,Tl,!1,Il,null,null,null);function Il(e){for(let r in xi)this[r]=xi[r]}var Dl=function(){return $l.exports}(),Rl=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("simplebar",{staticClass:"p-4 md:p-2"},[n("div",{staticClass:"hidden md:flex justify-center my-3 pb-2"},[n("router-link",{staticClass:"flex p-2",attrs:{to:{name:"dashboard"}}},[n("TheLogo",{attrs:{size:"2.5rem"}})],1)],1),n("div",{staticClass:"side-nav-spacer flex flex-col flex-grow pb-3"},[n("div",{staticClass:"other-actions"},[n("div",{staticClass:"search"},[n("router-link",{staticClass:"sidebar-button",attrs:{to:{name:"documents"}}},[n("div",{staticClass:"flex items-center"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})]),n("span",{staticClass:"ml-6 md:ml-3"},[e._v("Search")])]),n("span",{staticClass:"hidden md:flex text-gray-500"},[n("Key",{attrs:{toggleable:!1}},[e._v(e._s(this.$store.state.modKey))]),n("Key",{staticClass:"ml-1",attrs:{toggleable:!1}},[e._v("\u21E7 shift")]),n("Key",{staticClass:"ml-1",attrs:{toggleable:!1}},[e._v("f")])],1)])],1),n("h6",{staticClass:"sidebar-label"},[n("span",[e._v("Actions")]),n("ModK")],1),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"dashboard"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",{staticClass:"action"},[e._v("New Doc")]),n("ModKKey",[e._v("N")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"daily"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Daily Notepad")]),n("ModKKey",[e._v("P")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"context"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",{staticClass:"action"},[e._v("Context Switching")]),n("ModKKey",[e._v("C")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"graph"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Data Explorer")]),n("ModKKey",[e._v("E")])],1)]),n("a",{staticClass:"sidebar-link",attrs:{href:"https://github.com/writewithocto/octo/discussions",target:"_blank",rel:"noopener noreferrer"}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}})]),n("div",{staticClass:"flex-grow ml-6 md:ml-3"},[e._v("Discuss")])]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"settings"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}}),n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Settings")]),n("ModKKey",[e._v("S")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"account"}}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v(e._s(e.authIsEvaluated&&!e.user?"Sign In to Account":"Account"))])])]),e.authIsEvaluated&&!e.user?n("router-link",{staticClass:"sidebar-link text-theme",attrs:{to:{name:"account"}},nativeOn:{click:function(i){return e.trackCta.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Save Docs")])])]):e._e(),n("h6",{staticClass:"sidebar-label"},[n("span",[e._v("Quick Filters")]),n("span",{staticClass:"flex"},[n("ModK")],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"recent"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Recent Docs")]),n("ModKKey",[e._v("R")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"actionable"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Tasks")]),n("ModKKey",[e._v("T")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"untagged"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Untagged")]),n("ModKKey",[e._v("U")])],1)]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"discarded"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Discarded")]),n("ModKKey",[e._v("D")])],1)]),e.contexts.length?n("h6",{staticClass:"sidebar-label"},[n("span",[e._v("Saved Contexts")])]):e._e(),e._l(e.contexts,function(i){return n("button",{key:i.id,staticClass:"sidebar-link w-full",on:{click:function(s){return e.setContext(i)}}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v(e._s(i.name))])])])})],2),n("div",[n("h6",{staticClass:"sidebar-label"},[n("span",[e._v("Tags")])]),n("router-link",{staticClass:"sidebar-link md:hidden",attrs:{to:{name:"tags"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-6 flex-grow"},[e._v("Tags")])]),e.mediumPlus?n("div",e._l(e.tags,function(i){return n("Tag",{key:i,staticClass:"sidebar-link",attrs:{tag:i}})}),1):e._e()],1),n("div",[n("h6",{staticClass:"sidebar-label"},[n("span",[e._v("Agreements")])]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"privacy_policy"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Privacy Policy")])])]),n("router-link",{staticClass:"sidebar-link",attrs:{to:{name:"terms_and_conditions"}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})]),n("span",{staticClass:"action flex flex-grow items-stretch justify-between ml-6 md:ml-3"},[n("span",[e._v("Terms & Conditions")])])])],1)])])},zl=[];const Pl={name:"TheLeftSidebar",components:{simplebar:Ce,Key:Qn,ModK:Al,ModKKey:Dl,Tag:Ee,TheLogo:mi},computed:{authIsEvaluated(){return this.$store.state.auth.isEvaluated},contexts(){return this.$store.getters.sortedContexts},document(){return this.$store.getters.currentDoc},mediumPlus(){return["md","lg","xl"].includes(this.$mq)},tags(){return this.$store.getters.tags},user(){return this.$store.state.auth.user}},methods:{trackCta(){window.fathom.trackGoal("LO3GIHSZ",0)}},methods:{setContext(e){this.$store.dispatch(oe,{context:e})}}},bi={};var Ol=H(Pl,Rl,zl,!1,Nl,null,null,null);function Nl(e){for(let r in bi)this[r]=bi[r]}var Ci=function(){return Ol.exports}(),Ll=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("button",{staticClass:"flex items-center cursor-pointer",on:{click:function(i){return i.stopPropagation(),e.toggle.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("div",{staticClass:"ml-6 md:ml-3 text-left flex-grow"},[e._v(e._s(e.actionText))])])},jl=[];const Ul={name:"DiscardableAction",props:{discardedAt:Date,onDiscard:Function,onRestore:Function},computed:{actionText(){return this.discardedAt?"Restore":"Discard"}},methods:{toggle(){this.discardedAt?this.onRestore():this.onDiscard()}}},ki={};var Fl=H(Ul,Ll,jl,!1,Kl,null,null,null);function Kl(e){for(let r in ki)this[r]=ki[r]}var Bl=function(){return Fl.exports}();const Hl=e=>{const r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({files:e})};return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",r).then(n=>n.json()).then(n=>n.sandbox_id)},Gl=e=>{e&&window.open(`https://codesandbox.io/s/${e}`,"_blank")};var Ei={create:Hl,open:Gl},ql=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("simplebar",{staticClass:"meta p-4 md:p-2"},[n("div",{staticClass:"flex flex-col flex-grow"},[n("div",{staticClass:"hidden mb-4 md:flex justify-end"},[n("button",{staticClass:"sidebar-button",on:{click:e.toggleMeta}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})]),n("span",{staticClass:"ml-3"},[e._v("Hide")])])]),e.document?n("div",{staticClass:"flex flex-col flex-grow"},[n("div",[e.document.id?n("DiscardableAction",{staticClass:"sidebar-button w-full",attrs:{discardedAt:e.document.discardedAt,onDiscard:e.discardDocument,onRestore:e.restoreDocument}}):e._e(),n("button",{staticClass:"sidebar-button w-full",on:{click:function(i){return i.stopPropagation(),e.duplicateDocument.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[e._v("Duplicate")])]),e.hasCodeblocks?n("button",{staticClass:"sidebar-button w-full",on:{click:e.openSandbox}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[e._v("Create Sandbox")])]):e._e(),n("div",[e.document.public?n("div",[n("button",{staticClass:"sidebar-button w-full",on:{click:e.restrictDocument}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[e._v("Make Private")])]),n("button",{staticClass:"sidebar-button w-full",on:{click:e.copyPublicUrl}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[e._v("Copy Link")])]),n("input",{ref:"link",staticClass:"form-text w-full mb-2",attrs:{type:"text",readonly:""},domProps:{value:e.publicUrl}})]):n("div",{staticClass:"mb-2"},[n("button",{staticClass:"sidebar-button w-full",on:{click:e.shareDocument}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow text-left"},[e._v("Make Public")])])])])],1),n("div",{staticClass:"mt-4"},e._l(e.document.tags,function(i){return n("Tag",{key:i,staticClass:"sidebar-link",attrs:{tag:i}})}),1),n("div",{staticClass:"mt-4"},e._l(e.document.tasks,function(i){return n("div",{staticClass:"flex items-center px-3 py-2 my-1 md:px-2 md:py-1"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",{staticClass:"flex-grow overflow-hidden truncate ml-3"},[e._v(e._s(i))])])}),0),n("div",{staticClass:"flex flex-col justify-end flex-grow px-3 md:p-2 mt-4 mb-3 md:mb-1"},[e.document.updatedAt?n("div",[n("small",{staticClass:"text-gray-700"},[e._v("Last Saved")]),n("div",{staticClass:"capitalize pt-2 md:pt-1"},[e._v(e._s(e.savedAt))])]):e._e(),e.document.createdAt?n("div",{staticClass:"mt-3 md:mt-2"},[n("small",{staticClass:"text-gray-700"},[e._v("Created")]),n("div",{staticClass:"pt-2 md:pt-1"},[e._v(e._s(e.createdAt))])]):e._e(),e.document.updatedAt?n("div",{staticClass:"mt-3 md:mt-2"},[n("small",{staticClass:"text-gray-700"},[e._v("Updated")]),n("div",{staticClass:"pt-2 md:pt-1"},[e._v(e._s(e.updatedAt))])]):e._e(),e.document.discardedAt?n("div",{staticClass:"mt-3 md:mt-2"},[n("small",{staticClass:"text-gray-700"},[e._v("Discarded")]),n("div",{staticClass:"pt-2 md:pt-1"},[e._v(e._s(e.discardedAt))])]):e._e()])]):e._e()])])},Vl=[];const Yl={name:"TheRightSidebar",components:{DiscardableAction:Bl,simplebar:Ce,Tag:Ee},data(){return{now:bt(),ticker:null}},computed:{codeblocks(){return Fo(this.document.text)},createdAt(){return this.$route.params.id?bt(this.document.createdAt).format("ddd, MMM Do, YYYY [at] h:mm A"):"Not yet created"},discardedAt(){return bt(this.document.discardedAt).format("ddd, MMM Do, YYYY [at] h:mm A")},document(){return this.$store.getters.currentDoc},hasCodeblocks(){return this.codeblocks.length>0},publicUrl(){const e=this.$router.resolve({name:"shared",params:{id:this.document.id}}).href;return`${location.protocol}//${location.host}${e}`},savedAt(){return this.$route.params.id?this.now.diff(this.document.updatedAt,"seconds")<5?"just now":`${bt(this.document.updatedAt).from(this.now,!0)} ago`:"Not yet saved"},updatedAt(){return this.$route.params.id?bt(this.document.updatedAt).format("ddd, MMM Do, YYYY [at] h:mm A"):"Not yet updated"}},methods:{async copyPublicUrl(){this.$refs.link.select(),document.execCommand("copy")},async discardDocument(){this.$store.dispatch(Gt,{id:this.document.id}),Zt({name:"dashboard"})},async duplicateDocument(){const e=await this.$store.dispatch(Wr,{id:this.document.id});Zt({name:"document",params:{id:e}})},async openSandbox(){const e=this.codeblocks.reduce((r,n,i)=>{const s=n.filename||[i,n.language||"txt"].join(".");return Ht(Bt({},r),{[s]:{content:n.code}})},{});Ei.create(e).then(r=>Ei.open(r))},async restoreDocument(){this.$store.dispatch(Qt,{id:this.document.id})},async restrictDocument(){this.$store.dispatch(ae,{id:this.document.id})},async shareDocument(){this.$store.dispatch(ce,{id:this.document.id})},async toggleMeta(){this.$store.dispatch(Me,!this.$store.state.showRightSidebar)}},async beforeDestroy(){clearInterval(this.ticker)},async mounted(){this.mounted=!0,this.ticker=setInterval(()=>{this.now=bt()},5e3)}},Ai={};var Wl=H(Yl,ql,Vl,!1,Xl,null,null,null);function Xl(e){for(let r in Ai)this[r]=Ai[r]}var Si=function(){return Wl.exports}(),Zl=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"flex flex-grow flex-shrink min-h-0"},[!e.mobile&&e.showLeftSidebar?n("TheLeftSidebar",{staticClass:"hidden w-72 bg-gray-100 dark:bg-darkest md:flex m-2 rounded shadow"}):e._e(),n("div",{staticClass:"flex flex-col flex-grow flex-shrink min-h-0 min-w-0"},[n("TheContent",{staticClass:"flex-grow flex-shrink min-h-0 min-w-0"})],1),!e.mobile&&e.showRightSidebar&&e.currentDoc?n("TheRightSidebar",{staticClass:"hidden w-72 bg-gray-100 dark:bg-darkest md:flex m-2 rounded"}):e._e()],1)])},Ql=[];const Jl={name:"Dashboard",components:{TheContent:gl,TheLeftSidebar:Ci,TheRightSidebar:Si},computed:{currentDoc(){return this.$store.getters.currentDoc},mobile(){return["xs","sm"].includes(this.$mq)},showLeftSidebar(){return this.$store.state.showLeftSidebar},showRightSidebar(){return this.$route.name==="document"&&this.$store.state.showRightSidebar}}},Ti={};var tc=H(Jl,Zl,Ql,!1,ec,null,null,null);function ec(e){for(let r in Ti)this[r]=Ti[r]}var nc=function(){return tc.exports}(),rc=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"shadow relative flex flex-col min-w-0 rounded text-sm overflow-hidden cursor-pointer bg-gray-100 dark:bg-gray-800 dark:text-gray-300"},[n("div",{staticClass:"flex-grow flex-shrink overflow-hidden p-4"},[n("pre",[e._v(e._s(e.text))])]),n("div",{staticClass:"flex items-center justify-between p-4 bg-gray-200 dark:bg-gray-900"},[n("p",{staticClass:"text-gray-500"},[e._v(e._s(e.updated))]),n("div",[e.discardedAt?n("button",{staticClass:"destroy button-flat button-size-medium text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-800",on:{click:function(i){return i.stopPropagation(),e.restore.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("span",{staticClass:"ml-2"},[e._v("Restore")])]):n("button",{staticClass:"destroy button-flat button-size-medium text-sm text-red-500 bg-gray-200 dark:bg-gray-900 hover:bg-gray-300 dark:hover:bg-gray-800",on:{click:function(i){return i.stopPropagation(),e.discard.apply(null,arguments)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("span",{staticClass:"ml-2"},[e._v("Discard")])])])])])},ic=[];const sc={name:"Document",props:{id:String,text:String,updatedAt:Date,discardedAt:Date},computed:{updated(){return`Updated on ${bt(this.updatedAt).format("ddd, MMM Do, YYYY [at] h:mm A")}`}},methods:{discard(){this.$store.dispatch(Gt,{id:this.id})},restore(){this.$store.dispatch(Qt,{id:this.id})}}},Mi={};var ac=H(sc,rc,ic,!1,oc,null,null,null);function oc(e){for(let r in Mi)this[r]=Mi[r]}var lc=function(){return ac.exports}(),cc=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"flex flex-col w-full"},[n("div",{staticClass:"flex items-center text-2xl"},[e.tag?n("div",{staticClass:"flex items-center"},[n("svg",{attrs:{height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-3 flex-grow"},[e._v(e._s(e.tag))])]):n("span",{staticClass:"action capitalize"},[e._v(e._s(e.action))])]),n("div",{staticClass:"my-4"},[n("div",{staticClass:"flex align-items-bottom"},[n("div",{staticClass:"flex-grow"},[n("div",{staticClass:"flex items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterText,expression:"filterText"}],ref:"input",staticClass:"form-text w-full shadow",attrs:{type:"text",placeholder:"Start typing to filter the list...",autocomplete:"off"},domProps:{value:e.filterText},on:{input:function(i){i.target.composing||(e.filterText=i.target.value)}}}),n("label",{staticClass:"button button-size-medium button-color-gray shadow ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterRegex,expression:"filterRegex"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterRegex)?e._i(e.filterRegex,null)>-1:e.filterRegex},on:{change:function(i){var s=e.filterRegex,a=i.target,o=!!a.checked;if(Array.isArray(s)){var l=null,c=e._i(s,l);a.checked?c<0&&(e.filterRegex=s.concat([l])):c>-1&&(e.filterRegex=s.slice(0,c).concat(s.slice(c+1)))}else e.filterRegex=o}}}),n("span",{staticClass:"monospace ml-3"},[e._v(".*")])]),n("label",{staticClass:"button button-size-medium button-color-gray shadow ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterCase,expression:"filterCase"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterCase)?e._i(e.filterCase,null)>-1:e.filterCase},on:{change:function(i){var s=e.filterCase,a=i.target,o=!!a.checked;if(Array.isArray(s)){var l=null,c=e._i(s,l);a.checked?c<0&&(e.filterCase=s.concat([l])):c>-1&&(e.filterCase=s.slice(0,c).concat(s.slice(c+1)))}else e.filterCase=o}}}),n("span",{staticClass:"monospace ml-3"},[e._v("Aa")])])])])]),n("small",{staticClass:"block mt-2 text-gray-700"},[e._v(e._s(e.filterMessage))])]),n("div",{staticClass:"mb-4"},[n("button",{staticClass:"button button-size-medium button-color-gray shadow",on:{click:e.toggleIsEditing}},[e._v(e._s(e.isEditing?"Cancel":"Edit Documents"))]),e.canMerge?n("button",{staticClass:"button button-size-medium button-color-gray shadow ml-2",on:{click:e.mergeDocuments}},[e._v("Merge Documents")]):e._e()]),n("div",[e.isEditing?n("p",{staticClass:"text-gray-700"},[e._v("Select two or more documents to merge them together.")]):e._e()]),n("div",{staticClass:"grid gap-4 grid-cols-1",class:e.cols===2&&"lg:grid-cols-2"},[e._l(e.visibleDocuments,function(i){return n("div",{key:i.id,staticClass:"rounded relative cursor-pointer outline-none focus:ring",attrs:{tabindex:"0"},on:{keypress:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.selectDocument(i.id)},click:function(s){return e.selectDocument(i.id)}}},[n("Document",e._b({staticClass:"h-96"},"Document",i,!1)),i.selected?n("div",{staticClass:"flex items-center justify-center rounded absolute inset-0 bg-black bg-opacity-10 dark:bg-opacity-50"},[n("svg",{attrs:{height:"3em",width:"3em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})])]):e._e()],1)}),e.showLoadMore?n("div",{staticClass:"flex items-center justify-center rounded cursor-pointer"},[n("div",{staticClass:"button button-color-gray text-lg px-8 py-6",on:{click:e.loadMore}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})]),n("span",{staticClass:"ml-3"},[e._v("Load More")])])]):e._e()],2)])},uc=[];const hc={name:"DocumentList",props:{tag:String,actionable:Boolean,discarded:Boolean,recent:Boolean,untagged:Boolean,cols:{type:Number,default:2}},components:{Document:lc},data(){return{filterCase:!1,filterRegex:!0,filterText:"",isEditing:!1,selectedDocuments:[],visibleCount:25}},computed:{action(){return this.tag?this.tag:this.actionable?"actionable":this.discarded?"discarded":this.recent?"recent":this.untagged?"untagged":"documents"},canMerge(){return this.selectedDocuments.length>1},documents(){return this.tag?this.$store.getters.withTag(this.tag):this.actionable?this.$store.getters.actionable:this.discarded?this.$store.getters.discarded:this.recent?this.$store.getters.kept:this.untagged?this.$store.getters.untagged:this.$store.getters.decrypted},filterMessage(){const e=this.filterCase?"sensitive":"insensitive",r=this.filterRegex?"regular expression":"plain text";return`Filtering documents with case ${e} ${r} queries.`},filteredDocuments(){return this.documents.filter(e=>this.filterText?this.filterRegex?new RegExp(this.filterText,this.filterCase?"":"i").test(e.text):this.filterCase?e.text.includes(this.filterText):e.text.toLowerCase().includes(this.filterText.toLowerCase()):!0)},finalDocuments(){return this.filteredDocuments.map(e=>Ht(Bt({},e),{selected:this.selectedDocuments.includes(e)}))},showLoadMore(){return this.visibleCount<=this.finalDocuments.length},visibleDocuments(){return this.finalDocuments.slice(0,this.visibleCount)}},methods:{loadMore(){this.visibleCount+=25},mergeDocuments(){this.$store.dispatch(Zr,this.selectedDocuments),this.selectedDocuments=[]},toggleIsEditing(){this.isEditing=!this.isEditing,this.isEditing||(this.selectedDocuments=[])},selectDocument(e){this.isEditing?this.selectedDocuments.find(r=>r.id===e)?this.selectedDocuments=this.selectedDocuments.filter(r=>r.id!==e):this.selectedDocuments.push(this.filteredDocuments.find(r=>r.id===e)):Zt({name:"document",params:{id:e}})}},mounted(){this.$refs.input.focus()}},$i={};var fc=H(hc,cc,uc,!1,dc,null,null,null);function dc(e){for(let r in $i)this[r]=$i[r]}var Ii=function(){return fc.exports}(),pc=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"container mx-auto p-4 md:px-16 md:py-8"},[n("DocumentList",{attrs:{tag:e.tag,actionable:e.actionable,discarded:e.discarded,recent:e.recent,untagged:e.untagged,cols:2}})],1)},gc=[];const mc={name:"Documents",components:{DocumentList:Ii},props:{tag:String,actionable:Boolean,discarded:Boolean,recent:Boolean,untagged:Boolean}},Di={};var vc=H(mc,pc,gc,!1,yc,null,null,null);function yc(e){for(let r in Di)this[r]=Di[r]}var de=function(){return vc.exports}(),_c=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("Editor",{attrs:{appearance:e.appearance,settings:e.settings,text:e.text}})},wc=[];const xc={name:"ExampleView",components:{Editor:ri},props:{url:{type:String}},data(){return{text:""}},computed:{appearance(){return this.$store.state.settings.theme==="october"?"dark":this.$store.state.settings.theme},settings(){return this.$store.state.settings.editor}},async mounted(){fetch(this.url).then(e=>e.text()).then(e=>{this.text=e})}},Ri={};var bc=H(xc,_c,wc,!1,Cc,null,null,null);function Cc(e){for(let r in Ri)this[r]=Ri[r]}var kc=function(){return bc.exports}(),Ec=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{fill:"currentColor",viewBox:"0 0 136 133",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("path",{attrs:{d:"M67.867,0c-37.48,0 -67.867,30.388 -67.867,67.875c0,29.988 19.446,55.425 46.417,64.404c3.396,0.621 4.633,-1.475 4.633,-3.275c0,-1.608 -0.058,-5.879 -0.092,-11.541c-18.879,4.1 -22.862,-9.1 -22.862,-9.1c-3.088,-7.842 -7.538,-9.93 -7.538,-9.93c-6.162,-4.208 0.467,-4.125 0.467,-4.125c6.813,0.48 10.396,6.996 10.396,6.996c6.054,10.371 15.887,7.375 19.754,5.638c0.617,-4.384 2.367,-7.375 4.308,-9.071c-15.07,-1.713 -30.916,-7.538 -30.916,-33.546c-0,-7.408 2.646,-13.467 6.987,-18.212c-0.7,-1.717 -3.029,-8.617 0.663,-17.963c-0,0 5.7,-1.825 18.666,6.958c5.413,-1.508 11.221,-2.258 16.992,-2.283c5.763,0.025 11.571,0.775 16.992,2.283c12.958,-8.783 18.646,-6.958 18.646,-6.958c3.704,9.346 1.375,16.246 0.674,17.963c4.35,4.745 6.98,10.804 6.98,18.212c-0,26.075 -15.871,31.813 -30.992,33.492c2.438,2.096 4.608,6.237 4.608,12.571c0,9.07 -0.083,16.391 -0.083,18.616c0,1.817 1.221,3.929 4.667,3.267c26.95,-8.996 46.379,-34.417 46.379,-64.396c-0,-37.487 -30.392,-67.875 -67.879,-67.875"}})])},Ac=[];const Sc={},zi={};var Tc=H(Sc,Ec,Ac,!1,Mc,null,null,null);function Mc(e){for(let r in zi)this[r]=zi[r]}var Jn=function(){return Tc.exports}(),$c=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("svg",{staticStyle:{"enable-background":"new 0 0 248 204"},attrs:{fill:"currentColor",version:"1.1",id:"Logo",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 248 204","xml:space":"preserve"}},[n("path",{attrs:{d:"M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04 C50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66 c-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64 c7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76 c-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26 c-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z"}})])},Ic=[];const Dc={},Pi={};var Rc=H(Dc,$c,Ic,!1,zc,null,null,null);function zc(e){for(let r in Pi)this[r]=Pi[r]}var tr=function(){return Rc.exports}(),Pc=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"bg-darkest text-gray-100 text-lg p-4 overflow-auto"},[n("section",{staticClass:"py-4 lg:py-8"},[n("div",{staticClass:"container mx-auto mb-8"},[e._m(0),e._m(1),n("div",{staticClass:"flex flex-col lg:flex-row items-center justify-center gap-2 lg:gap-4 mt-8"},[n("router-link",{staticClass:"button-base button-size-medium bg-blue-600 shadow w-full lg:w-auto whitespace-nowrap justify-center gap-3 text-xl",attrs:{to:{name:"account"}}},[n("span",{staticClass:"flex items-center gap-3"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",[e._v("Sign Up Now")])])]),n("router-link",{staticClass:"button-base button-size-medium bg-gray-900 text-gray-500 shadow w-full lg:w-auto whitespace-nowrap justify-center gap-3 text-xl",attrs:{to:{name:"dashboard"}}},[n("span",{staticClass:"flex items-center gap-3"},[n("span",[e._v("Open App")]),n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"}})])])])],1)])]),e._m(2),e._m(3),n("footer",{staticClass:"text-gray-500 py-4 lg:py-8"},[n("div",{staticClass:"container mx-auto mb-8"},[n("div",{staticClass:"flex flex-col items-center lg:items-start gap-2"},[n("div",{staticClass:"flex flex-col items-center lg:flex-row gap-2 lg:gap-4"},[n("router-link",{staticClass:"font-semibold",attrs:{to:{name:"privacy_policy"}}},[e._v("Privacy Policy")]),n("router-link",{staticClass:"font-semibold",attrs:{to:{name:"terms_and_conditions"}}},[e._v("Terms & Conditions")]),n("div",{staticClass:"flex items-center gap-2 mt-1 lg:mt-0"},[n("a",{attrs:{href:"https://twitter.com/writewithocto",target:"_blank",rel:"noopener noreferrer"}},[n("TwitterIcon",{staticClass:"h-6 lg:h-4"})],1),n("a",{attrs:{href:"https://github.com/writewithocto",target:"_blank",rel:"noopener noreferrer"}},[n("GitHubIcon",{staticClass:"h-6 lg:h-4"})],1)])],1),n("p",{staticClass:"mt-4"},[e._v("\xA9 2021 Octo")])])])])])},Oc=[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"flex flex-col"},[n("h1",{staticClass:"text-4xl lg:text-6xl text-brand font-bold uppercase"},[e._v("Supercharge your writing")]),n("p",{staticClass:"text-xl text-gray-600 font-semibold uppercase"},[e._v("Octo is Made for Technical Writers")])])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"aspect-w-3 aspect-h-4 lg:aspect-w-16 lg:aspect-h-9 w-full mt-8"},[n("iframe",{staticClass:"bg-gray-900 rounded shadow-lg",attrs:{src:"https://octo.app/example",sandbox:"allow-scripts allow-same-origin",loading:"lazy"}})])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",{staticClass:"py-4 lg:py-8"},[n("div",{staticClass:"container mx-auto mb-8"},[n("h2",{staticClass:"text-2xl lg:text-4xl text-brand font-bold uppercase"},[e._v("Open Source")]),n("div",{staticClass:"grid lg:grid-cols-2 gap-4 mt-4"},[n("div",[n("h2",{staticClass:"text-xl lg:text-2xl text-gray-400 uppercase"},[e._v("Transparency")]),n("p",{staticClass:"lg:text-xl mt-2"},[e._v("You get full visibility of the codebase that powers Octo. This means you can participate in feature discussions, track bugs, and collaborate with the developer community that relies on us.")])]),n("div",[n("h2",{staticClass:"text-xl lg:text-2xl text-gray-400 uppercase"},[e._v("Security & Reliability")]),n("p",{staticClass:"lg:text-xl mt-2"},[e._v("We have a lot of eyes on our code, so you can hold us accountable when something is not up to your standards. We strive to uphold best practices, and we will always listen to feedback from our community.")])]),n("div",[n("h2",{staticClass:"text-xl lg:text-2xl text-gray-400 uppercase"},[e._v("Community")]),n("p",{staticClass:"lg:text-xl mt-2"},[e._v("We love to connect with our community of developers and writers. Whether you want to collaborate on improving Octo itself or you want to meet others interested in technical writing, you can connect with them on GitHub Discussions or Discord.")])])])])])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",{staticClass:"py-4 lg:py-8"},[n("div",{staticClass:"container mx-auto mb-8"},[n("h2",{staticClass:"text-2xl lg:text-4xl text-brand font-bold uppercase"},[e._v("Privacy Focused")]),n("div",{staticClass:"grid lg:grid-cols-2 gap-4 mt-4"},[n("div",[n("h2",{staticClass:"text-xl lg:text-2xl text-gray-400 uppercase"},[e._v("End-to-End Encryption")]),n("p",{staticClass:"lg:text-xl mt-2"},[n("strong",{staticClass:"font-semibold"},[e._v("Trust is earned")]),e._v(", yet many organizations expect it from you in order to use their services. We support end-to-end encryption, because "),n("strong",{staticClass:"font-semibold"},[e._v("we believe you deserve to make that choice")]),e._v(". Whether you are end-to-end encrypted or not, we will always use best practices to secure your data.")])]),n("div",[n("h2",{staticClass:"text-xl lg:text-2xl text-gray-400 uppercase"},[e._v("Transparent Analytics")]),n("p",{staticClass:"lg:text-xl mt-2"},[e._v("We use privacy-first tools to ensure we only track a minimal amount of basic analytics, and all of that information is available to view on our public dashboard. "),n("strong",{staticClass:"font-semibold"},[e._v("We sell software, not data.")])])]),n("div",[n("h2",{staticClass:"text-xl lg:text-2xl text-gray-400 uppercase"},[e._v("No Cookies")]),n("p",{staticClass:"lg:text-xl mt-2"},[e._v("You heard that right! No annoying cookie banners are necessary since we do not use them. We use token-based authentication and cookieless third-party integrations.")])])])])])}];const Nc={name:"Home",components:{GitHubIcon:Jn,TwitterIcon:tr}},Oi={};var Lc=H(Nc,Pc,Oc,!1,jc,null,null,null);function jc(e){for(let r in Oi)this[r]=Oi[r]}var Uc=function(){return Lc.exports}();const er="ADD_CONTEXT",Ni="LOAD_CONTEXT",Li="LOAD_CONTEXTS",nr="REMOVE_CONTEXT";var Fc={state:()=>({all:[]}),getters:{sortedContexts(e,r){return e.all.sort((n,i)=>n.name===i.name?0:n.name<i.name?-1:1)}},mutations:{[er](e,r){e.all.push(r)},[Ni](e,r){e.all.push(r)},[nr](e,r){e.all=e.all.filter(n=>n.id!==r.id)}},actions:{[Li]({commit:e},r){r.forEach(n=>{e(Ni,n)})}}},Kc=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"container flex flex-col mx-auto p-4 md:px-16 md:py-8"},[n("div",[n("h2",{staticClass:"text-2xl"},[e._v("Context Switching")]),n("p",{staticClass:"mt-1 text-gray-500"},[e._v(" A context allows you to focus on what's important now by filtering your docs down to just a handful of relevant tags. ")]),n("div",{staticClass:"mt-4"},[n("label",{attrs:{for:"context-name"}},[e._v("Name it and save it (optional)")]),n("div",{staticClass:"flex items-center mt-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.contextName,expression:"contextName"}],staticClass:"form-text w-full shadow",attrs:{type:"text",id:"context-name",placeholder:"Give this context a name..."},domProps:{value:e.contextName},on:{input:function(i){i.target.composing||(e.contextName=i.target.value)}}}),n("button",{staticClass:"button button-size-medium button-color-gray disabled:text-gray-900 ml-2",attrs:{disabled:!(e.tags.length&&e.contextName)},on:{click:e.save}},[e._v("Save")])]),n("small",{staticClass:"text-gray-700 mt-1 hidden md:block"},[e._v("You must add at least one tag and give the context a name in order to save it.")])]),n("div",{staticClass:"mt-4"},[n("label",{attrs:{for:"tags-search"}},[e._v("Choose some tags")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"form-text w-full mt-2",attrs:{type:"text",id:"tag-search",placeholder:"Start typing to filter the list...",autocomplete:"off"},domProps:{value:e.input},on:{input:[function(i){i.target.composing||(e.input=i.target.value)},e.first],keydown:[function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"space",32,i.key,[" ","Spacebar"])?null:(i.preventDefault(),e.toggleTag.apply(null,arguments))},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")||i.ctrlKey||i.shiftKey||i.altKey||i.metaKey?null:e.toggleTag.apply(null,arguments)},function(i){return!i.type.indexOf("key")&&i.keyCode!==221?null:(i.preventDefault(),e.down.apply(null,arguments))},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"down",40,i.key,["Down","ArrowDown"])?null:(i.preventDefault(),e.down.apply(null,arguments))},function(i){return!i.type.indexOf("key")&&i.keyCode!==219?null:(i.preventDefault(),e.up.apply(null,arguments))},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"up",38,i.key,["Up","ArrowUp"])?null:(i.preventDefault(),e.up.apply(null,arguments))}]}}),e._m(0)]),n("simplebar",{ref:"tagsContainer",staticClass:"border rounded mt-4 overflow-hidden bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700"},[n("div",[e.filtered.length?n("div",e._l(e.filtered,function(i,s){return n("div",{key:i,ref:"tags",refInFor:!0,staticClass:"flex justify-between cursor-pointer p-6 md:p-3 focus-within:ring",class:{"bg-gray-200 dark:bg-gray-700":e.isSelected(i),"bg-blue-300 dark:bg-blue-500":s===e.activeIndex},on:{click:function(a){return e.selectTag(i)}}},[n("div",{staticClass:"flex items-center"},[n("svg",{attrs:{width:"1.25em",height:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-6 md:ml-3 flex-grow"},[e._v(e._s(i))])]),e.isSelected(i)?n("span",[e._v("selected")]):e._e()])}),0):n("div",{staticClass:"flex justify-between p-3"},[e._v("No results...")])])]),n("div",{staticClass:"mt-4"},[n("h3",{staticClass:"text-xl mb-4"},[e._v("Saved Contexts")]),n("div",{staticClass:"grid gap-4 grid-cols-1 lg:grid-cols-2"},e._l(e.contexts,function(i){return n("div",{key:i.id,staticClass:"shadow relative flex flex-col min-w-0 rounded p-4 bg-gray-100 dark:bg-gray-800 dark:text-gray-300"},[n("div",{staticClass:"flex items-center justify-between mb-4"},[n("h4",{staticClass:"text-lg flex items-center"},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}})]),n("span",{staticClass:"ml-2"},[e._v(e._s(i.name))])]),n("button",{staticClass:"button-flat button-size-medium text-sm text-red-500 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700",on:{click:function(s){return e.discard(i)}}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})]),n("span",{staticClass:"ml-2"},[e._v("Discard")])])]),n("div",{staticClass:"flex items-center flex-wrap"},e._l(i.tags,function(s){return n("div",{key:s,staticClass:"flex items-center mr-6"},[n("svg",{attrs:{width:"1.25em",height:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}})]),n("span",{staticClass:"ml-2 flex-grow"},[e._v(e._s(s))])])}),0)])}),0)])],1)])},Bc=[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("small",{staticClass:"text-gray-700 mt-1 hidden md:block"},[e._v("Navigate the list below with "),n("span",{staticClass:"key"},[e._v("up")]),e._v(" or "),n("span",{staticClass:"key"},[e._v("down")]),e._v(" and toggle tags with "),n("span",{staticClass:"key"},[e._v("space")]),e._v(" or "),n("span",{staticClass:"key"},[e._v("enter")])])}];const Hc={name:"Context",components:{simplebar:Ce,Tag:Ee},data(){return{activeIndex:0,contextName:"",input:""}},computed:{availableTags(){return this.$store.getters.allTags},contexts(){return this.$store.getters.sortedContexts},filtered(){return this.availableTags.filter(e=>e.startsWith(this.input.toLowerCase()))},selected(){return this.tags.sort()},tags(){return this.$store.state.context.tags}},methods:{discard(e){this.$store.commit(nr,e)},down(){this.activeIndex<this.filtered.length-1&&(this.activeIndex+=1,this.scroll())},first(){this.activeIndex=0,this.$refs.tagsContainer.scrollElement.scroll(0,0)},focusInput(){this.$refs.input.focus()},save(){this.$store.commit(er,{id:Gr(),name:this.contextName,tags:this.tags}),this.contextName="",this.$store.dispatch(oe,{context:{tags:[]}})},scroll(){const e=this.$refs.tagsContainer.scrollElement,r=this.$refs.tags[this.activeIndex],n=e.scrollTop,i=e.offsetHeight,s=r.offsetTop,a=r.offsetHeight;if(s+a-n>i){const o=s-i+a;e.scroll(0,o)}else s<n&&e.scroll(0,s)},selectTag(e){this.activeIndex=this.filtered.findIndex(r=>r===e),this.toggleTag(),this.focusInput(),this.scroll()},isSelected(e){return this.tags.includes(e)},toggleTag(){const e=this.filtered[this.activeIndex];if(e){let r=this.tags;r.includes(e)?r=r.filter(n=>n!==e):r=r.concat([e]),this.$store.dispatch(oe,{context:{tags:r}})}},up(){this.activeIndex>0&&(this.activeIndex-=1,this.scroll())}},mounted(){this.$store.state.context.editing=!0,this.focusInput()},beforeDestroy(){this.$store.state.context.editing=!1}},ji={};var Gc=H(Hc,Kc,Bc,!1,qc,"5286008f",null,null);function qc(e){for(let r in ji)this[r]=ji[r]}var Vc=function(){return Gc.exports}(),Yc=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"container mx-auto sm:px-4 flex"},[n("MarkdownEditor",{ref:"editable",staticClass:"editable w-full",attrs:{value:e.value}})],1)},Wc=[];const Xc={name:"Exporter",components:{MarkdownEditor:Hn},computed:{value(){return JSON.stringify(this.$store.state.documents.all,null,2)}},methods:{focus(){this.$refs.editable.focus()}},mounted(){this.focus()}},Ui={};var Zc=H(Xc,Yc,Wc,!1,Qc,null,null,null);function Qc(e){for(let r in Ui)this[r]=Ui[r]}var Jc=function(){return Zc.exports}(),rr="http://www.w3.org/1999/xhtml",Fi={svg:"http://www.w3.org/2000/svg",xhtml:rr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vn(e){var r=e+="",n=r.indexOf(":");return n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fi.hasOwnProperty(r)?{space:Fi[r],local:e}:e}function tu(e){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===rr&&r.documentElement.namespaceURI===rr?r.createElement(e):r.createElementNS(n,e)}}function eu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ki(e){var r=vn(e);return(r.local?eu:tu)(r)}function nu(){}function ir(e){return e==null?nu:function(){return this.querySelector(e)}}function ru(e){typeof e!="function"&&(e=ir(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var a=r[s],o=a.length,l=i[s]=new Array(o),c,u,f=0;f<o;++f)(c=a[f])&&(u=e.call(c,c.__data__,f,a))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new ft(i,this._parents)}function iu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function su(){return[]}function Bi(e){return e==null?su:function(){return this.querySelectorAll(e)}}function au(e){return function(){return iu(e.apply(this,arguments))}}function ou(e){typeof e=="function"?e=au(e):e=Bi(e);for(var r=this._groups,n=r.length,i=[],s=[],a=0;a<n;++a)for(var o=r[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(i.push(e.call(c,c.__data__,u,o)),s.push(c));return new ft(i,s)}function Hi(e){return function(){return this.matches(e)}}function Gi(e){return function(r){return r.matches(e)}}var lu=Array.prototype.find;function cu(e){return function(){return lu.call(this.children,e)}}function uu(){return this.firstElementChild}function hu(e){return this.select(e==null?uu:cu(typeof e=="function"?e:Gi(e)))}var fu=Array.prototype.filter;function du(){return Array.from(this.children)}function pu(e){return function(){return fu.call(this.children,e)}}function gu(e){return this.selectAll(e==null?du:pu(typeof e=="function"?e:Gi(e)))}function mu(e){typeof e!="function"&&(e=Hi(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var a=r[s],o=a.length,l=i[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new ft(i,this._parents)}function qi(e){return new Array(e.length)}function vu(){return new ft(this._enter||this._groups.map(qi),this._parents)}function yn(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}yn.prototype={constructor:yn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yu(e){return function(){return e}}function _u(e,r,n,i,s,a){for(var o=0,l,c=r.length,u=a.length;o<u;++o)(l=r[o])?(l.__data__=a[o],i[o]=l):n[o]=new yn(e,a[o]);for(;o<c;++o)(l=r[o])&&(s[o]=l)}function wu(e,r,n,i,s,a,o){var l,c,u=new Map,f=r.length,h=a.length,d=new Array(f),p;for(l=0;l<f;++l)(c=r[l])&&(d[l]=p=o.call(c,c.__data__,l,r)+"",u.has(p)?s[l]=c:u.set(p,c));for(l=0;l<h;++l)p=o.call(e,a[l],l,a)+"",(c=u.get(p))?(i[l]=c,c.__data__=a[l],u.delete(p)):n[l]=new yn(e,a[l]);for(l=0;l<f;++l)(c=r[l])&&u.get(d[l])===c&&(s[l]=c)}function xu(e){return e.__data__}function bu(e,r){if(!arguments.length)return Array.from(this,xu);var n=r?wu:_u,i=this._parents,s=this._groups;typeof e!="function"&&(e=yu(e));for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],h=s[u],d=h.length,p=Cu(e.call(f,f&&f.__data__,u,i)),y=p.length,x=l[u]=new Array(y),C=o[u]=new Array(y),m=c[u]=new Array(d);n(f,h,x,C,m,p,r);for(var S=0,A=0,_,w;S<y;++S)if(_=x[S]){for(S>=A&&(A=S+1);!(w=C[A])&&++A<y;);_._next=w||null}}return o=new ft(o,i),o._enter=l,o._exit=c,o}function Cu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ku(){return new ft(this._exit||this._groups.map(qi),this._parents)}function Eu(e,r,n){var i=this.enter(),s=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),r!=null&&(s=r(s),s&&(s=s.selection())),n==null?a.remove():n(a),i&&s?i.merge(s).order():s}function Au(e){for(var r=e.selection?e.selection():e,n=this._groups,i=r._groups,s=n.length,a=i.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var u=n[c],f=i[c],h=u.length,d=l[c]=new Array(h),p,y=0;y<h;++y)(p=u[y]||f[y])&&(d[y]=p);for(;c<s;++c)l[c]=n[c];return new ft(l,this._parents)}function Su(){for(var e=this._groups,r=-1,n=e.length;++r<n;)for(var i=e[r],s=i.length-1,a=i[s],o;--s>=0;)(o=i[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Tu(e){e||(e=Mu);function r(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a){for(var o=n[a],l=o.length,c=s[a]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(c[f]=u);c.sort(r)}return new ft(s,this._parents).order()}function Mu(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function $u(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Iu(){return Array.from(this)}function Du(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],s=0,a=i.length;s<a;++s){var o=i[s];if(o)return o}return null}function Ru(){let e=0;for(const r of this)++e;return e}function zu(){return!this.node()}function Pu(e){for(var r=this._groups,n=0,i=r.length;n<i;++n)for(var s=r[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function Ou(e){return function(){this.removeAttribute(e)}}function Nu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lu(e,r){return function(){this.setAttribute(e,r)}}function ju(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Uu(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Fu(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ku(e,r){var n=vn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((r==null?n.local?Nu:Ou:typeof r=="function"?n.local?Fu:Uu:n.local?ju:Lu)(n,r))}function Vi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bu(e){return function(){this.style.removeProperty(e)}}function Hu(e,r,n){return function(){this.style.setProperty(e,r,n)}}function Gu(e,r,n){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function qu(e,r,n){return arguments.length>1?this.each((r==null?Bu:typeof r=="function"?Gu:Hu)(e,r,n==null?"":n)):pe(this.node(),e)}function pe(e,r){return e.style.getPropertyValue(r)||Vi(e).getComputedStyle(e,null).getPropertyValue(r)}function Vu(e){return function(){delete this[e]}}function Yu(e,r){return function(){this[e]=r}}function Wu(e,r){return function(){var n=r.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Xu(e,r){return arguments.length>1?this.each((r==null?Vu:typeof r=="function"?Wu:Yu)(e,r)):this.node()[e]}function Yi(e){return e.trim().split(/^|\s+/)}function sr(e){return e.classList||new Wi(e)}function Wi(e){this._node=e,this._names=Yi(e.getAttribute("class")||"")}Wi.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Xi(e,r){for(var n=sr(e),i=-1,s=r.length;++i<s;)n.add(r[i])}function Zi(e,r){for(var n=sr(e),i=-1,s=r.length;++i<s;)n.remove(r[i])}function Zu(e){return function(){Xi(this,e)}}function Qu(e){return function(){Zi(this,e)}}function Ju(e,r){return function(){(r.apply(this,arguments)?Xi:Zi)(this,e)}}function th(e,r){var n=Yi(e+"");if(arguments.length<2){for(var i=sr(this.node()),s=-1,a=n.length;++s<a;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof r=="function"?Ju:r?Zu:Qu)(n,r))}function eh(){this.textContent=""}function nh(e){return function(){this.textContent=e}}function rh(e){return function(){var r=e.apply(this,arguments);this.textContent=r==null?"":r}}function ih(e){return arguments.length?this.each(e==null?eh:(typeof e=="function"?rh:nh)(e)):this.node().textContent}function sh(){this.innerHTML=""}function ah(e){return function(){this.innerHTML=e}}function oh(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r==null?"":r}}function lh(e){return arguments.length?this.each(e==null?sh:(typeof e=="function"?oh:ah)(e)):this.node().innerHTML}function ch(){this.nextSibling&&this.parentNode.appendChild(this)}function uh(){return this.each(ch)}function hh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fh(){return this.each(hh)}function dh(e){var r=typeof e=="function"?e:Ki(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function ph(){return null}function gh(e,r){var n=typeof e=="function"?e:Ki(e),i=r==null?ph:typeof r=="function"?r:ir(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function mh(){var e=this.parentNode;e&&e.removeChild(this)}function vh(){return this.each(mh)}function yh(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function _h(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function wh(e){return this.select(e?_h:yh)}function xh(e){return arguments.length?this.property("__data__",e):this.node().__data__}function bh(e){return function(r){e.call(this,r,this.__data__)}}function Ch(e){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");return i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),{type:r,name:n}})}function kh(e){return function(){var r=this.__on;if(!!r){for(var n=0,i=-1,s=r.length,a;n<s;++n)a=r[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):r[++i]=a;++i?r.length=i:delete this.__on}}}function Eh(e,r,n){return function(){var i=this.__on,s,a=bh(r);if(i){for(var o=0,l=i.length;o<l;++o)if((s=i[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=r;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:r,listener:a,options:n},i?i.push(s):this.__on=[s]}}function Ah(e,r,n){var i=Ch(e+""),s,a=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(s=0,f=l[c];s<a;++s)if((o=i[s]).type===f.type&&o.name===f.name)return f.value}return}for(l=r?Eh:kh,s=0;s<a;++s)this.each(l(i[s],r,n));return this}function Qi(e,r,n){var i=Vi(e),s=i.CustomEvent;typeof s=="function"?s=new s(r,n):(s=i.document.createEvent("Event"),n?(s.initEvent(r,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(r,!1,!1)),e.dispatchEvent(s)}function Sh(e,r){return function(){return Qi(this,e,r)}}function Th(e,r){return function(){return Qi(this,e,r.apply(this,arguments))}}function Mh(e,r){return this.each((typeof r=="function"?Th:Sh)(e,r))}function*$h(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],s=0,a=i.length,o;s<a;++s)(o=i[s])&&(yield o)}var Ji=[null];function ft(e,r){this._groups=e,this._parents=r}function Oe(){return new ft([[document.documentElement]],Ji)}function Ih(){return this}ft.prototype=Oe.prototype={constructor:ft,select:ru,selectAll:ou,selectChild:hu,selectChildren:gu,filter:mu,data:bu,enter:vu,exit:ku,join:Eu,merge:Au,selection:Ih,order:Su,sort:Tu,call:$u,nodes:Iu,node:Du,size:Ru,empty:zu,each:Pu,attr:Ku,style:qu,property:Xu,classed:th,text:ih,html:lh,raise:uh,lower:fh,append:dh,insert:gh,remove:vh,clone:wh,datum:xh,on:Ah,dispatch:Mh,[Symbol.iterator]:$h};function wt(e){return typeof e=="string"?new ft([[document.querySelector(e)]],[document.documentElement]):new ft([[e]],Ji)}function Dh(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Dt(e,r){if(e=Dh(e),r===void 0&&(r=e.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var s=r.getBoundingClientRect();return[e.clientX-s.left-r.clientLeft,e.clientY-s.top-r.clientTop]}}return[e.pageX,e.pageY]}var Rh={value:()=>{}};function Ne(){for(var e=0,r=arguments.length,n={},i;e<r;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new _n(n)}function _n(e){this._=e}function zh(e,r){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}_n.prototype=Ne.prototype={constructor:_n,on:function(e,r){var n=this._,i=zh(e+"",n),s,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((s=(e=i[a]).type)&&(s=Ph(n[s],e.name)))return s;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<o;)if(s=(e=i[a]).type)n[s]=ts(n[s],e.name,r);else if(r==null)for(s in n)n[s]=ts(n[s],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new _n(e)},call:function(e,r){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,a;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,s=a.length;i<s;++i)a[i].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,a=i.length;s<a;++s)i[s].value.apply(r,n)}};function Ph(e,r){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===r)return s.value}function ts(e,r,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===r){e[i]=Rh,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:r,value:n}),e}const Oh={passive:!1},Le={capture:!0,passive:!1};function ar(e){e.stopImmediatePropagation()}function ge(e){e.preventDefault(),e.stopImmediatePropagation()}function es(e){var r=e.document.documentElement,n=wt(e).on("dragstart.drag",ge,Le);"onselectstart"in r?n.on("selectstart.drag",ge,Le):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function ns(e,r){var n=e.document.documentElement,i=wt(e).on("dragstart.drag",null);r&&(i.on("click.drag",ge,Le),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var wn=e=>()=>e;function or(e,{sourceEvent:r,subject:n,target:i,identifier:s,active:a,x:o,y:l,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}or.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Nh(e){return!e.ctrlKey&&!e.button}function Lh(){return this.parentNode}function jh(e,r){return r==null?{x:e.x,y:e.y}:r}function Uh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fh(){var e=Nh,r=Lh,n=jh,i=Uh,s={},a=Ne("start","drag","end"),o=0,l,c,u,f,h=0;function d(_){_.on("mousedown.drag",p).filter(i).on("touchstart.drag",C).on("touchmove.drag",m,Oh).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,w){if(!(f||!e.call(this,_,w))){var T=A(this,r.call(this,_,w),_,w,"mouse");!T||(wt(_.view).on("mousemove.drag",y,Le).on("mouseup.drag",x,Le),es(_.view),ar(_),u=!1,l=_.clientX,c=_.clientY,T("start",_))}}function y(_){if(ge(_),!u){var w=_.clientX-l,T=_.clientY-c;u=w*w+T*T>h}s.mouse("drag",_)}function x(_){wt(_.view).on("mousemove.drag mouseup.drag",null),ns(_.view,u),ge(_),s.mouse("end",_)}function C(_,w){if(!!e.call(this,_,w)){var T=_.changedTouches,E=r.call(this,_,w),M=T.length,L,O;for(L=0;L<M;++L)(O=A(this,E,_,w,T[L].identifier,T[L]))&&(ar(_),O("start",_,T[L]))}}function m(_){var w=_.changedTouches,T=w.length,E,M;for(E=0;E<T;++E)(M=s[w[E].identifier])&&(ge(_),M("drag",_,w[E]))}function S(_){var w=_.changedTouches,T=w.length,E,M;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),E=0;E<T;++E)(M=s[w[E].identifier])&&(ar(_),M("end",_,w[E]))}function A(_,w,T,E,M,L){var O=a.copy(),U=Dt(L||T,w),F,V,k;if((k=n.call(_,new or("beforestart",{sourceEvent:T,target:d,identifier:M,active:o,x:U[0],y:U[1],dx:0,dy:0,dispatch:O}),E))!=null)return F=k.x-U[0]||0,V=k.y-U[1]||0,function R($,j,K){var B=U,P;switch($){case"start":s[M]=R,P=o++;break;case"end":delete s[M],--o;case"drag":U=Dt(K||j,w),P=o;break}O.call($,_,new or($,{sourceEvent:j,subject:k,target:d,identifier:M,active:P,x:U[0]+F,y:U[1]+V,dx:U[0]-B[0],dy:U[1]-B[1],dispatch:O}),E)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:wn(!!_),d):e},d.container=function(_){return arguments.length?(r=typeof _=="function"?_:wn(_),d):r},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:wn(_),d):n},d.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:wn(!!_),d):i},d.on=function(){var _=a.on.apply(a,arguments);return _===a?d:_},d.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,d):Math.sqrt(h)},d}function lr(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function rs(e,r){var n=Object.create(e.prototype);for(var i in r)n[i]=r[i];return n}function je(){}var Ue=.7,xn=1/Ue,me="\\s*([+-]?\\d+)\\s*",Fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kh=/^#([0-9a-f]{3,8})$/,Bh=new RegExp("^rgb\\("+[me,me,me]+"\\)$"),Hh=new RegExp("^rgb\\("+[kt,kt,kt]+"\\)$"),Gh=new RegExp("^rgba\\("+[me,me,me,Fe]+"\\)$"),qh=new RegExp("^rgba\\("+[kt,kt,kt,Fe]+"\\)$"),Vh=new RegExp("^hsl\\("+[Fe,kt,kt]+"\\)$"),Yh=new RegExp("^hsla\\("+[Fe,kt,kt,Fe]+"\\)$"),is={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lr(je,Ke,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ss,formatHex:ss,formatHsl:Wh,formatRgb:as,toString:as});function ss(){return this.rgb().formatHex()}function Wh(){return hs(this).formatHsl()}function as(){return this.rgb().formatRgb()}function Ke(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=Kh.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?os(r):n===3?new dt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?bn(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?bn(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Bh.exec(e))?new dt(r[1],r[2],r[3],1):(r=Hh.exec(e))?new dt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Gh.exec(e))?bn(r[1],r[2],r[3],r[4]):(r=qh.exec(e))?bn(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Vh.exec(e))?us(r[1],r[2]/100,r[3]/100,1):(r=Yh.exec(e))?us(r[1],r[2]/100,r[3]/100,r[4]):is.hasOwnProperty(e)?os(is[e]):e==="transparent"?new dt(NaN,NaN,NaN,0):null}function os(e){return new dt(e>>16&255,e>>8&255,e&255,1)}function bn(e,r,n,i){return i<=0&&(e=r=n=NaN),new dt(e,r,n,i)}function Xh(e){return e instanceof je||(e=Ke(e)),e?(e=e.rgb(),new dt(e.r,e.g,e.b,e.opacity)):new dt}function cr(e,r,n,i){return arguments.length===1?Xh(e):new dt(e,r,n,i==null?1:i)}function dt(e,r,n,i){this.r=+e,this.g=+r,this.b=+n,this.opacity=+i}lr(dt,cr,rs(je,{brighter:function(e){return e=e==null?xn:Math.pow(xn,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Ue:Math.pow(Ue,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ls,formatHex:ls,formatRgb:cs,toString:cs}));function ls(){return"#"+ur(this.r)+ur(this.g)+ur(this.b)}function cs(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function ur(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function us(e,r,n,i){return i<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new Et(e,r,n,i)}function hs(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(e instanceof je||(e=Ke(e)),!e)return new Et;if(e instanceof Et)return e;e=e.rgb();var r=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(r,n,i),a=Math.max(r,n,i),o=NaN,l=a-s,c=(a+s)/2;return l?(r===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-r)/l+2:o=(r-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Et(o,l,c,e.opacity)}function Zh(e,r,n,i){return arguments.length===1?hs(e):new Et(e,r,n,i==null?1:i)}function Et(e,r,n,i){this.h=+e,this.s=+r,this.l=+n,this.opacity=+i}lr(Et,Zh,rs(je,{brighter:function(e){return e=e==null?xn:Math.pow(xn,e),new Et(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ue:Math.pow(Ue,e),new Et(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,s=2*n-i;return new dt(hr(e>=240?e-240:e+120,s,i),hr(e,s,i),hr(e<120?e+240:e-120,s,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function hr(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}var fs=e=>()=>e;function Qh(e,r){return function(n){return e+n*r}}function Jh(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(i){return Math.pow(e+i*r,n)}}function tf(e){return(e=+e)==1?ds:function(r,n){return n-r?Jh(r,n,e):fs(isNaN(r)?n:r)}}function ds(e,r){var n=r-e;return n?Qh(e,n):fs(isNaN(e)?r:e)}var ps=function e(r){var n=tf(r);function i(s,a){var o=n((s=cr(s)).r,(a=cr(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=ds(s.opacity,a.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return i.gamma=e,i}(1);function qt(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}var fr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dr=new RegExp(fr.source,"g");function ef(e){return function(){return e}}function nf(e){return function(r){return e(r)+""}}function rf(e,r){var n=fr.lastIndex=dr.lastIndex=0,i,s,a,o=-1,l=[],c=[];for(e=e+"",r=r+"";(i=fr.exec(e))&&(s=dr.exec(r));)(a=s.index)>n&&(a=r.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:qt(i,s)})),n=dr.lastIndex;return n<r.length&&(a=r.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?nf(c[0].x):ef(r):(r=c.length,function(u){for(var f=0,h;f<r;++f)l[(h=c[f]).i]=h.x(u);return l.join("")})}var gs=180/Math.PI,pr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ms(e,r,n,i,s,a){var o,l,c;return(o=Math.sqrt(e*e+r*r))&&(e/=o,r/=o),(c=e*n+r*i)&&(n-=e*c,i-=r*c),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,c/=l),e*i<r*n&&(e=-e,r=-r,c=-c,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(r,e)*gs,skewX:Math.atan(c)*gs,scaleX:o,scaleY:l}}var Cn;function sf(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?pr:ms(r.a,r.b,r.c,r.d,r.e,r.f)}function af(e){return e==null||(Cn||(Cn=document.createElementNS("http://www.w3.org/2000/svg","g")),Cn.setAttribute("transform",e),!(e=Cn.transform.baseVal.consolidate()))?pr:(e=e.matrix,ms(e.a,e.b,e.c,e.d,e.e,e.f))}function vs(e,r,n,i){function s(u){return u.length?u.pop()+" ":""}function a(u,f,h,d,p,y){if(u!==h||f!==d){var x=p.push("translate(",null,r,null,n);y.push({i:x-4,x:qt(u,h)},{i:x-2,x:qt(f,d)})}else(h||d)&&p.push("translate("+h+r+d+n)}function o(u,f,h,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:h.push(s(h)+"rotate(",null,i)-2,x:qt(u,f)})):f&&h.push(s(h)+"rotate("+f+i)}function l(u,f,h,d){u!==f?d.push({i:h.push(s(h)+"skewX(",null,i)-2,x:qt(u,f)}):f&&h.push(s(h)+"skewX("+f+i)}function c(u,f,h,d,p,y){if(u!==h||f!==d){var x=p.push(s(p)+"scale(",null,",",null,")");y.push({i:x-4,x:qt(u,h)},{i:x-2,x:qt(f,d)})}else(h!==1||d!==1)&&p.push(s(p)+"scale("+h+","+d+")")}return function(u,f){var h=[],d=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,h,d),o(u.rotate,f.rotate,h,d),l(u.skewX,f.skewX,h,d),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,d),u=f=null,function(p){for(var y=-1,x=d.length,C;++y<x;)h[(C=d[y]).i]=C.x(p);return h.join("")}}}var of=vs(sf,"px, ","px)","deg)"),lf=vs(af,", ",")",")"),cf=1e-12;function ys(e){return((e=Math.exp(e))+1/e)/2}function uf(e){return((e=Math.exp(e))-1/e)/2}function hf(e){return((e=Math.exp(2*e))-1)/(e+1)}var ff=function e(r,n,i){function s(a,o){var l=a[0],c=a[1],u=a[2],f=o[0],h=o[1],d=o[2],p=f-l,y=h-c,x=p*p+y*y,C,m;if(x<cf)m=Math.log(d/u)/r,C=function(E){return[l+E*p,c+E*y,u*Math.exp(r*E*m)]};else{var S=Math.sqrt(x),A=(d*d-u*u+i*x)/(2*u*n*S),_=(d*d-u*u-i*x)/(2*d*n*S),w=Math.log(Math.sqrt(A*A+1)-A),T=Math.log(Math.sqrt(_*_+1)-_);m=(T-w)/r,C=function(E){var M=E*m,L=ys(w),O=u/(n*S)*(L*hf(r*M+w)-uf(w));return[l+O*p,c+O*y,u*L/ys(r*M+w)]}}return C.duration=m*1e3*r/Math.SQRT2,C}return s.rho=function(a){var o=Math.max(.001,+a),l=o*o,c=l*l;return e(o,l,c)},s}(Math.SQRT2,2,4),ve=0,Be=0,He=0,_s=1e3,kn,Ge,En=0,te=0,An=0,qe=typeof performance=="object"&&performance.now?performance:Date,ws=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gr(){return te||(ws(df),te=qe.now()+An)}function df(){te=0}function Sn(){this._call=this._time=this._next=null}Sn.prototype=mr.prototype={constructor:Sn,restart:function(e,r,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gr():+n)+(r==null?0:+r),!this._next&&Ge!==this&&(Ge?Ge._next=this:kn=this,Ge=this),this._call=e,this._time=n,vr()},stop:function(){this._call&&(this._call=null,this._time=1/0,vr())}};function mr(e,r,n){var i=new Sn;return i.restart(e,r,n),i}function pf(){gr(),++ve;for(var e=kn,r;e;)(r=te-e._time)>=0&&e._call.call(void 0,r),e=e._next;--ve}function xs(){te=(En=qe.now())+An,ve=Be=0;try{pf()}finally{ve=0,mf(),te=0}}function gf(){var e=qe.now(),r=e-En;r>_s&&(An-=r,En=e)}function mf(){for(var e,r=kn,n,i=1/0;r;)r._call?(i>r._time&&(i=r._time),e=r,r=r._next):(n=r._next,r._next=null,r=e?e._next=n:kn=n);Ge=e,vr(i)}function vr(e){if(!ve){Be&&(Be=clearTimeout(Be));var r=e-te;r>24?(e<1/0&&(Be=setTimeout(xs,e-qe.now()-An)),He&&(He=clearInterval(He))):(He||(En=qe.now(),He=setInterval(gf,_s)),ve=1,ws(xs))}}function bs(e,r,n){var i=new Sn;return r=r==null?0:+r,i.restart(s=>{i.stop(),e(s+r)},r,n),i}var vf=Ne("start","end","cancel","interrupt"),yf=[],Cs=0,ks=1,yr=2,Tn=3,Es=4,_r=5,Mn=6;function $n(e,r,n,i,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;_f(e,n,{name:r,index:i,group:s,on:vf,tween:yf,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Cs})}function wr(e,r){var n=xt(e,r);if(n.state>Cs)throw new Error("too late; already scheduled");return n}function At(e,r){var n=xt(e,r);if(n.state>Tn)throw new Error("too late; already running");return n}function xt(e,r){var n=e.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function _f(e,r,n){var i=e.__transition,s;i[r]=n,n.timer=mr(a,0,n.time);function a(u){n.state=ks,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,h,d,p;if(n.state!==ks)return c();for(f in i)if(p=i[f],p.name===n.name){if(p.state===Tn)return bs(o);p.state===Es?(p.state=Mn,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[f]):+f<r&&(p.state=Mn,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[f])}if(bs(function(){n.state===Tn&&(n.state=Es,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=yr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===yr){for(n.state=Tn,s=new Array(d=n.tween.length),f=0,h=-1;f<d;++f)(p=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++h]=p);s.length=h+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=_r,1),h=-1,d=s.length;++h<d;)s[h].call(e,f);n.state===_r&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Mn,n.timer.stop(),delete i[r];for(var u in i)return;delete e.__transition}}function In(e,r){var n=e.__transition,i,s,a=!0,o;if(!!n){r=r==null?null:r+"";for(o in n){if((i=n[o]).name!==r){a=!1;continue}s=i.state>yr&&i.state<_r,i.state=Mn,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function wf(e){return this.each(function(){In(this,e)})}function xf(e,r){var n,i;return function(){var s=At(this,e),a=s.tween;if(a!==n){i=n=a;for(var o=0,l=i.length;o<l;++o)if(i[o].name===r){i=i.slice(),i.splice(o,1);break}}s.tween=i}}function bf(e,r,n){var i,s;if(typeof n!="function")throw new Error;return function(){var a=At(this,e),o=a.tween;if(o!==i){s=(i=o).slice();for(var l={name:r,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===r){s[c]=l;break}c===u&&s.push(l)}a.tween=s}}function Cf(e,r){var n=this._id;if(e+="",arguments.length<2){for(var i=xt(this.node(),n).tween,s=0,a=i.length,o;s<a;++s)if((o=i[s]).name===e)return o.value;return null}return this.each((r==null?xf:bf)(n,e,r))}function xr(e,r,n){var i=e._id;return e.each(function(){var s=At(this,i);(s.value||(s.value={}))[r]=n.apply(this,arguments)}),function(s){return xt(s,i).value[r]}}function As(e,r){var n;return(typeof r=="number"?qt:r instanceof Ke?ps:(n=Ke(r))?(r=n,ps):rf)(e,r)}function kf(e){return function(){this.removeAttribute(e)}}function Ef(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Af(e,r,n){var i,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===i?a:a=r(i=o,n)}}function Sf(e,r,n){var i,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?a:a=r(i=o,n)}}function Tf(e,r,n){var i,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===i&&c===s?a:(s=c,a=r(i=o,l)))}}function Mf(e,r,n){var i,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===i&&c===s?a:(s=c,a=r(i=o,l)))}}function $f(e,r){var n=vn(e),i=n==="transform"?lf:As;return this.attrTween(e,typeof r=="function"?(n.local?Mf:Tf)(n,i,xr(this,"attr."+e,r)):r==null?(n.local?Ef:kf)(n):(n.local?Sf:Af)(n,i,r))}function If(e,r){return function(n){this.setAttribute(e,r.call(this,n))}}function Df(e,r){return function(n){this.setAttributeNS(e.space,e.local,r.call(this,n))}}function Rf(e,r){var n,i;function s(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&Df(e,a)),n}return s._value=r,s}function zf(e,r){var n,i;function s(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&If(e,a)),n}return s._value=r,s}function Pf(e,r){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var i=vn(e);return this.tween(n,(i.local?Rf:zf)(i,r))}function Of(e,r){return function(){wr(this,e).delay=+r.apply(this,arguments)}}function Nf(e,r){return r=+r,function(){wr(this,e).delay=r}}function Lf(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Of:Nf)(r,e)):xt(this.node(),r).delay}function jf(e,r){return function(){At(this,e).duration=+r.apply(this,arguments)}}function Uf(e,r){return r=+r,function(){At(this,e).duration=r}}function Ff(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?jf:Uf)(r,e)):xt(this.node(),r).duration}function Kf(e,r){if(typeof r!="function")throw new Error;return function(){At(this,e).ease=r}}function Bf(e){var r=this._id;return arguments.length?this.each(Kf(r,e)):xt(this.node(),r).ease}function Hf(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;At(this,e).ease=n}}function Gf(e){if(typeof e!="function")throw new Error;return this.each(Hf(this._id,e))}function qf(e){typeof e!="function"&&(e=Hi(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var a=r[s],o=a.length,l=i[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Rt(i,this._parents,this._name,this._id)}function Vf(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,n=e._groups,i=r.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=r[l],u=n[l],f=c.length,h=o[l]=new Array(f),d,p=0;p<f;++p)(d=c[p]||u[p])&&(h[p]=d);for(;l<i;++l)o[l]=r[l];return new Rt(o,this._parents,this._name,this._id)}function Yf(e){return(e+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function Wf(e,r,n){var i,s,a=Yf(r)?wr:At;return function(){var o=a(this,e),l=o.on;l!==i&&(s=(i=l).copy()).on(r,n),o.on=s}}function Xf(e,r){var n=this._id;return arguments.length<2?xt(this.node(),n).on.on(e):this.each(Wf(n,e,r))}function Zf(e){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==e)return;r&&r.removeChild(this)}}function Qf(){return this.on("end.remove",Zf(this._id))}function Jf(e){var r=this._name,n=this._id;typeof e!="function"&&(e=ir(e));for(var i=this._groups,s=i.length,a=new Array(s),o=0;o<s;++o)for(var l=i[o],c=l.length,u=a[o]=new Array(c),f,h,d=0;d<c;++d)(f=l[d])&&(h=e.call(f,f.__data__,d,l))&&("__data__"in f&&(h.__data__=f.__data__),u[d]=h,$n(u[d],r,n,d,u,xt(f,n)));return new Rt(a,this._parents,r,n)}function td(e){var r=this._name,n=this._id;typeof e!="function"&&(e=Bi(e));for(var i=this._groups,s=i.length,a=[],o=[],l=0;l<s;++l)for(var c=i[l],u=c.length,f,h=0;h<u;++h)if(f=c[h]){for(var d=e.call(f,f.__data__,h,c),p,y=xt(f,n),x=0,C=d.length;x<C;++x)(p=d[x])&&$n(p,r,n,x,d,y);a.push(d),o.push(f)}return new Rt(a,o,r,n)}var ed=Oe.prototype.constructor;function nd(){return new ed(this._groups,this._parents)}function rd(e,r){var n,i,s;return function(){var a=pe(this,e),o=(this.style.removeProperty(e),pe(this,e));return a===o?null:a===n&&o===i?s:s=r(n=a,i=o)}}function Ss(e){return function(){this.style.removeProperty(e)}}function id(e,r,n){var i,s=n+"",a;return function(){var o=pe(this,e);return o===s?null:o===i?a:a=r(i=o,n)}}function sd(e,r,n){var i,s,a;return function(){var o=pe(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),pe(this,e))),o===c?null:o===i&&c===s?a:(s=c,a=r(i=o,l))}}function ad(e,r){var n,i,s,a="style."+r,o="end."+a,l;return function(){var c=At(this,e),u=c.on,f=c.value[a]==null?l||(l=Ss(r)):void 0;(u!==n||s!==f)&&(i=(n=u).copy()).on(o,s=f),c.on=i}}function od(e,r,n){var i=(e+="")==="transform"?of:As;return r==null?this.styleTween(e,rd(e,i)).on("end.style."+e,Ss(e)):typeof r=="function"?this.styleTween(e,sd(e,i,xr(this,"style."+e,r))).each(ad(this._id,e)):this.styleTween(e,id(e,i,r),n).on("end.style."+e,null)}function ld(e,r,n){return function(i){this.style.setProperty(e,r.call(this,i),n)}}function cd(e,r,n){var i,s;function a(){var o=r.apply(this,arguments);return o!==s&&(i=(s=o)&&ld(e,o,n)),i}return a._value=r,a}function ud(e,r,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,cd(e,r,n==null?"":n))}function hd(e){return function(){this.textContent=e}}function fd(e){return function(){var r=e(this);this.textContent=r==null?"":r}}function dd(e){return this.tween("text",typeof e=="function"?fd(xr(this,"text",e)):hd(e==null?"":e+""))}function pd(e){return function(r){this.textContent=e.call(this,r)}}function gd(e){var r,n;function i(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&pd(s)),r}return i._value=e,i}function md(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,gd(e))}function vd(){for(var e=this._name,r=this._id,n=Ts(),i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var f=xt(c,r);$n(c,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Rt(i,this._parents,e,n)}function yd(){var e,r,n=this,i=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--s==0&&a()}};n.each(function(){var u=At(this,i),f=u.on;f!==e&&(r=(e=f).copy(),r._.cancel.push(l),r._.interrupt.push(l),r._.end.push(c)),u.on=r}),s===0&&a()})}var _d=0;function Rt(e,r,n,i){this._groups=e,this._parents=r,this._name=n,this._id=i}function Ts(){return++_d}var zt=Oe.prototype;Rt.prototype={constructor:Rt,select:Jf,selectAll:td,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:qf,merge:Vf,selection:nd,transition:vd,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:Xf,attr:$f,attrTween:Pf,style:od,styleTween:ud,text:dd,textTween:md,remove:Qf,tween:Cf,delay:Lf,duration:Ff,ease:Bf,easeVarying:Gf,end:yd,[Symbol.iterator]:zt[Symbol.iterator]};function wd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var xd={time:null,delay:0,duration:250,ease:wd};function bd(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function Cd(e){var r,n;e instanceof Rt?(r=e._id,e=e._name):(r=Ts(),(n=xd).time=gr(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&$n(c,e,r,u,o,n||bd(c,r));return new Rt(i,this._parents,e,r)}Oe.prototype.interrupt=wf;Oe.prototype.transition=Cd;var Dn=e=>()=>e;function kd(e,{sourceEvent:r,target:n,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Pt(e,r,n){this.k=e,this.x=r,this.y=n}Pt.prototype={constructor:Pt,scale:function(e){return e===1?this:new Pt(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new Pt(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var br=new Pt(1,0,0);St.prototype=Pt.prototype;function St(e){for(;!e.__zoom;)if(!(e=e.parentNode))return br;return e.__zoom}function Cr(e){e.stopImmediatePropagation()}function Ve(e){e.preventDefault(),e.stopImmediatePropagation()}function Ed(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ad(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ms(){return this.__zoom||br}function Sd(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Td(){return navigator.maxTouchPoints||"ontouchstart"in this}function Md(e,r,n){var i=e.invertX(r[0][0])-n[0][0],s=e.invertX(r[1][0])-n[1][0],a=e.invertY(r[0][1])-n[0][1],o=e.invertY(r[1][1])-n[1][1];return e.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function $d(){var e=Ed,r=Ad,n=Md,i=Sd,s=Td,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=ff,u=Ne("start","zoom","end"),f,h,d,p=500,y=150,x=0,C=10;function m(k){k.property("__zoom",Ms).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",O).filter(s).on("touchstart.zoom",U).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(k,R,$,j){var K=k.selection?k.selection():k;K.property("__zoom",Ms),k!==K?w(k,R,$,j):K.interrupt().each(function(){T(this,arguments).event(j).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},m.scaleBy=function(k,R,$,j){m.scaleTo(k,function(){var K=this.__zoom.k,B=typeof R=="function"?R.apply(this,arguments):R;return K*B},$,j)},m.scaleTo=function(k,R,$,j){m.transform(k,function(){var K=r.apply(this,arguments),B=this.__zoom,P=$==null?_(K):typeof $=="function"?$.apply(this,arguments):$,q=B.invert(P),G=typeof R=="function"?R.apply(this,arguments):R;return n(A(S(B,G),P,q),K,o)},$,j)},m.translateBy=function(k,R,$,j){m.transform(k,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof $=="function"?$.apply(this,arguments):$),r.apply(this,arguments),o)},null,j)},m.translateTo=function(k,R,$,j,K){m.transform(k,function(){var B=r.apply(this,arguments),P=this.__zoom,q=j==null?_(B):typeof j=="function"?j.apply(this,arguments):j;return n(br.translate(q[0],q[1]).scale(P.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof $=="function"?-$.apply(this,arguments):-$),B,o)},j,K)};function S(k,R){return R=Math.max(a[0],Math.min(a[1],R)),R===k.k?k:new Pt(R,k.x,k.y)}function A(k,R,$){var j=R[0]-$[0]*k.k,K=R[1]-$[1]*k.k;return j===k.x&&K===k.y?k:new Pt(k.k,j,K)}function _(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function w(k,R,$,j){k.on("start.zoom",function(){T(this,arguments).event(j).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(j).end()}).tween("zoom",function(){var K=this,B=arguments,P=T(K,B).event(j),q=r.apply(K,B),G=$==null?_(q):typeof $=="function"?$.apply(K,B):$,nt=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),Z=K.__zoom,Q=typeof R=="function"?R.apply(K,B):R,st=c(Z.invert(G).concat(nt/Z.k),Q.invert(G).concat(nt/Q.k));return function(ut){if(ut===1)ut=Q;else{var pt=st(ut),at=nt/pt[2];ut=new Pt(at,G[0]-pt[0]*at,G[1]-pt[1]*at)}P.zoom(null,ut)}})}function T(k,R,$){return!$&&k.__zooming||new E(k,R)}function E(k,R){this.that=k,this.args=R,this.active=0,this.sourceEvent=null,this.extent=r.apply(k,R),this.taps=0}E.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,R){return this.mouse&&k!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var R=wt(this.that).datum();u.call(k,this.that,new kd(k,{sourceEvent:this.sourceEvent,target:m,type:k,transform:this.that.__zoom,dispatch:u}),R)}};function M(k,...R){if(!e.apply(this,arguments))return;var $=T(this,R).event(k),j=this.__zoom,K=Math.max(a[0],Math.min(a[1],j.k*Math.pow(2,i.apply(this,arguments)))),B=Dt(k);if($.wheel)($.mouse[0][0]!==B[0]||$.mouse[0][1]!==B[1])&&($.mouse[1]=j.invert($.mouse[0]=B)),clearTimeout($.wheel);else{if(j.k===K)return;$.mouse=[B,j.invert(B)],In(this),$.start()}Ve(k),$.wheel=setTimeout(P,y),$.zoom("mouse",n(A(S(j,K),$.mouse[0],$.mouse[1]),$.extent,o));function P(){$.wheel=null,$.end()}}function L(k,...R){if(d||!e.apply(this,arguments))return;var $=k.currentTarget,j=T(this,R,!0).event(k),K=wt(k.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",nt,!0),B=Dt(k,$),P=k.clientX,q=k.clientY;es(k.view),Cr(k),j.mouse=[B,this.__zoom.invert(B)],In(this),j.start();function G(Z){if(Ve(Z),!j.moved){var Q=Z.clientX-P,st=Z.clientY-q;j.moved=Q*Q+st*st>x}j.event(Z).zoom("mouse",n(A(j.that.__zoom,j.mouse[0]=Dt(Z,$),j.mouse[1]),j.extent,o))}function nt(Z){K.on("mousemove.zoom mouseup.zoom",null),ns(Z.view,j.moved),Ve(Z),j.event(Z).end()}}function O(k,...R){if(!!e.apply(this,arguments)){var $=this.__zoom,j=Dt(k.changedTouches?k.changedTouches[0]:k,this),K=$.invert(j),B=$.k*(k.shiftKey?.5:2),P=n(A(S($,B),j,K),r.apply(this,R),o);Ve(k),l>0?wt(this).transition().duration(l).call(w,P,j,k):wt(this).call(m.transform,P,j,k)}}function U(k,...R){if(!!e.apply(this,arguments)){var $=k.touches,j=$.length,K=T(this,R,k.changedTouches.length===j).event(k),B,P,q,G;for(Cr(k),P=0;P<j;++P)q=$[P],G=Dt(q,this),G=[G,this.__zoom.invert(G),q.identifier],K.touch0?!K.touch1&&K.touch0[2]!==G[2]&&(K.touch1=G,K.taps=0):(K.touch0=G,B=!0,K.taps=1+!!f);f&&(f=clearTimeout(f)),B&&(K.taps<2&&(h=G[0],f=setTimeout(function(){f=null},p)),In(this),K.start())}}function F(k,...R){if(!!this.__zooming){var $=T(this,R).event(k),j=k.changedTouches,K=j.length,B,P,q,G;for(Ve(k),B=0;B<K;++B)P=j[B],q=Dt(P,this),$.touch0&&$.touch0[2]===P.identifier?$.touch0[0]=q:$.touch1&&$.touch1[2]===P.identifier&&($.touch1[0]=q);if(P=$.that.__zoom,$.touch1){var nt=$.touch0[0],Z=$.touch0[1],Q=$.touch1[0],st=$.touch1[1],ut=(ut=Q[0]-nt[0])*ut+(ut=Q[1]-nt[1])*ut,pt=(pt=st[0]-Z[0])*pt+(pt=st[1]-Z[1])*pt;P=S(P,Math.sqrt(ut/pt)),q=[(nt[0]+Q[0])/2,(nt[1]+Q[1])/2],G=[(Z[0]+st[0])/2,(Z[1]+st[1])/2]}else if($.touch0)q=$.touch0[0],G=$.touch0[1];else return;$.zoom("touch",n(A(P,q,G),$.extent,o))}}function V(k,...R){if(!!this.__zooming){var $=T(this,R).event(k),j=k.changedTouches,K=j.length,B,P;for(Cr(k),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),B=0;B<K;++B)P=j[B],$.touch0&&$.touch0[2]===P.identifier?delete $.touch0:$.touch1&&$.touch1[2]===P.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(P=Dt(P,this),Math.hypot(h[0]-P[0],h[1]-P[1])<C)){var q=wt(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return m.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:Dn(+k),m):i},m.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Dn(!!k),m):e},m.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:Dn(!!k),m):s},m.extent=function(k){return arguments.length?(r=typeof k=="function"?k:Dn([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),m):r},m.scaleExtent=function(k){return arguments.length?(a[0]=+k[0],a[1]=+k[1],m):[a[0],a[1]]},m.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(k){return arguments.length?(n=k,m):n},m.duration=function(k){return arguments.length?(l=+k,m):l},m.interpolate=function(k){return arguments.length?(c=k,m):c},m.on=function(){var k=u.on.apply(u,arguments);return k===u?m:k},m.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,m):Math.sqrt(x)},m.tapDistance=function(k){return arguments.length?(C=+k,m):C},m}class $s extends Map{constructor(r,n=Rd){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[i,s]of r)this.set(i,s)}get(r){return super.get(Is(this,r))}has(r){return super.has(Is(this,r))}set(r,n){return super.set(Id(this,r),n)}delete(r){return super.delete(Dd(this,r))}}function Is({_intern:e,_key:r},n){const i=r(n);return e.has(i)?e.get(i):n}function Id({_intern:e,_key:r},n){const i=r(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Dd({_intern:e,_key:r},n){const i=r(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Rd(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ds(e,r){let n;if(r===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of e)(s=r(s,++i,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function Rs(e,r){let n;if(r===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of e)(s=r(s,++i,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}var Ye={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var r=1.70158;return e*e*((r+1)*e-r)},Out:function(e){var r=1.70158;return--e*e*((r+1)*e+r)+1},InOut:function(e){var r=1.70158*1.525;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}},Bounce:{In:function(e){return 1-Ye.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Ye.Bounce.In(e*2)*.5:Ye.Bounce.Out(e*2-1)*.5+.5}}},We;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?We=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?We=self.performance.now.bind(self.performance):Date.now!==void 0?We=Date.now:We=function(){return new Date().getTime()};var ee=We,zs=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(n){return r._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(r){this._tweens[r.getId()]=r,this._tweensAddedDuringUpdate[r.getId()]=r},e.prototype.remove=function(r){delete this._tweens[r.getId()],delete this._tweensAddedDuringUpdate[r.getId()]},e.prototype.update=function(r,n){r===void 0&&(r=ee()),n===void 0&&(n=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var a=this._tweens[i[s]],o=!n;a&&a.update(r,o)===!1&&!n&&delete this._tweens[i[s]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),ye={Linear:function(e,r){var n=e.length-1,i=n*r,s=Math.floor(i),a=ye.Utils.Linear;return r<0?a(e[0],e[1],i):r>1?a(e[n],e[n-1],n-i):a(e[s],e[s+1>n?n:s+1],i-s)},Bezier:function(e,r){for(var n=0,i=e.length-1,s=Math.pow,a=ye.Utils.Bernstein,o=0;o<=i;o++)n+=s(1-r,i-o)*s(r,o)*e[o]*a(i,o);return n},CatmullRom:function(e,r){var n=e.length-1,i=n*r,s=Math.floor(i),a=ye.Utils.CatmullRom;return e[0]===e[n]?(r<0&&(s=Math.floor(i=n*(1+r))),a(e[(s-1+n)%n],e[s],e[(s+1)%n],e[(s+2)%n],i-s)):r<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):r>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[s?s-1:0],e[s],e[n<s+1?n:s+1],e[n<s+2?n:s+2],i-s)},Utils:{Linear:function(e,r,n){return(r-e)*n+e},Bernstein:function(e,r){var n=ye.Utils.Factorial;return n(e)/n(r)/n(e-r)},Factorial:function(){var e=[1];return function(r){var n=1;if(e[r])return e[r];for(var i=r;i>1;i--)n*=i;return e[r]=n,n}}(),CatmullRom:function(e,r,n,i,s){var a=(n-e)*.5,o=(i-r)*.5,l=s*s,c=s*l;return(2*r-2*n+a+o)*c+(-3*r+3*n-2*a-o)*l+a*s+r}}},kr=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Ps=new zs,zd=function(){function e(r,n){n===void 0&&(n=Ps),this._object=r,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ye.Linear.None,this._interpolationFunction=ye.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=kr.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(r,n){return this._valuesEnd=Object.create(r),n!==void 0&&(this._duration=n),this},e.prototype.duration=function(r){return this._duration=r,this},e.prototype.start=function(r){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=r!==void 0?typeof r=="string"?ee()+parseFloat(r):r:ee(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(r,n,i,s){for(var a in i){var o=r[a],l=Array.isArray(o),c=l?"array":typeof o,u=!l&&Array.isArray(i[a]);if(!(c==="undefined"||c==="function")){if(u){var f=i[a];if(f.length===0)continue;f=f.map(this._handleRelativeValue.bind(this,o)),i[a]=[o].concat(f)}if((c==="object"||l)&&o&&!u){n[a]=l?[]:{};for(var h in o)n[a][h]=o[h];s[a]=l?[]:{},this._setupProperties(o,n[a],i[a],s[a])}else typeof n[a]=="undefined"&&(n[a]=o),l||(n[a]*=1),u?s[a]=i[a].slice().reverse():s[a]=n[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(r){return r===void 0&&(r=ee()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=r,this._group&&this._group.remove(this),this)},e.prototype.resume=function(r){return r===void 0&&(r=ee()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var r=0,n=this._chainedTweens.length;r<n;r++)this._chainedTweens[r].stop();return this},e.prototype.group=function(r){return this._group=r,this},e.prototype.delay=function(r){return this._delayTime=r,this},e.prototype.repeat=function(r){return this._initialRepeat=r,this._repeat=r,this},e.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},e.prototype.yoyo=function(r){return this._yoyo=r,this},e.prototype.easing=function(r){return this._easingFunction=r,this},e.prototype.interpolation=function(r){return this._interpolationFunction=r,this},e.prototype.chain=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this._chainedTweens=r,this},e.prototype.onStart=function(r){return this._onStartCallback=r,this},e.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},e.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},e.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},e.prototype.onStop=function(r){return this._onStopCallback=r,this},e.prototype.update=function(r,n){if(r===void 0&&(r=ee()),n===void 0&&(n=!0),this._isPaused)return!0;var i,s,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(r>a)return!1;n&&this.start(r)}if(this._goToEnd=!1,r<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),s=(r-this._startTime)/this._duration,s=this._duration===0||s>1?1:s;var o=this._easingFunction(s);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,s),s===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=r+this._repeatDelayTime:this._startTime=r+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var l=0,c=this._chainedTweens.length;l<c;l++)this._chainedTweens[l].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(r,n,i,s){for(var a in i)if(n[a]!==void 0){var o=n[a]||0,l=i[a],c=Array.isArray(r[a]),u=Array.isArray(l),f=!c&&u;f?r[a]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(r[a],o,l,s):(l=this._handleRelativeValue(o,l),typeof l=="number"&&(r[a]=o+(l-o)*s))}},e.prototype._handleRelativeValue=function(r,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?r+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(r){var n=this._valuesStartRepeat[r],i=this._valuesEnd[r];typeof i=="string"?this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(i):this._valuesStartRepeat[r]=this._valuesEnd[r],this._valuesEnd[r]=n},e}(),Pd="18.6.4",Od=kr.nextId,Tt=Ps,Nd=Tt.getAll.bind(Tt),Ld=Tt.removeAll.bind(Tt),jd=Tt.add.bind(Tt),Ud=Tt.remove.bind(Tt),Fd=Tt.update.bind(Tt),Xe={Easing:Ye,Group:zs,Interpolation:ye,now:ee,Sequence:kr,nextId:Od,Tween:zd,VERSION:Pd,getAll:Nd,removeAll:Ld,add:jd,remove:Ud,update:Fd};function Er(e,r,n){var i,s,a,o,l;r==null&&(r=100);function c(){var f=Date.now()-o;f<r&&f>=0?i=setTimeout(c,r-f):(i=null,n||(l=e.apply(a,s),a=s=null))}var u=function(){a=this,s=arguments,o=Date.now();var f=n&&!i;return i||(i=setTimeout(c,r)),f&&(l=e.apply(a,s),a=s=null),l};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(l=e.apply(a,s),a=s=null,clearTimeout(i),i=null)},u}Er.debounce=Er;var Kd=Er;function Bd(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hd(e,r){return Gd(e)||qd(e,r)||Vd(e,r)||Yd()}function Gd(e){if(Array.isArray(e))return e}function qd(e,r){var n=e&&(typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(r&&i.length===r));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function Vd(e,r){if(!!e){if(typeof e=="string")return Os(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Os(e,r)}}function Os(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function Yd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wd=function e(r,n){var i=n.default,s=i===void 0?null:i,a=n.triggerUpdate,o=a===void 0?!0:a,l=n.onChange,c=l===void 0?function(u,f){}:l;Bd(this,e),this.name=r,this.defaultVal=s,this.triggerUpdate=o,this.onChange=c};function Ns(e){var r=e.stateInit,n=r===void 0?function(){return{}}:r,i=e.props,s=i===void 0?{}:i,a=e.methods,o=a===void 0?{}:a,l=e.aliases,c=l===void 0?{}:l,u=e.init,f=u===void 0?function(){}:u,h=e.update,d=h===void 0?function(){}:h,p=Object.keys(s).map(function(y){return new Wd(y,s[y])});return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=Object.assign({},n instanceof Function?n(y):n,{initialised:!1}),C={};function m(_){return S(_,y),A(),m}var S=function(w,T){f.call(m,w,x,T),x.initialised=!0},A=Kd(function(){!x.initialised||(d.call(m,x,C),C={})},1);return p.forEach(function(_){m[_.name]=w(_);function w(T){var E=T.name,M=T.triggerUpdate,L=M===void 0?!1:M,O=T.onChange,U=O===void 0?function(k,R){}:O,F=T.defaultVal,V=F===void 0?null:F;return function(k){var R=x[E];if(!arguments.length)return R;var $=k===void 0?V:k;return x[E]=$,U.call(m,$,x,R),!C.hasOwnProperty(E)&&(C[E]=R),L&&A(),m}}}),Object.keys(o).forEach(function(_){m[_]=function(){for(var w,T=arguments.length,E=new Array(T),M=0;M<T;M++)E[M]=arguments[M];return(w=o[_]).call.apply(w,[m,x].concat(E))}}),Object.entries(c).forEach(function(_){var w=Hd(_,2),T=w[0],E=w[1];return m[T]=m[E]}),m.resetProps=function(){return p.forEach(function(_){m[_.name](_.defaultVal)}),m},m.resetProps(),x._rerender=A,m}}var X=function(e){return e instanceof Function?e:typeof e=="string"?function(r){return r[e]}:function(r){return e}},Ls={exports:{}};(function(e){(function(r){var n=/^\s+/,i=/\s+$/,s=0,a=r.round,o=r.min,l=r.max,c=r.random;function u(g,b){if(g=g||"",b=b||{},g instanceof u)return g;if(!(this instanceof u))return new u(g,b);var v=f(g);this._originalInput=g,this._r=v.r,this._g=v.g,this._b=v.b,this._a=v.a,this._roundA=a(100*this._a)/100,this._format=b.format||v.format,this._gradientType=b.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=v.ok,this._tc_id=s++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var g=this.toRgb();return(g.r*299+g.g*587+g.b*114)/1e3},getLuminance:function(){var g=this.toRgb(),b,v,I,N,z,Y;return b=g.r/255,v=g.g/255,I=g.b/255,b<=.03928?N=b/12.92:N=r.pow((b+.055)/1.055,2.4),v<=.03928?z=v/12.92:z=r.pow((v+.055)/1.055,2.4),I<=.03928?Y=I/12.92:Y=r.pow((I+.055)/1.055,2.4),.2126*N+.7152*z+.0722*Y},setAlpha:function(g){return this._a=B(g),this._roundA=a(100*this._a)/100,this},toHsv:function(){var g=y(this._r,this._g,this._b);return{h:g.h*360,s:g.s,v:g.v,a:this._a}},toHsvString:function(){var g=y(this._r,this._g,this._b),b=a(g.h*360),v=a(g.s*100),I=a(g.v*100);return this._a==1?"hsv("+b+", "+v+"%, "+I+"%)":"hsva("+b+", "+v+"%, "+I+"%, "+this._roundA+")"},toHsl:function(){var g=d(this._r,this._g,this._b);return{h:g.h*360,s:g.s,l:g.l,a:this._a}},toHslString:function(){var g=d(this._r,this._g,this._b),b=a(g.h*360),v=a(g.s*100),I=a(g.l*100);return this._a==1?"hsl("+b+", "+v+"%, "+I+"%)":"hsla("+b+", "+v+"%, "+I+"%, "+this._roundA+")"},toHex:function(g){return C(this._r,this._g,this._b,g)},toHexString:function(g){return"#"+this.toHex(g)},toHex8:function(g){return m(this._r,this._g,this._b,this._a,g)},toHex8String:function(g){return"#"+this.toHex8(g)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(P(this._r,255)*100)+"%",g:a(P(this._g,255)*100)+"%",b:a(P(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%)":"rgba("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:j[C(this._r,this._g,this._b,!0)]||!1},toFilter:function(g){var b="#"+S(this._r,this._g,this._b,this._a),v=b,I=this._gradientType?"GradientType = 1, ":"";if(g){var N=u(g);v="#"+S(N._r,N._g,N._b,N._a)}return"progid:DXImageTransform.Microsoft.gradient("+I+"startColorstr="+b+",endColorstr="+v+")"},toString:function(g){var b=!!g;g=g||this._format;var v=!1,I=this._a<1&&this._a>=0,N=!b&&I&&(g==="hex"||g==="hex6"||g==="hex3"||g==="hex4"||g==="hex8"||g==="name");return N?g==="name"&&this._a===0?this.toName():this.toRgbString():(g==="rgb"&&(v=this.toRgbString()),g==="prgb"&&(v=this.toPercentageRgbString()),(g==="hex"||g==="hex6")&&(v=this.toHexString()),g==="hex3"&&(v=this.toHexString(!0)),g==="hex4"&&(v=this.toHex8String(!0)),g==="hex8"&&(v=this.toHex8String()),g==="name"&&(v=this.toName()),g==="hsl"&&(v=this.toHslString()),g==="hsv"&&(v=this.toHsvString()),v||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(g,b){var v=g.apply(null,[this].concat([].slice.call(b)));return this._r=v._r,this._g=v._g,this._b=v._b,this.setAlpha(v._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(A,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(L,arguments)},_applyCombination:function(g,b){return g.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(V,arguments)},triad:function(){return this._applyCombination(U,arguments)},tetrad:function(){return this._applyCombination(F,arguments)}},u.fromRatio=function(g,b){if(typeof g=="object"){var v={};for(var I in g)g.hasOwnProperty(I)&&(I==="a"?v[I]=g[I]:v[I]=st(g[I]));g=v}return u(g,b)};function f(g){var b={r:0,g:0,b:0},v=1,I=null,N=null,z=null,Y=!1,J=!1;return typeof g=="string"&&(g=Ua(g)),typeof g=="object"&&($t(g.r)&&$t(g.g)&&$t(g.b)?(b=h(g.r,g.g,g.b),Y=!0,J=String(g.r).substr(-1)==="%"?"prgb":"rgb"):$t(g.h)&&$t(g.s)&&$t(g.v)?(I=st(g.s),N=st(g.v),b=x(g.h,I,N),Y=!0,J="hsv"):$t(g.h)&&$t(g.s)&&$t(g.l)&&(I=st(g.s),z=st(g.l),b=p(g.h,I,z),Y=!0,J="hsl"),g.hasOwnProperty("a")&&(v=g.a)),v=B(v),{ok:Y,format:g.format||J,r:o(255,l(b.r,0)),g:o(255,l(b.g,0)),b:o(255,l(b.b,0)),a:v}}function h(g,b,v){return{r:P(g,255)*255,g:P(b,255)*255,b:P(v,255)*255}}function d(g,b,v){g=P(g,255),b=P(b,255),v=P(v,255);var I=l(g,b,v),N=o(g,b,v),z,Y,J=(I+N)/2;if(I==N)z=Y=0;else{var et=I-N;switch(Y=J>.5?et/(2-I-N):et/(I+N),I){case g:z=(b-v)/et+(b<v?6:0);break;case b:z=(v-g)/et+2;break;case v:z=(g-b)/et+4;break}z/=6}return{h:z,s:Y,l:J}}function p(g,b,v){var I,N,z;g=P(g,360),b=P(b,100),v=P(v,100);function Y(gt,be,_t){return _t<0&&(_t+=1),_t>1&&(_t-=1),_t<1/6?gt+(be-gt)*6*_t:_t<1/2?be:_t<2/3?gt+(be-gt)*(2/3-_t)*6:gt}if(b===0)I=N=z=v;else{var J=v<.5?v*(1+b):v+b-v*b,et=2*v-J;I=Y(et,J,g+1/3),N=Y(et,J,g),z=Y(et,J,g-1/3)}return{r:I*255,g:N*255,b:z*255}}function y(g,b,v){g=P(g,255),b=P(b,255),v=P(v,255);var I=l(g,b,v),N=o(g,b,v),z,Y,J=I,et=I-N;if(Y=I===0?0:et/I,I==N)z=0;else{switch(I){case g:z=(b-v)/et+(b<v?6:0);break;case b:z=(v-g)/et+2;break;case v:z=(g-b)/et+4;break}z/=6}return{h:z,s:Y,v:J}}function x(g,b,v){g=P(g,360)*6,b=P(b,100),v=P(v,100);var I=r.floor(g),N=g-I,z=v*(1-b),Y=v*(1-N*b),J=v*(1-(1-N)*b),et=I%6,gt=[v,Y,z,z,J,v][et],be=[J,v,v,Y,z,z][et],_t=[z,z,J,v,v,Y][et];return{r:gt*255,g:be*255,b:_t*255}}function C(g,b,v,I){var N=[Q(a(g).toString(16)),Q(a(b).toString(16)),Q(a(v).toString(16))];return I&&N[0].charAt(0)==N[0].charAt(1)&&N[1].charAt(0)==N[1].charAt(1)&&N[2].charAt(0)==N[2].charAt(1)?N[0].charAt(0)+N[1].charAt(0)+N[2].charAt(0):N.join("")}function m(g,b,v,I,N){var z=[Q(a(g).toString(16)),Q(a(b).toString(16)),Q(a(v).toString(16)),Q(ut(I))];return N&&z[0].charAt(0)==z[0].charAt(1)&&z[1].charAt(0)==z[1].charAt(1)&&z[2].charAt(0)==z[2].charAt(1)&&z[3].charAt(0)==z[3].charAt(1)?z[0].charAt(0)+z[1].charAt(0)+z[2].charAt(0)+z[3].charAt(0):z.join("")}function S(g,b,v,I){var N=[Q(ut(I)),Q(a(g).toString(16)),Q(a(b).toString(16)),Q(a(v).toString(16))];return N.join("")}u.equals=function(g,b){return!g||!b?!1:u(g).toRgbString()==u(b).toRgbString()},u.random=function(){return u.fromRatio({r:c(),g:c(),b:c()})};function A(g,b){b=b===0?0:b||10;var v=u(g).toHsl();return v.s-=b/100,v.s=q(v.s),u(v)}function _(g,b){b=b===0?0:b||10;var v=u(g).toHsl();return v.s+=b/100,v.s=q(v.s),u(v)}function w(g){return u(g).desaturate(100)}function T(g,b){b=b===0?0:b||10;var v=u(g).toHsl();return v.l+=b/100,v.l=q(v.l),u(v)}function E(g,b){b=b===0?0:b||10;var v=u(g).toRgb();return v.r=l(0,o(255,v.r-a(255*-(b/100)))),v.g=l(0,o(255,v.g-a(255*-(b/100)))),v.b=l(0,o(255,v.b-a(255*-(b/100)))),u(v)}function M(g,b){b=b===0?0:b||10;var v=u(g).toHsl();return v.l-=b/100,v.l=q(v.l),u(v)}function L(g,b){var v=u(g).toHsl(),I=(v.h+b)%360;return v.h=I<0?360+I:I,u(v)}function O(g){var b=u(g).toHsl();return b.h=(b.h+180)%360,u(b)}function U(g){var b=u(g).toHsl(),v=b.h;return[u(g),u({h:(v+120)%360,s:b.s,l:b.l}),u({h:(v+240)%360,s:b.s,l:b.l})]}function F(g){var b=u(g).toHsl(),v=b.h;return[u(g),u({h:(v+90)%360,s:b.s,l:b.l}),u({h:(v+180)%360,s:b.s,l:b.l}),u({h:(v+270)%360,s:b.s,l:b.l})]}function V(g){var b=u(g).toHsl(),v=b.h;return[u(g),u({h:(v+72)%360,s:b.s,l:b.l}),u({h:(v+216)%360,s:b.s,l:b.l})]}function k(g,b,v){b=b||6,v=v||30;var I=u(g).toHsl(),N=360/v,z=[u(g)];for(I.h=(I.h-(N*b>>1)+720)%360;--b;)I.h=(I.h+N)%360,z.push(u(I));return z}function R(g,b){b=b||6;for(var v=u(g).toHsv(),I=v.h,N=v.s,z=v.v,Y=[],J=1/b;b--;)Y.push(u({h:I,s:N,v:z})),z=(z+J)%1;return Y}u.mix=function(g,b,v){v=v===0?0:v||50;var I=u(g).toRgb(),N=u(b).toRgb(),z=v/100,Y={r:(N.r-I.r)*z+I.r,g:(N.g-I.g)*z+I.g,b:(N.b-I.b)*z+I.b,a:(N.a-I.a)*z+I.a};return u(Y)},u.readability=function(g,b){var v=u(g),I=u(b);return(r.max(v.getLuminance(),I.getLuminance())+.05)/(r.min(v.getLuminance(),I.getLuminance())+.05)},u.isReadable=function(g,b,v){var I=u.readability(g,b),N,z;switch(z=!1,N=Fa(v),N.level+N.size){case"AAsmall":case"AAAlarge":z=I>=4.5;break;case"AAlarge":z=I>=3;break;case"AAAsmall":z=I>=7;break}return z},u.mostReadable=function(g,b,v){var I=null,N=0,z,Y,J,et;v=v||{},Y=v.includeFallbackColors,J=v.level,et=v.size;for(var gt=0;gt<b.length;gt++)z=u.readability(g,b[gt]),z>N&&(N=z,I=u(b[gt]));return u.isReadable(g,I,{level:J,size:et})||!Y?I:(v.includeFallbackColors=!1,u.mostReadable(g,["#fff","#000"],v))};var $=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=u.hexNames=K($);function K(g){var b={};for(var v in g)g.hasOwnProperty(v)&&(b[g[v]]=v);return b}function B(g){return g=parseFloat(g),(isNaN(g)||g<0||g>1)&&(g=1),g}function P(g,b){nt(g)&&(g="100%");var v=Z(g);return g=o(b,l(0,parseFloat(g))),v&&(g=parseInt(g*b,10)/100),r.abs(g-b)<1e-6?1:g%b/parseFloat(b)}function q(g){return o(1,l(0,g))}function G(g){return parseInt(g,16)}function nt(g){return typeof g=="string"&&g.indexOf(".")!=-1&&parseFloat(g)===1}function Z(g){return typeof g=="string"&&g.indexOf("%")!=-1}function Q(g){return g.length==1?"0"+g:""+g}function st(g){return g<=1&&(g=g*100+"%"),g}function ut(g){return r.round(parseFloat(g)*255).toString(16)}function pt(g){return G(g)/255}var at=function(){var g="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",v="(?:"+b+")|(?:"+g+")",I="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?",N="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?";return{CSS_UNIT:new RegExp(v),rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+N),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function $t(g){return!!at.CSS_UNIT.exec(g)}function Ua(g){g=g.replace(n,"").replace(i,"").toLowerCase();var b=!1;if($[g])g=$[g],b=!0;else if(g=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var v;return(v=at.rgb.exec(g))?{r:v[1],g:v[2],b:v[3]}:(v=at.rgba.exec(g))?{r:v[1],g:v[2],b:v[3],a:v[4]}:(v=at.hsl.exec(g))?{h:v[1],s:v[2],l:v[3]}:(v=at.hsla.exec(g))?{h:v[1],s:v[2],l:v[3],a:v[4]}:(v=at.hsv.exec(g))?{h:v[1],s:v[2],v:v[3]}:(v=at.hsva.exec(g))?{h:v[1],s:v[2],v:v[3],a:v[4]}:(v=at.hex8.exec(g))?{r:G(v[1]),g:G(v[2]),b:G(v[3]),a:pt(v[4]),format:b?"name":"hex8"}:(v=at.hex6.exec(g))?{r:G(v[1]),g:G(v[2]),b:G(v[3]),format:b?"name":"hex"}:(v=at.hex4.exec(g))?{r:G(v[1]+""+v[1]),g:G(v[2]+""+v[2]),b:G(v[3]+""+v[3]),a:pt(v[4]+""+v[4]),format:b?"name":"hex8"}:(v=at.hex3.exec(g))?{r:G(v[1]+""+v[1]),g:G(v[2]+""+v[2]),b:G(v[3]+""+v[3]),format:b?"name":"hex"}:!1}function Fa(g){var b,v;return g=g||{level:"AA",size:"small"},b=(g.level||"AA").toUpperCase(),v=(g.size||"small").toLowerCase(),b!=="AA"&&b!=="AAA"&&(b="AA"),v!=="small"&&v!=="large"&&(v="small"),{level:b,size:v}}e.exports?e.exports=u:window.tinycolor=u})(Math)})(Ls);var Xd=Ls.exports;function Zd(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function js(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Qd(e,r,n){return r&&js(e.prototype,r),n&&js(e,n),e}function Jd(e){return t0(e)||e0(e)||n0(e)||r0()}function t0(e){if(Array.isArray(e))return Ar(e)}function e0(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function n0(e,r){if(!!e){if(typeof e=="string")return Ar(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ar(e,r)}}function Ar(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function r0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i0=123,s0=function(r){return"#".concat(Math.min(r,Math.pow(2,24)).toString(16).padStart(6,"0"))},Us=function(r,n,i){return(r<<16)+(n<<8)+i},a0=function(r){var n=Xd(r).toRgb(),i=n.r,s=n.g,a=n.b;return Us(i,s,a)},Fs=function(r,n){return r*i0%Math.pow(2,n)},o0=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Zd(this,e),this.csBits=r,this.registry=["__reserved for background__"]}return Qd(e,[{key:"register",value:function(n){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,s=Fs(i,this.csBits),a=s0(i+(s<<24-this.csBits));return this.registry.push(n),a}},{key:"lookup",value:function(n){var i=typeof n=="string"?a0(n):Us.apply(void 0,Jd(n));if(!i)return null;var s=i&Math.pow(2,24-this.csBits)-1,a=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return Fs(s,this.csBits)!==a||s>=this.registry.length?null:this.registry[s]}}]),e}();function l0(e,r,n){var i,s=1;e==null&&(e=0),r==null&&(r=0),n==null&&(n=0);function a(){var o,l=i.length,c,u=0,f=0,h=0;for(o=0;o<l;++o)c=i[o],u+=c.x||0,f+=c.y||0,h+=c.z||0;for(u=(u/l-e)*s,f=(f/l-r)*s,h=(h/l-n)*s,o=0;o<l;++o)c=i[o],u&&(c.x-=u),f&&(c.y-=f),h&&(c.z-=h)}return a.initialize=function(o){i=o},a.x=function(o){return arguments.length?(e=+o,a):e},a.y=function(o){return arguments.length?(r=+o,a):r},a.z=function(o){return arguments.length?(n=+o,a):n},a.strength=function(o){return arguments.length?(s=+o,a):s},a}function c0(e){var r=+this._x.call(null,e);return Ks(this.cover(r),r,e)}function Ks(e,r,n){if(isNaN(r))return e;var i,s=e._root,a={data:n},o=e._x0,l=e._x1,c,u,f,h,d;if(!s)return e._root=a,e;for(;s.length;)if((f=r>=(c=(o+l)/2))?o=c:l=c,i=s,!(s=s[h=+f]))return i[h]=a,e;if(u=+e._x.call(null,s.data),r===u)return a.next=s,i?i[h]=a:e._root=a,e;do i=i?i[h]=new Array(2):e._root=new Array(2),(f=r>=(c=(o+l)/2))?o=c:l=c;while((h=+f)==(d=+(u>=c)));return i[d]=s,i[h]=a,e}function u0(e){var r,n=e.length,i,s=new Array(n),a=1/0,o=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,e[r]))||(s[r]=i,i<a&&(a=i),i>o&&(o=i));if(a>o)return this;for(this.cover(a).cover(o),r=0;r<n;++r)Ks(this,s[r],e[r]);return this}function h0(e){if(isNaN(e=+e))return this;var r=this._x0,n=this._x1;if(isNaN(r))n=(r=Math.floor(e))+1;else{for(var i=n-r||1,s=this._root,a,o;r>e||e>=n;)switch(o=+(e<r),a=new Array(2),a[o]=s,s=a,i*=2,o){case 0:n=r+i;break;case 1:r=n-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._x1=n,this}function f0(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function d0(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Ot(e,r,n){this.node=e,this.x0=r,this.x1=n}function p0(e,r){var n,i=this._x0,s,a,o=this._x1,l=[],c=this._root,u,f;for(c&&l.push(new Ot(c,i,o)),r==null?r=1/0:(i=e-r,o=e+r);u=l.pop();)if(!(!(c=u.node)||(s=u.x0)>o||(a=u.x1)<i))if(c.length){var h=(s+a)/2;l.push(new Ot(c[1],h,a),new Ot(c[0],s,h)),(f=+(e>=h))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-f],l[l.length-1-f]=u)}else{var d=Math.abs(e-+this._x.call(null,c.data));d<r&&(r=d,i=e-d,o=e+d,n=c.data)}return n}function g0(e){if(isNaN(c=+this._x.call(null,e)))return this;var r,n=this._root,i,s,a,o=this._x0,l=this._x1,c,u,f,h,d;if(!n)return this;if(n.length)for(;;){if((f=c>=(u=(o+l)/2))?o=u:l=u,r=n,!(n=n[h=+f]))return this;if(!n.length)break;r[h+1&1]&&(i=r,d=h)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):r?(a?r[h]=a:delete r[h],(n=r[0]||r[1])&&n===(r[1]||r[0])&&!n.length&&(i?i[d]=n:this._root=n),this):(this._root=a,this)}function m0(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function v0(){return this._root}function y0(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function _0(e){var r=[],n,i=this._root,s,a,o;for(i&&r.push(new Ot(i,this._x0,this._x1));n=r.pop();)if(!e(i=n.node,a=n.x0,o=n.x1)&&i.length){var l=(a+o)/2;(s=i[1])&&r.push(new Ot(s,l,o)),(s=i[0])&&r.push(new Ot(s,a,l))}return this}function w0(e){var r=[],n=[],i;for(this._root&&r.push(new Ot(this._root,this._x0,this._x1));i=r.pop();){var s=i.node;if(s.length){var a,o=i.x0,l=i.x1,c=(o+l)/2;(a=s[0])&&r.push(new Ot(a,o,c)),(a=s[1])&&r.push(new Ot(a,c,l))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.x1);return this}function x0(e){return e[0]}function b0(e){return arguments.length?(this._x=e,this):this._x}function Bs(e,r){var n=new Sr(r==null?x0:r,NaN,NaN);return e==null?n:n.addAll(e)}function Sr(e,r,n){this._x=e,this._x0=r,this._x1=n,this._root=void 0}function Hs(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var ht=Bs.prototype=Sr.prototype;ht.copy=function(){var e=new Sr(this._x,this._x0,this._x1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=Hs(r),e;for(n=[{source:r,target:e._root=new Array(2)}];r=n.pop();)for(var s=0;s<2;++s)(i=r.source[s])&&(i.length?n.push({source:i,target:r.target[s]=new Array(2)}):r.target[s]=Hs(i));return e};ht.add=c0;ht.addAll=u0;ht.cover=h0;ht.data=f0;ht.extent=d0;ht.find=p0;ht.remove=g0;ht.removeAll=m0;ht.root=v0;ht.size=y0;ht.visit=_0;ht.visitAfter=w0;ht.x=b0;function C0(e){const r=+this._x.call(null,e),n=+this._y.call(null,e);return Gs(this.cover(r,n),r,n,e)}function Gs(e,r,n,i){if(isNaN(r)||isNaN(n))return e;var s,a=e._root,o={data:i},l=e._x0,c=e._y0,u=e._x1,f=e._y1,h,d,p,y,x,C,m,S;if(!a)return e._root=o,e;for(;a.length;)if((x=r>=(h=(l+u)/2))?l=h:u=h,(C=n>=(d=(c+f)/2))?c=d:f=d,s=a,!(a=a[m=C<<1|x]))return s[m]=o,e;if(p=+e._x.call(null,a.data),y=+e._y.call(null,a.data),r===p&&n===y)return o.next=a,s?s[m]=o:e._root=o,e;do s=s?s[m]=new Array(4):e._root=new Array(4),(x=r>=(h=(l+u)/2))?l=h:u=h,(C=n>=(d=(c+f)/2))?c=d:f=d;while((m=C<<1|x)==(S=(y>=d)<<1|p>=h));return s[S]=a,s[m]=o,e}function k0(e){var r,n,i=e.length,s,a,o=new Array(i),l=new Array(i),c=1/0,u=1/0,f=-1/0,h=-1/0;for(n=0;n<i;++n)isNaN(s=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||(o[n]=s,l[n]=a,s<c&&(c=s),s>f&&(f=s),a<u&&(u=a),a>h&&(h=a));if(c>f||u>h)return this;for(this.cover(c,u).cover(f,h),n=0;n<i;++n)Gs(this,o[n],l[n],e[n]);return this}function E0(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,s=this._x1,a=this._y1;if(isNaN(n))s=(n=Math.floor(e))+1,a=(i=Math.floor(r))+1;else{for(var o=s-n||1,l=this._root,c,u;n>e||e>=s||i>r||r>=a;)switch(u=(r<i)<<1|e<n,c=new Array(4),c[u]=l,l=c,o*=2,u){case 0:s=n+o,a=i+o;break;case 1:n=s-o,a=i+o;break;case 2:s=n+o,i=a-o;break;case 3:n=s-o,i=a-o;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=s,this._y1=a,this}function A0(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function S0(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function lt(e,r,n,i,s){this.node=e,this.x0=r,this.y0=n,this.x1=i,this.y1=s}function T0(e,r,n){var i,s=this._x0,a=this._y0,o,l,c,u,f=this._x1,h=this._y1,d=[],p=this._root,y,x;for(p&&d.push(new lt(p,s,a,f,h)),n==null?n=1/0:(s=e-n,a=r-n,f=e+n,h=r+n,n*=n);y=d.pop();)if(!(!(p=y.node)||(o=y.x0)>f||(l=y.y0)>h||(c=y.x1)<s||(u=y.y1)<a))if(p.length){var C=(o+c)/2,m=(l+u)/2;d.push(new lt(p[3],C,m,c,u),new lt(p[2],o,m,C,u),new lt(p[1],C,l,c,m),new lt(p[0],o,l,C,m)),(x=(r>=m)<<1|e>=C)&&(y=d[d.length-1],d[d.length-1]=d[d.length-1-x],d[d.length-1-x]=y)}else{var S=e-+this._x.call(null,p.data),A=r-+this._y.call(null,p.data),_=S*S+A*A;if(_<n){var w=Math.sqrt(n=_);s=e-w,a=r-w,f=e+w,h=r+w,i=p.data}}return i}function M0(e){if(isNaN(f=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var r,n=this._root,i,s,a,o=this._x0,l=this._y0,c=this._x1,u=this._y1,f,h,d,p,y,x,C,m;if(!n)return this;if(n.length)for(;;){if((y=f>=(d=(o+c)/2))?o=d:c=d,(x=h>=(p=(l+u)/2))?l=p:u=p,r=n,!(n=n[C=x<<1|y]))return this;if(!n.length)break;(r[C+1&3]||r[C+2&3]||r[C+3&3])&&(i=r,m=C)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):r?(a?r[C]=a:delete r[C],(n=r[0]||r[1]||r[2]||r[3])&&n===(r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[m]=n:this._root=n),this):(this._root=a,this)}function $0(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function I0(){return this._root}function D0(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function R0(e){var r=[],n,i=this._root,s,a,o,l,c;for(i&&r.push(new lt(i,this._x0,this._y0,this._x1,this._y1));n=r.pop();)if(!e(i=n.node,a=n.x0,o=n.y0,l=n.x1,c=n.y1)&&i.length){var u=(a+l)/2,f=(o+c)/2;(s=i[3])&&r.push(new lt(s,u,f,l,c)),(s=i[2])&&r.push(new lt(s,a,f,u,c)),(s=i[1])&&r.push(new lt(s,u,o,l,f)),(s=i[0])&&r.push(new lt(s,a,o,u,f))}return this}function z0(e){var r=[],n=[],i;for(this._root&&r.push(new lt(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var s=i.node;if(s.length){var a,o=i.x0,l=i.y0,c=i.x1,u=i.y1,f=(o+c)/2,h=(l+u)/2;(a=s[0])&&r.push(new lt(a,o,l,f,h)),(a=s[1])&&r.push(new lt(a,f,l,c,h)),(a=s[2])&&r.push(new lt(a,o,h,f,u)),(a=s[3])&&r.push(new lt(a,f,h,c,u))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function P0(e){return e[0]}function O0(e){return arguments.length?(this._x=e,this):this._x}function N0(e){return e[1]}function L0(e){return arguments.length?(this._y=e,this):this._y}function qs(e,r,n){var i=new Tr(r==null?P0:r,n==null?N0:n,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Tr(e,r,n,i,s,a){this._x=e,this._y=r,this._x0=n,this._y0=i,this._x1=s,this._y1=a,this._root=void 0}function Vs(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var ct=qs.prototype=Tr.prototype;ct.copy=function(){var e=new Tr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=Vs(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var s=0;s<4;++s)(i=r.source[s])&&(i.length?n.push({source:i,target:r.target[s]=new Array(4)}):r.target[s]=Vs(i));return e};ct.add=C0;ct.addAll=k0;ct.cover=E0;ct.data=A0;ct.extent=S0;ct.find=T0;ct.remove=M0;ct.removeAll=$0;ct.root=I0;ct.size=D0;ct.visit=R0;ct.visitAfter=z0;ct.x=O0;ct.y=L0;function j0(e){var r=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return Ys(this.cover(r,n,i),r,n,i,e)}function Ys(e,r,n,i,s){if(isNaN(r)||isNaN(n)||isNaN(i))return e;var a,o=e._root,l={data:s},c=e._x0,u=e._y0,f=e._z0,h=e._x1,d=e._y1,p=e._z1,y,x,C,m,S,A,_,w,T,E,M;if(!o)return e._root=l,e;for(;o.length;)if((_=r>=(y=(c+h)/2))?c=y:h=y,(w=n>=(x=(u+d)/2))?u=x:d=x,(T=i>=(C=(f+p)/2))?f=C:p=C,a=o,!(o=o[E=T<<2|w<<1|_]))return a[E]=l,e;if(m=+e._x.call(null,o.data),S=+e._y.call(null,o.data),A=+e._z.call(null,o.data),r===m&&n===S&&i===A)return l.next=o,a?a[E]=l:e._root=l,e;do a=a?a[E]=new Array(8):e._root=new Array(8),(_=r>=(y=(c+h)/2))?c=y:h=y,(w=n>=(x=(u+d)/2))?u=x:d=x,(T=i>=(C=(f+p)/2))?f=C:p=C;while((E=T<<2|w<<1|_)==(M=(A>=C)<<2|(S>=x)<<1|m>=y));return a[M]=o,a[E]=l,e}function U0(e){var r,n,i=e.length,s,a,o,l=new Array(i),c=new Array(i),u=new Array(i),f=1/0,h=1/0,d=1/0,p=-1/0,y=-1/0,x=-1/0;for(n=0;n<i;++n)isNaN(s=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||isNaN(o=+this._z.call(null,r))||(l[n]=s,c[n]=a,u[n]=o,s<f&&(f=s),s>p&&(p=s),a<h&&(h=a),a>y&&(y=a),o<d&&(d=o),o>x&&(x=o));if(f>p||h>y||d>x)return this;for(this.cover(f,h,d).cover(p,y,x),n=0;n<i;++n)Ys(this,l[n],c[n],u[n],e[n]);return this}function F0(e,r,n){if(isNaN(e=+e)||isNaN(r=+r)||isNaN(n=+n))return this;var i=this._x0,s=this._y0,a=this._z0,o=this._x1,l=this._y1,c=this._z1;if(isNaN(i))o=(i=Math.floor(e))+1,l=(s=Math.floor(r))+1,c=(a=Math.floor(n))+1;else{for(var u=o-i||1,f=this._root,h,d;i>e||e>=o||s>r||r>=l||a>n||n>=c;)switch(d=(n<a)<<2|(r<s)<<1|e<i,h=new Array(8),h[d]=f,f=h,u*=2,d){case 0:o=i+u,l=s+u,c=a+u;break;case 1:i=o-u,l=s+u,c=a+u;break;case 2:o=i+u,s=l-u,c=a+u;break;case 3:i=o-u,s=l-u,c=a+u;break;case 4:o=i+u,l=s+u,a=c-u;break;case 5:i=o-u,l=s+u,a=c-u;break;case 6:o=i+u,s=l-u,a=c-u;break;case 7:i=o-u,s=l-u,a=c-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=i,this._y0=s,this._z0=a,this._x1=o,this._y1=l,this._z1=c,this}function K0(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function B0(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function W(e,r,n,i,s,a,o){this.node=e,this.x0=r,this.y0=n,this.z0=i,this.x1=s,this.y1=a,this.z1=o}function H0(e,r,n,i){var s,a=this._x0,o=this._y0,l=this._z0,c,u,f,h,d,p,y=this._x1,x=this._y1,C=this._z1,m=[],S=this._root,A,_;for(S&&m.push(new W(S,a,o,l,y,x,C)),i==null?i=1/0:(a=e-i,o=r-i,l=n-i,y=e+i,x=r+i,C=n+i,i*=i);A=m.pop();)if(!(!(S=A.node)||(c=A.x0)>y||(u=A.y0)>x||(f=A.z0)>C||(h=A.x1)<a||(d=A.y1)<o||(p=A.z1)<l))if(S.length){var w=(c+h)/2,T=(u+d)/2,E=(f+p)/2;m.push(new W(S[7],w,T,E,h,d,p),new W(S[6],c,T,E,w,d,p),new W(S[5],w,u,E,h,T,p),new W(S[4],c,u,E,w,T,p),new W(S[3],w,T,f,h,d,E),new W(S[2],c,T,f,w,d,E),new W(S[1],w,u,f,h,T,E),new W(S[0],c,u,f,w,T,E)),(_=(n>=E)<<2|(r>=T)<<1|e>=w)&&(A=m[m.length-1],m[m.length-1]=m[m.length-1-_],m[m.length-1-_]=A)}else{var M=e-+this._x.call(null,S.data),L=r-+this._y.call(null,S.data),O=n-+this._z.call(null,S.data),U=M*M+L*L+O*O;if(U<i){var F=Math.sqrt(i=U);a=e-F,o=r-F,l=n-F,y=e+F,x=r+F,C=n+F,s=S.data}}return s}function G0(e){if(isNaN(d=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e))||isNaN(y=+this._z.call(null,e)))return this;var r,n=this._root,i,s,a,o=this._x0,l=this._y0,c=this._z0,u=this._x1,f=this._y1,h=this._z1,d,p,y,x,C,m,S,A,_,w,T;if(!n)return this;if(n.length)for(;;){if((S=d>=(x=(o+u)/2))?o=x:u=x,(A=p>=(C=(l+f)/2))?l=C:f=C,(_=y>=(m=(c+h)/2))?c=m:h=m,r=n,!(n=n[w=_<<2|A<<1|S]))return this;if(!n.length)break;(r[w+1&7]||r[w+2&7]||r[w+3&7]||r[w+4&7]||r[w+5&7]||r[w+6&7]||r[w+7&7])&&(i=r,T=w)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):r?(a?r[w]=a:delete r[w],(n=r[0]||r[1]||r[2]||r[3]||r[4]||r[5]||r[6]||r[7])&&n===(r[7]||r[6]||r[5]||r[4]||r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[T]=n:this._root=n),this):(this._root=a,this)}function q0(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function V0(){return this._root}function Y0(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function W0(e){var r=[],n,i=this._root,s,a,o,l,c,u,f;for(i&&r.push(new W(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=r.pop();)if(!e(i=n.node,a=n.x0,o=n.y0,l=n.z0,c=n.x1,u=n.y1,f=n.z1)&&i.length){var h=(a+c)/2,d=(o+u)/2,p=(l+f)/2;(s=i[7])&&r.push(new W(s,h,d,p,c,u,f)),(s=i[6])&&r.push(new W(s,a,d,p,h,u,f)),(s=i[5])&&r.push(new W(s,h,o,p,c,d,f)),(s=i[4])&&r.push(new W(s,a,o,p,h,d,f)),(s=i[3])&&r.push(new W(s,h,d,l,c,u,p)),(s=i[2])&&r.push(new W(s,a,d,l,h,u,p)),(s=i[1])&&r.push(new W(s,h,o,l,c,d,p)),(s=i[0])&&r.push(new W(s,a,o,l,h,d,p))}return this}function X0(e){var r=[],n=[],i;for(this._root&&r.push(new W(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=r.pop();){var s=i.node;if(s.length){var a,o=i.x0,l=i.y0,c=i.z0,u=i.x1,f=i.y1,h=i.z1,d=(o+u)/2,p=(l+f)/2,y=(c+h)/2;(a=s[0])&&r.push(new W(a,o,l,c,d,p,y)),(a=s[1])&&r.push(new W(a,d,l,c,u,p,y)),(a=s[2])&&r.push(new W(a,o,p,c,d,f,y)),(a=s[3])&&r.push(new W(a,d,p,c,u,f,y)),(a=s[4])&&r.push(new W(a,o,l,y,d,p,h)),(a=s[5])&&r.push(new W(a,d,l,y,u,p,h)),(a=s[6])&&r.push(new W(a,o,p,y,d,f,h)),(a=s[7])&&r.push(new W(a,d,p,y,u,f,h))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function Z0(e){return e[0]}function Q0(e){return arguments.length?(this._x=e,this):this._x}function J0(e){return e[1]}function tp(e){return arguments.length?(this._y=e,this):this._y}function ep(e){return e[2]}function np(e){return arguments.length?(this._z=e,this):this._z}function Ws(e,r,n,i){var s=new Mr(r==null?Z0:r,n==null?J0:n,i==null?ep:i,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function Mr(e,r,n,i,s,a,o,l,c){this._x=e,this._y=r,this._z=n,this._x0=i,this._y0=s,this._z0=a,this._x1=o,this._y1=l,this._z1=c,this._root=void 0}function Xs(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var rt=Ws.prototype=Mr.prototype;rt.copy=function(){var e=new Mr(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=Xs(r),e;for(n=[{source:r,target:e._root=new Array(8)}];r=n.pop();)for(var s=0;s<8;++s)(i=r.source[s])&&(i.length?n.push({source:i,target:r.target[s]=new Array(8)}):r.target[s]=Xs(i));return e};rt.add=j0;rt.addAll=U0;rt.cover=F0;rt.data=K0;rt.extent=B0;rt.find=H0;rt.remove=G0;rt.removeAll=q0;rt.root=V0;rt.size=Y0;rt.visit=W0;rt.visitAfter=X0;rt.x=Q0;rt.y=tp;rt.z=np;function Nt(e){return function(){return e}}function Lt(e){return(e()-.5)*1e-6}function rp(e){return e.index}function Zs(e,r){var n=e.get(r);if(!n)throw new Error("node not found: "+r);return n}function ip(e){var r=rp,n=d,i,s=Nt(30),a,o,l,c,u,f,h=1;e==null&&(e=[]);function d(m){return 1/Math.min(c[m.source.index],c[m.target.index])}function p(m){for(var S=0,A=e.length;S<h;++S)for(var _=0,w,T,E,M=0,L=0,O=0,U,F;_<A;++_)w=e[_],T=w.source,E=w.target,M=E.x+E.vx-T.x-T.vx||Lt(f),l>1&&(L=E.y+E.vy-T.y-T.vy||Lt(f)),l>2&&(O=E.z+E.vz-T.z-T.vz||Lt(f)),U=Math.sqrt(M*M+L*L+O*O),U=(U-a[_])/U*m*i[_],M*=U,L*=U,O*=U,E.vx-=M*(F=u[_]),l>1&&(E.vy-=L*F),l>2&&(E.vz-=O*F),T.vx+=M*(F=1-F),l>1&&(T.vy+=L*F),l>2&&(T.vz+=O*F)}function y(){if(!!o){var m,S=o.length,A=e.length,_=new Map(o.map((T,E)=>[r(T,E,o),T])),w;for(m=0,c=new Array(S);m<A;++m)w=e[m],w.index=m,typeof w.source!="object"&&(w.source=Zs(_,w.source)),typeof w.target!="object"&&(w.target=Zs(_,w.target)),c[w.source.index]=(c[w.source.index]||0)+1,c[w.target.index]=(c[w.target.index]||0)+1;for(m=0,u=new Array(A);m<A;++m)w=e[m],u[m]=c[w.source.index]/(c[w.source.index]+c[w.target.index]);i=new Array(A),x(),a=new Array(A),C()}}function x(){if(!!o)for(var m=0,S=e.length;m<S;++m)i[m]=+n(e[m],m,e)}function C(){if(!!o)for(var m=0,S=e.length;m<S;++m)a[m]=+s(e[m],m,e)}return p.initialize=function(m,...S){o=m,f=S.find(A=>typeof A=="function")||Math.random,l=S.find(A=>[1,2,3].includes(A))||2,y()},p.links=function(m){return arguments.length?(e=m,y(),p):e},p.id=function(m){return arguments.length?(r=m,p):r},p.iterations=function(m){return arguments.length?(h=+m,p):h},p.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Nt(+m),x(),p):n},p.distance=function(m){return arguments.length?(s=typeof m=="function"?m:Nt(+m),C(),p):s},p}const sp=1664525,ap=1013904223,Qs=4294967296;function op(){let e=1;return()=>(e=(sp*e+ap)%Qs)/Qs}var Js=3;function $r(e){return e.x}function ta(e){return e.y}function lp(e){return e.z}var cp=10,up=Math.PI*(3-Math.sqrt(5)),hp=Math.PI*20/(9+Math.sqrt(221));function fp(e,r){r=r||2;var n=Math.min(Js,Math.max(1,Math.round(r))),i,s=1,a=.001,o=1-Math.pow(a,1/300),l=0,c=.6,u=new Map,f=mr(p),h=Ne("tick","end"),d=op();e==null&&(e=[]);function p(){y(),h.call("tick",i),s<a&&(f.stop(),h.call("end",i))}function y(m){var S,A=e.length,_;m===void 0&&(m=1);for(var w=0;w<m;++w)for(s+=(l-s)*o,u.forEach(function(T){T(s)}),S=0;S<A;++S)_=e[S],_.fx==null?_.x+=_.vx*=c:(_.x=_.fx,_.vx=0),n>1&&(_.fy==null?_.y+=_.vy*=c:(_.y=_.fy,_.vy=0)),n>2&&(_.fz==null?_.z+=_.vz*=c:(_.z=_.fz,_.vz=0));return i}function x(){for(var m=0,S=e.length,A;m<S;++m){if(A=e[m],A.index=m,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),A.fz!=null&&(A.z=A.fz),isNaN(A.x)||n>1&&isNaN(A.y)||n>2&&isNaN(A.z)){var _=cp*(n>2?Math.cbrt(.5+m):n>1?Math.sqrt(.5+m):m),w=m*up,T=m*hp;n===1?A.x=_:n===2?(A.x=_*Math.cos(w),A.y=_*Math.sin(w)):(A.x=_*Math.sin(w)*Math.cos(T),A.y=_*Math.cos(w),A.z=_*Math.sin(w)*Math.sin(T))}(isNaN(A.vx)||n>1&&isNaN(A.vy)||n>2&&isNaN(A.vz))&&(A.vx=0,n>1&&(A.vy=0),n>2&&(A.vz=0))}}function C(m){return m.initialize&&m.initialize(e,d,n),m}return x(),i={tick:y,restart:function(){return f.restart(p),i},stop:function(){return f.stop(),i},numDimensions:function(m){return arguments.length?(n=Math.min(Js,Math.max(1,Math.round(m))),u.forEach(C),i):n},nodes:function(m){return arguments.length?(e=m,x(),u.forEach(C),i):e},alpha:function(m){return arguments.length?(s=+m,i):s},alphaMin:function(m){return arguments.length?(a=+m,i):a},alphaDecay:function(m){return arguments.length?(o=+m,i):+o},alphaTarget:function(m){return arguments.length?(l=+m,i):l},velocityDecay:function(m){return arguments.length?(c=1-m,i):1-c},randomSource:function(m){return arguments.length?(d=m,u.forEach(C),i):d},force:function(m,S){return arguments.length>1?(S==null?u.delete(m):u.set(m,C(S)),i):u.get(m)},find:function(){var m=Array.prototype.slice.call(arguments),S=m.shift()||0,A=(n>1?m.shift():null)||0,_=(n>2?m.shift():null)||0,w=m.shift()||1/0,T=0,E=e.length,M,L,O,U,F,V;for(w*=w,T=0;T<E;++T)F=e[T],M=S-F.x,L=A-(F.y||0),O=_-(F.z||0),U=M*M+L*L+O*O,U<w&&(V=F,w=U);return V},on:function(m,S){return arguments.length>1?(h.on(m,S),i):h.on(m)}}}function dp(){var e,r,n,i,s,a=Nt(-30),o,l=1,c=1/0,u=.81;function f(y){var x,C=e.length,m=(r===1?Bs(e,$r):r===2?qs(e,$r,ta):r===3?Ws(e,$r,ta,lp):null).visitAfter(d);for(s=y,x=0;x<C;++x)n=e[x],m.visit(p)}function h(){if(!!e){var y,x=e.length,C;for(o=new Array(x),y=0;y<x;++y)C=e[y],o[C.index]=+a(C,y,e)}}function d(y){var x=0,C,m,S=0,A,_,w,T,E=y.length;if(E){for(A=_=w=T=0;T<E;++T)(C=y[T])&&(m=Math.abs(C.value))&&(x+=C.value,S+=m,A+=m*(C.x||0),_+=m*(C.y||0),w+=m*(C.z||0));x*=Math.sqrt(4/E),y.x=A/S,r>1&&(y.y=_/S),r>2&&(y.z=w/S)}else{C=y,C.x=C.data.x,r>1&&(C.y=C.data.y),r>2&&(C.z=C.data.z);do x+=o[C.data.index];while(C=C.next)}y.value=x}function p(y,x,C,m,S){if(!y.value)return!0;var A=[C,m,S][r-1],_=y.x-n.x,w=r>1?y.y-n.y:0,T=r>2?y.z-n.z:0,E=A-x,M=_*_+w*w+T*T;if(E*E/u<M)return M<c&&(_===0&&(_=Lt(i),M+=_*_),r>1&&w===0&&(w=Lt(i),M+=w*w),r>2&&T===0&&(T=Lt(i),M+=T*T),M<l&&(M=Math.sqrt(l*M)),n.vx+=_*y.value*s/M,r>1&&(n.vy+=w*y.value*s/M),r>2&&(n.vz+=T*y.value*s/M)),!0;if(y.length||M>=c)return;(y.data!==n||y.next)&&(_===0&&(_=Lt(i),M+=_*_),r>1&&w===0&&(w=Lt(i),M+=w*w),r>2&&T===0&&(T=Lt(i),M+=T*T),M<l&&(M=Math.sqrt(l*M)));do y.data!==n&&(E=o[y.data.index]*s/M,n.vx+=_*E,r>1&&(n.vy+=w*E),r>2&&(n.vz+=T*E));while(y=y.next)}return f.initialize=function(y,...x){e=y,i=x.find(C=>typeof C=="function")||Math.random,r=x.find(C=>[1,2,3].includes(C))||2,h()},f.strength=function(y){return arguments.length?(a=typeof y=="function"?y:Nt(+y),h(),f):a},f.distanceMin=function(y){return arguments.length?(l=y*y,f):Math.sqrt(l)},f.distanceMax=function(y){return arguments.length?(c=y*y,f):Math.sqrt(c)},f.theta=function(y){return arguments.length?(u=y*y,f):Math.sqrt(u)},f}function pp(e,r,n,i){var s,a,o=Nt(.1),l,c;typeof e!="function"&&(e=Nt(+e)),r==null&&(r=0),n==null&&(n=0),i==null&&(i=0);function u(h){for(var d=0,p=s.length;d<p;++d){var y=s[d],x=y.x-r||1e-6,C=(y.y||0)-n||1e-6,m=(y.z||0)-i||1e-6,S=Math.sqrt(x*x+C*C+m*m),A=(c[d]-S)*l[d]*h/S;y.vx+=x*A,a>1&&(y.vy+=C*A),a>2&&(y.vz+=m*A)}}function f(){if(!!s){var h,d=s.length;for(l=new Array(d),c=new Array(d),h=0;h<d;++h)c[h]=+e(s[h],h,s),l[h]=isNaN(c[h])?0:+o(s[h],h,s)}}return u.initialize=function(h,...d){s=h,a=d.find(p=>[1,2,3].includes(p))||2,f()},u.strength=function(h){return arguments.length?(o=typeof h=="function"?h:Nt(+h),f(),u):o},u.radius=function(h){return arguments.length?(e=typeof h=="function"?h:Nt(+h),f(),u):e},u.x=function(h){return arguments.length?(r=+h,u):r},u.y=function(h){return arguments.length?(n=+h,u):n},u.z=function(h){return arguments.length?(i=+h,u):i},u}const{abs:Ze,cos:jt,sin:_e,acos:gp,atan2:Qe,sqrt:Vt,pow:vt}=Math;function Je(e){return e<0?-vt(-e,1/3):vt(e,1/3)}const ea=Math.PI,Rn=2*ea,Yt=ea/2,mp=1e-6,Ir=Number.MAX_SAFE_INTEGER||9007199254740991,Dr=Number.MIN_SAFE_INTEGER||-9007199254740991,vp={x:0,y:0,z:0},D={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,r){const n=r(e);let i=n.x*n.x+n.y*n.y;return typeof n.z!="undefined"&&(i+=n.z*n.z),Vt(i)},compute:function(e,r,n){if(e===0)return r[0].t=0,r[0];const i=r.length-1;if(e===1)return r[i].t=1,r[i];const s=1-e;let a=r;if(i===0)return r[0].t=e,r[0];if(i===1){const l={x:s*a[0].x+e*a[1].x,y:s*a[0].y+e*a[1].y,t:e};return n&&(l.z=s*a[0].z+e*a[1].z),l}if(i<4){let l=s*s,c=e*e,u,f,h,d=0;i===2?(a=[a[0],a[1],a[2],vp],u=l,f=s*e*2,h=c):i===3&&(u=l*s,f=l*e*3,h=s*c*3,d=e*c);const p={x:u*a[0].x+f*a[1].x+h*a[2].x+d*a[3].x,y:u*a[0].y+f*a[1].y+h*a[2].y+d*a[3].y,t:e};return n&&(p.z=u*a[0].z+f*a[1].z+h*a[2].z+d*a[3].z),p}const o=JSON.parse(JSON.stringify(r));for(;o.length>1;){for(let l=0;l<o.length-1;l++)o[l]={x:o[l].x+(o[l+1].x-o[l].x)*e,y:o[l].y+(o[l+1].y-o[l].y)*e},typeof o[l].z!="undefined"&&(o[l]=o[l].z+(o[l+1].z-o[l].z)*e);o.splice(o.length-1,1)}return o[0].t=e,o[0]},computeWithRatios:function(e,r,n,i){const s=1-e,a=n,o=r;let l=a[0],c=a[1],u=a[2],f=a[3],h;if(l*=s,c*=e,o.length===2)return h=l+c,{x:(l*o[0].x+c*o[1].x)/h,y:(l*o[0].y+c*o[1].y)/h,z:i?(l*o[0].z+c*o[1].z)/h:!1,t:e};if(l*=s,c*=2*s,u*=e*e,o.length===3)return h=l+c+u,{x:(l*o[0].x+c*o[1].x+u*o[2].x)/h,y:(l*o[0].y+c*o[1].y+u*o[2].y)/h,z:i?(l*o[0].z+c*o[1].z+u*o[2].z)/h:!1,t:e};if(l*=s,c*=1.5*s,u*=3*s,f*=e*e*e,o.length===4)return h=l+c+u+f,{x:(l*o[0].x+c*o[1].x+u*o[2].x+f*o[3].x)/h,y:(l*o[0].y+c*o[1].y+u*o[2].y+f*o[3].y)/h,z:i?(l*o[0].z+c*o[1].z+u*o[2].z+f*o[3].z)/h:!1,t:e}},derive:function(e,r){const n=[];for(let i=e,s=i.length,a=s-1;s>1;s--,a--){const o=[];for(let l=0,c;l<a;l++)c={x:a*(i[l+1].x-i[l].x),y:a*(i[l+1].y-i[l].y)},r&&(c.z=a*(i[l+1].z-i[l].z)),o.push(c);n.push(o),i=o}return n},between:function(e,r,n){return r<=e&&e<=n||D.approximately(e,r)||D.approximately(e,n)},approximately:function(e,r,n){return Ze(e-r)<=(n||mp)},length:function(e){const r=.5,n=D.Tvalues.length;let i=0;for(let s=0,a;s<n;s++)a=r*D.Tvalues[s]+r,i+=D.Cvalues[s]*D.arcfn(a,e);return r*i},map:function(e,r,n,i,s){const a=n-r,o=s-i,l=e-r,c=l/a;return i+o*c},lerp:function(e,r,n){const i={x:r.x+e*(n.x-r.x),y:r.y+e*(n.y-r.y)};return r.z!==void 0&&n.z!==void 0&&(i.z=r.z+e*(n.z-r.z)),i},pointToString:function(e){let r=e.x+"/"+e.y;return typeof e.z!="undefined"&&(r+="/"+e.z),r},pointsToString:function(e){return"["+e.map(D.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,r,n){const i=r.x-e.x,s=r.y-e.y,a=n.x-e.x,o=n.y-e.y,l=i*o-s*a,c=i*a+s*o;return Qe(l,c)},round:function(e,r){const n=""+e,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+r))},dist:function(e,r){const n=e.x-r.x,i=e.y-r.y;return Vt(n*n+i*i)},closest:function(e,r){let n=vt(2,63),i,s;return e.forEach(function(a,o){s=D.dist(r,a),s<n&&(n=s,i=o)}),{mdist:n,mpos:i}},abcratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e=="undefined")e=.5;else if(e===0||e===1)return e;const n=vt(e,r)+vt(1-e,r),i=n-1;return Ze(i/n)},projectionratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e=="undefined")e=.5;else if(e===0||e===1)return e;const n=vt(1-e,r),i=vt(e,r)+n;return n/i},lli8:function(e,r,n,i,s,a,o,l){const c=(e*i-r*n)*(s-o)-(e-n)*(s*l-a*o),u=(e*i-r*n)*(a-l)-(r-i)*(s*l-a*o),f=(e-n)*(a-l)-(r-i)*(s-o);return f==0?!1:{x:c/f,y:u/f}},lli4:function(e,r,n,i){const s=e.x,a=e.y,o=r.x,l=r.y,c=n.x,u=n.y,f=i.x,h=i.y;return D.lli8(s,a,o,l,c,u,f,h)},lli:function(e,r){return D.lli4(e,e.c,r,r.c)},makeline:function(e,r){const n=e.x,i=e.y,s=r.x,a=r.y,o=(s-n)/3,l=(a-i)/3;return new tt(n,i,n+o,i+l,n+2*o,i+2*l,s,a)},findbbox:function(e){let r=Ir,n=Ir,i=Dr,s=Dr;return e.forEach(function(a){const o=a.bbox();r>o.x.min&&(r=o.x.min),n>o.y.min&&(n=o.y.min),i<o.x.max&&(i=o.x.max),s<o.y.max&&(s=o.y.max)}),{x:{min:r,mid:(r+i)/2,max:i,size:i-r},y:{min:n,mid:(n+s)/2,max:s,size:s-n}}},shapeintersections:function(e,r,n,i,s){if(!D.bboxoverlap(r,i))return[];const a=[],o=[e.startcap,e.forward,e.back,e.endcap],l=[n.startcap,n.forward,n.back,n.endcap];return o.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const f=c.intersects(u,s);f.length>0&&(f.c1=c,f.c2=u,f.s1=e,f.s2=n,a.push(f))})}),a},makeshape:function(e,r,n){const i=r.points.length,s=e.points.length,a=D.makeline(r.points[i-1],e.points[0]),o=D.makeline(e.points[s-1],r.points[0]),l={startcap:a,forward:e,back:r,endcap:o,bbox:D.findbbox([a,e,r,o])};return l.intersections=function(c){return D.shapeintersections(l,l.bbox,c,c.bbox,n)},l},getminmax:function(e,r,n){if(!n)return{min:0,max:0};let i=Ir,s=Dr,a,o;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let l=0,c=n.length;l<c;l++)a=n[l],o=e.get(a),o[r]<i&&(i=o[r]),o[r]>s&&(s=o[r]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(e,r){const n=r.p1.x,i=r.p1.y,s=-Qe(r.p2.y-i,r.p2.x-n),a=function(o){return{x:(o.x-n)*jt(s)-(o.y-i)*_e(s),y:(o.x-n)*_e(s)+(o.y-i)*jt(s)}};return e.map(a)},roots:function(e,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,i=D.align(e,r),s=function(E){return 0<=E&&E<=1};if(n===2){const E=i[0].y,M=i[1].y,L=i[2].y,O=E-2*M+L;if(O!==0){const U=-Vt(M*M-E*L),F=-E+M,V=-(U+F)/O,k=-(-U+F)/O;return[V,k].filter(s)}else if(M!==L&&O===0)return[(2*M-L)/(2*M-2*L)].filter(s);return[]}const a=i[0].y,o=i[1].y,l=i[2].y,c=i[3].y;let u=-a+3*o-3*l+c,f=3*a-6*o+3*l,h=-3*a+3*o,d=a;if(D.approximately(u,0)){if(D.approximately(f,0))return D.approximately(h,0)?[]:[-d/h].filter(s);const E=Vt(h*h-4*f*d),M=2*f;return[(E-h)/M,(-h-E)/M].filter(s)}f/=u,h/=u,d/=u;const p=(3*h-f*f)/3,y=p/3,x=(2*f*f*f-9*f*h+27*d)/27,C=x/2,m=C*C+y*y*y;let S,A,_,w,T;if(m<0){const E=-p/3,M=E*E*E,L=Vt(M),O=-x/(2*L),U=O<-1?-1:O>1?1:O,F=gp(U),V=Je(L),k=2*V;return _=k*jt(F/3)-f/3,w=k*jt((F+Rn)/3)-f/3,T=k*jt((F+2*Rn)/3)-f/3,[_,w,T].filter(s)}else{if(m===0)return S=C<0?Je(-C):-Je(C),_=2*S-f/3,w=-S-f/3,[_,w].filter(s);{const E=Vt(m);return S=Je(-C+E),A=Je(C+E),[S-A-f/3].filter(s)}}},droots:function(e){if(e.length===3){const r=e[0],n=e[1],i=e[2],s=r-2*n+i;if(s!==0){const a=-Vt(n*n-r*i),o=-r+n,l=-(a+o)/s,c=-(-a+o)/s;return[l,c]}else if(n!==i&&s===0)return[(2*n-i)/(2*(n-i))];return[]}if(e.length===2){const r=e[0],n=e[1];return r!==n?[r/(r-n)]:[]}return[]},curvature:function(e,r,n,i,s){let a,o,l,c,u=0,f=0;const h=D.compute(e,r),d=D.compute(e,n),p=h.x*h.x+h.y*h.y;if(i?(a=Vt(vt(h.y*d.z-d.y*h.z,2)+vt(h.z*d.x-d.z*h.x,2)+vt(h.x*d.y-d.x*h.y,2)),o=vt(p+h.z*h.z,3/2)):(a=h.x*d.y-h.y*d.x,o=vt(p,3/2)),a===0||o===0)return{k:0,r:0};if(u=a/o,f=o/a,!s){const y=D.curvature(e-.001,r,n,i,!0).k,x=D.curvature(e+.001,r,n,i,!0).k;c=(x-u+(u-y))/2,l=(Ze(x-u)+Ze(u-y))/2}return{k:u,r:f,dk:c,adk:l}},inflections:function(e){if(e.length<4)return[];const r=D.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=r[2].x*r[1].y,i=r[3].x*r[1].y,s=r[1].x*r[2].y,a=r[3].x*r[2].y,o=18*(-3*n+2*i+3*s-a),l=18*(3*n-i-3*s),c=18*(s-n);if(D.approximately(o,0)){if(!D.approximately(l,0)){let d=-c/l;if(0<=d&&d<=1)return[d]}return[]}const u=l*l-4*o*c,f=Math.sqrt(u),h=2*o;return D.approximately(h,0)?[]:[(f-l)/h,-(l+f)/h].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(e,r){const n=["x","y"],i=n.length;for(let s=0,a,o,l,c;s<i;s++)if(a=n[s],o=e[a].mid,l=r[a].mid,c=(e[a].size+r[a].size)/2,Ze(o-l)>=c)return!1;return!0},expandbox:function(e,r){r.x.min<e.x.min&&(e.x.min=r.x.min),r.y.min<e.y.min&&(e.y.min=r.y.min),r.z&&r.z.min<e.z.min&&(e.z.min=r.z.min),r.x.max>e.x.max&&(e.x.max=r.x.max),r.y.max>e.y.max&&(e.y.max=r.y.max),r.z&&r.z.max>e.z.max&&(e.z.max=r.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,r,n){const i=e.bbox(),s=r.bbox(),a=1e5,o=n||.5;if(i.x.size+i.y.size<o&&s.x.size+s.y.size<o)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(r._t1+r._t2)/2|0)/a];let l=e.split(.5),c=r.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(h){return D.bboxoverlap(h.left.bbox(),h.right.bbox())});let f=[];return u.length===0||(u.forEach(function(h){f=f.concat(D.pairiteration(h.left,h.right,o))}),f=f.filter(function(h,d){return f.indexOf(h)===d})),f},getccenter:function(e,r,n){const i=r.x-e.x,s=r.y-e.y,a=n.x-r.x,o=n.y-r.y,l=i*jt(Yt)-s*_e(Yt),c=i*_e(Yt)+s*jt(Yt),u=a*jt(Yt)-o*_e(Yt),f=a*_e(Yt)+o*jt(Yt),h=(e.x+r.x)/2,d=(e.y+r.y)/2,p=(r.x+n.x)/2,y=(r.y+n.y)/2,x=h+l,C=d+c,m=p+u,S=y+f,A=D.lli8(h,d,x,C,p,y,m,S),_=D.dist(A,e);let w=Qe(e.y-A.y,e.x-A.x),T=Qe(r.y-A.y,r.x-A.x),E=Qe(n.y-A.y,n.x-A.x),M;return w<E?((w>T||T>E)&&(w+=Rn),w>E&&(M=E,E=w,w=M)):E<T&&T<w?(M=E,E=w,w=M):E+=Rn,A.s=w,A.e=E,A.r=_,A},numberSort:function(e,r){return e-r}};class zn{constructor(r){this.curves=[],this._3d=!1,r&&(this.curves=r,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(r){return D.pointsToString(r.points)}).join(", ")+"]"}addCurve(r){this.curves.push(r),this._3d=this._3d||r._3d}length(){return this.curves.map(function(r){return r.length()}).reduce(function(r,n){return r+n})}curve(r){return this.curves[r]}bbox(){const r=this.curves;for(var n=r[0].bbox(),i=1;i<r.length;i++)D.expandbox(n,r[i].bbox());return n}offset(r){const n=[];return this.curves.forEach(function(i){n.push(...i.offset(r))}),new zn(n)}}const{abs:tn,min:na,max:ra,cos:yp,sin:_p,acos:wp,sqrt:en}=Math,xp=Math.PI;class tt{constructor(r){let n=r&&r.forEach?r:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;const d=[];n.forEach(function(p){["x","y","z"].forEach(function(y){typeof p[y]!="undefined"&&d.push(p[y])})}),n=d}let s=!1;const a=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!s&&(a===9||a===12)||r&&r[0]&&typeof r[0].z!="undefined",l=this.points=[];for(let d=0,p=o?3:2;d<a;d+=p){var c={x:n[d],y:n[d+1]};o&&(c.z=n[d+2]),l.push(c)}const u=this.order=l.length-1,f=this.dims=["x","y"];o&&f.push("z"),this.dimlen=f.length;const h=D.align(l,{p1:l[0],p2:l[u]});this._linear=!h.some(d=>tn(d.y)>1e-4),this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(r,n,i,s){if(typeof s=="undefined"&&(s=.5),s===0)return new tt(n,n,i);if(s===1)return new tt(r,n,n);const a=tt.getABC(2,r,n,i,s);return new tt(r,a.A,i)}static cubicFromPoints(r,n,i,s,a){typeof s=="undefined"&&(s=.5);const o=tt.getABC(3,r,n,i,s);typeof a=="undefined"&&(a=D.dist(n,o.C));const l=a*(1-s)/s,c=D.dist(r,i),u=(i.x-r.x)/c,f=(i.y-r.y)/c,h=a*u,d=a*f,p=l*u,y=l*f,x={x:n.x-h,y:n.y-d},C={x:n.x+p,y:n.y+y},m=o.A,S={x:m.x+(x.x-m.x)/(1-s),y:m.y+(x.y-m.y)/(1-s)},A={x:m.x+(C.x-m.x)/s,y:m.y+(C.y-m.y)/s},_={x:r.x+(S.x-r.x)/s,y:r.y+(S.y-r.y)/s},w={x:i.x+(A.x-i.x)/(1-s),y:i.y+(A.y-i.y)/(1-s)};return new tt(r,_,w,i)}static getUtils(){return D}getUtils(){return tt.getUtils()}static get PolyBezier(){return zn}valueOf(){return this.toString()}toString(){return D.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const r=this.points,n=r[0].x,i=r[0].y,s=["M",n,i,this.order===2?"Q":"C"];for(let a=1,o=r.length;a<o;a++)s.push(r[a].x),s.push(r[a].y);return s.join(" ")}setRatios(r){if(r.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=r,this._lut=[]}verify(){const r=this.coordDigest();r!==this._print&&(this._print=r,this.update())}coordDigest(){return this.points.map(function(r,n){return""+n+r.x+r.y+(r.z?r.z:0)}).join("")}update(){this._lut=[],this.dpoints=D.derive(this.points,this._3d),this.computedirection()}computedirection(){const r=this.points,n=D.angle(r[0],r[this.order],r[1]);this.clockwise=n>0}length(){return D.length(this.derivative.bind(this))}static getABC(r=2,n,i,s,a=.5){const o=D.projectionratio(a,r),l=1-o,c={x:o*n.x+l*s.x,y:o*n.y+l*s.y},u=D.abcratio(a,r);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c,S:n,E:s}}getABC(r,n){n=n||this.get(r);let i=this.points[0],s=this.points[this.order];return tt.getABC(this.order,i,n,s,r)}getLUT(r){if(this.verify(),r=r||100,this._lut.length===r)return this._lut;this._lut=[],r--;for(let n=0,i,s;n<r;n++)s=n/(r-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(r,n){n=n||5;const i=this.getLUT(),s=[];for(let a=0,o,l=0;a<i.length;a++)o=i[a],D.dist(o,r)<n&&(s.push(o),l+=a/i.length);return s.length?t/=s.length:!1}project(r){const n=this.getLUT(),i=n.length-1,s=D.closest(n,r),a=s.mpos,o=(a-1)/i,l=(a+1)/i,c=.1/i;let u=s.mdist,f=o,h=f,d;u+=1;for(let p;f<l+c;f+=c)d=this.compute(f),p=D.dist(r,d),p<u&&(u=p,h=f);return h=h<0?0:h>1?1:h,d=this.compute(h),d.t=h,d.d=u,d}get(r){return this.compute(r)}point(r){return this.points[r]}compute(r){return this.ratios?D.computeWithRatios(r,this.points,this.ratios,this._3d):D.compute(r,this.points,this._3d,this.ratios)}raise(){const r=this.points,n=[r[0]],i=r.length;for(let s=1,a,o;s<i;s++)a=r[s],o=r[s-1],n[s]={x:(i-s)/i*a.x+s/i*o.x,y:(i-s)/i*a.y+s/i*o.y};return n[i]=r[i-1],new tt(n)}derivative(r){return D.compute(r,this.dpoints[0],this._3d)}dderivative(r){return D.compute(r,this.dpoints[1],this._3d)}align(){let r=this.points;return new tt(D.align(r,{p1:r[0],p2:r[r.length-1]}))}curvature(r){return D.curvature(r,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return D.inflections(this.points)}normal(r){return this._3d?this.__normal3(r):this.__normal2(r)}__normal2(r){const n=this.derivative(r),i=en(n.x*n.x+n.y*n.y);return{x:-n.y/i,y:n.x/i}}__normal3(r){const n=this.derivative(r),i=this.derivative(r+.01),s=en(n.x*n.x+n.y*n.y+n.z*n.z),a=en(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=s,n.y/=s,n.z/=s,i.x/=a,i.y/=a,i.z/=a;const o={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},l=en(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=l,o.y/=l,o.z/=l;const c=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:c[0]*n.x+c[1]*n.y+c[2]*n.z,y:c[3]*n.x+c[4]*n.y+c[5]*n.z,z:c[6]*n.x+c[7]*n.y+c[8]*n.z}}hull(r){let n=this.points,i=[],s=[],a=0;for(s[a++]=n[0],s[a++]=n[1],s[a++]=n[2],this.order===3&&(s[a++]=n[3]);n.length>1;){i=[];for(let o=0,l,c=n.length-1;o<c;o++)l=D.lerp(r,n[o],n[o+1]),s[a++]=l,i.push(l);n=i}return s}split(r,n){if(r===0&&!!n)return this.split(n).left;if(n===1)return this.split(r).right;const i=this.hull(r),s={left:this.order===2?new tt([i[0],i[3],i[5]]):new tt([i[0],i[4],i[7],i[9]]),right:this.order===2?new tt([i[5],i[4],i[2]]):new tt([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=D.map(0,0,1,this._t1,this._t2),s.left._t2=D.map(r,0,1,this._t1,this._t2),s.right._t1=D.map(r,0,1,this._t1,this._t2),s.right._t2=D.map(1,0,1,this._t1,this._t2),n?(n=D.map(n,r,1,0,1),s.right.split(n).left):s}extrema(){const r={};let n=[];return this.dims.forEach(function(i){let s=function(o){return o[i]},a=this.dpoints[0].map(s);r[i]=D.droots(a),this.order===3&&(a=this.dpoints[1].map(s),r[i]=r[i].concat(D.droots(a))),r[i]=r[i].filter(function(o){return o>=0&&o<=1}),n=n.concat(r[i].sort(D.numberSort))}.bind(this)),r.values=n.sort(D.numberSort).filter(function(i,s){return n.indexOf(i)===s}),r}bbox(){const r=this.extrema(),n={};return this.dims.forEach(function(i){n[i]=D.getminmax(this,i,r[i])}.bind(this)),n}overlaps(r){const n=this.bbox(),i=r.bbox();return D.bboxoverlap(n,i)}offset(r,n){if(typeof n!="undefined"){const i=this.get(r),s=this.normal(r),a={c:i,n:s,x:i.x+s.x*n,y:i.y+s.y*n};return this._3d&&(a.z=i.z+s.z*n),a}if(this._linear){const i=this.normal(0),s=this.points.map(function(a){const o={x:a.x+r*i.x,y:a.y+r*i.y};return a.z&&i.z&&(o.z=a.z+r*i.z),o});return[new tt(s)]}return this.reduce().map(function(i){return i._linear?i.offset(r)[0]:i.scale(r)})}simple(){if(this.order===3){const s=D.angle(this.points[0],this.points[3],this.points[1]),a=D.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&a<0||s<0&&a>0)return!1}const r=this.normal(0),n=this.normal(1);let i=r.x*n.x+r.y*n.y;return this._3d&&(i+=r.z*n.z),tn(wp(i))<xp/3}reduce(){let r,n=0,i=0,s=.01,a,o=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),n=c[0],r=1;r<c.length;r++)i=c[r],a=this.split(n,i),a._t1=n,a._t2=i,o.push(a),n=i;return o.forEach(function(u){for(n=0,i=0;i<=1;)for(i=n+s;i<=1+s;i+=s)if(a=u.split(n,i),!a.simple()){if(i-=s,tn(n-i)<s)return[];a=u.split(n,i),a._t1=D.map(n,0,1,u._t1,u._t2),a._t2=D.map(i,0,1,u._t1,u._t2),l.push(a),n=i;break}n<1&&(a=u.split(n,1),a._t1=D.map(n,0,1,u._t1,u._t2),a._t2=u._t2,l.push(a))}),l}scale(r){const n=this.order;let i=!1;if(typeof r=="function"&&(i=r),i&&n===2)return this.raise().scale(i);const s=this.clockwise,a=i?i(0):r,o=i?i(1):r,l=[this.offset(0,10),this.offset(1,10)],c=this.points,u=[],f=D.lli4(l[0],l[0].c,l[1],l[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const d=u[h*n]=D.copy(c[h*n]);d.x+=(h?o:a)*l[h].n.x,d.y+=(h?o:a)*l[h].n.y}),i?([0,1].forEach(function(h){if(!(n===2&&!!h)){var d=c[h+1],p={x:d.x-f.x,y:d.y-f.y},y=i?i((h+1)/n):r;i&&!s&&(y=-y);var x=en(p.x*p.x+p.y*p.y);p.x/=x,p.y/=x,u[h+1]={x:d.x+y*p.x,y:d.y+y*p.y}}}),new tt(u)):([0,1].forEach(h=>{if(n===2&&!!h)return;const d=u[h*n],p=this.derivative(h),y={x:d.x+p.x,y:d.y+p.y};u[h+1]=D.lli4(d,y,f,c[h+1])}),new tt(u))}outline(r,n,i,s){n=typeof n=="undefined"?r:n;const a=this.reduce(),o=a.length,l=[];let c=[],u,f=0,h=this.length();const d=typeof i!="undefined"&&typeof s!="undefined";function p(w,T,E,M,L){return function(O){const U=M/E,F=(M+L)/E,V=T-w;return D.map(O,0,1,w+U*V,w+F*V)}}a.forEach(function(w){const T=w.length();d?(l.push(w.scale(p(r,i,h,f,T))),c.push(w.scale(p(-n,-s,h,f,T)))):(l.push(w.scale(r)),c.push(w.scale(-n))),f+=T}),c=c.map(function(w){return u=w.points,u[3]?w.points=[u[3],u[2],u[1],u[0]]:w.points=[u[2],u[1],u[0]],w}).reverse();const y=l[0].points[0],x=l[o-1].points[l[o-1].points.length-1],C=c[o-1].points[c[o-1].points.length-1],m=c[0].points[0],S=D.makeline(C,y),A=D.makeline(x,m),_=[S].concat(l).concat([A]).concat(c);return _.length,new zn(_)}outlineshapes(r,n,i){n=n||r;const s=this.outline(r,n).curves,a=[];for(let o=1,l=s.length;o<l/2;o++){const c=D.makeshape(s[o],s[l-o],i);c.startcap.virtual=o>1,c.endcap.virtual=o<l/2-1,a.push(c)}return a}intersects(r,n){return r?r.p1&&r.p2?this.lineIntersects(r):(r instanceof tt&&(r=r.reduce()),this.curveintersects(this.reduce(),r,n)):this.selfintersects(n)}lineIntersects(r){const n=na(r.p1.x,r.p2.x),i=na(r.p1.y,r.p2.y),s=ra(r.p1.x,r.p2.x),a=ra(r.p1.y,r.p2.y);return D.roots(this.points,r).filter(o=>{var l=this.get(o);return D.between(l.x,n,s)&&D.between(l.y,i,a)})}selfintersects(r){const n=this.reduce(),i=n.length-2,s=[];for(let a=0,o,l,c;a<i;a++)l=n.slice(a,a+1),c=n.slice(a+2),o=this.curveintersects(l,c,r),s.push(...o);return s}curveintersects(r,n,i){const s=[];r.forEach(function(o){n.forEach(function(l){o.overlaps(l)&&s.push({left:o,right:l})})});let a=[];return s.forEach(function(o){const l=D.pairiteration(o.left,o.right,i);l.length>0&&(a=a.concat(l))}),a}arcs(r){return r=r||.5,this._iterate(r,[])}_error(r,n,i,s){const a=(s-i)/4,o=this.get(i+a),l=this.get(s-a),c=D.dist(r,n),u=D.dist(r,o),f=D.dist(r,l);return tn(u-c)+tn(f-c)}_iterate(r,n){let i=0,s=1,a;do{a=0,s=1;let o=this.get(i),l,c,u,f,h=!1,d=!1,p,y=s,x=1;do if(d=h,f=u,y=(i+s)/2,l=this.get(y),c=this.get(s),u=D.getccenter(o,l,c),u.interval={start:i,end:s},h=this._error(u,o,i,s)<=r,p=d&&!h,p||(x=s),h){if(s>=1){if(u.interval.end=x=1,f=u,s>1){let m={x:u.x+u.r*yp(u.e),y:u.y+u.r*_p(u.e)};u.e+=D.angle({x:u.x,y:u.y},m,this.get(1))}break}s=s+(s-i)/2}else s=y;while(!p&&a++<100);if(a>=100)break;f=f||u,n.push(f),i=x}while(s<1);return n}}function bp(e,r){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Cp(e,r){if(e==null)return{};var n=bp(e,r),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(r.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(n[i]=e[i]))}return n}function kp(e,r){return Sp(e)||Mp(e,r)||ia(e,r)||Ip()}function Ep(e){return Ap(e)||Tp(e)||ia(e)||$p()}function Ap(e){if(Array.isArray(e))return Rr(e)}function Sp(e){if(Array.isArray(e))return e}function Tp(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mp(e,r){var n=e&&(typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(r&&i.length===r));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function ia(e,r){if(!!e){if(typeof e=="string")return Rr(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,r)}}function Rr(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function $p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ip(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dp(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Rp(e){var r=Dp(e,"string");return typeof r=="symbol"?r:String(r)}var zp=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(r instanceof Array?r.length?r:[void 0]:[r]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),a=e.reduce(function(l,c){var u=l,f=c;return s.forEach(function(h,d){var p=h.keyAccessor,y=h.isProp,x;if(y){var C=f,m=C[p],S=Cp(C,[p].map(Rp));x=m,f=S}else x=p(f,d);d+1<s.length?(u.hasOwnProperty(x)||(u[x]={}),u=u[x]):n?(u.hasOwnProperty(x)||(u[x]=[]),u[x].push(f)):u[x]=f}),l},{});n instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===s.length?Object.keys(c).forEach(function(f){return c[f]=n(c[f])}):Object.values(c).forEach(function(f){return l(f,u+1)})}(a);var o=a;return i&&(o=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===s.length?o.push({keys:u,vals:c}):Object.entries(c).forEach(function(f){var h=kp(f,2),d=h[0],p=h[1];return l(p,[].concat(Ep(u),[d]))})}(a),r instanceof Array&&r.length===0&&o.length===1&&(o[0].keys=[])),o};function Pp(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}const sa=Symbol("implicit");function aa(){var e=new $s,r=[],n=[],i=sa;function s(a){let o=e.get(a);if(o===void 0){if(i!==sa)return i;e.set(a,o=r.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return r.slice();r=[],e=new $s;for(const o of a)e.has(o)||e.set(o,r.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return aa(r,n).unknown(i)},Pp.apply(s,arguments),s}function Op(e){for(var r=e.length/6|0,n=new Array(r),i=0;i<r;)n[i]="#"+e.slice(i*6,++i*6);return n}var Np=Op("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Lp(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var jp=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  transform: translate(-50%, 25px);
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;Lp(jp);function oa(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Pn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?oa(Object(n),!0).forEach(function(i){nn(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function On(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?On=function(r){return typeof r}:On=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},On(e)}function nn(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function zr(e,r){return zr=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},zr(e,r)}function Up(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function rn(e,r,n){return Up()?rn=Reflect.construct:rn=function(s,a,o){var l=[null];l.push.apply(l,a);var c=Function.bind.apply(s,l),u=new c;return o&&zr(u,o.prototype),u},rn.apply(null,arguments)}function sn(e,r){return Kp(e)||Hp(e,r)||la(e,r)||qp()}function yt(e){return Fp(e)||Bp(e)||la(e)||Gp()}function Fp(e){if(Array.isArray(e))return Pr(e)}function Kp(e){if(Array.isArray(e))return e}function Bp(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hp(e,r){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(r&&i.length===r));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function la(e,r){if(!!e){if(typeof e=="string")return Pr(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pr(e,r)}}function Pr(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function Gp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vp=aa(Np);function ca(e,r,n){!r||typeof n!="string"||e.filter(function(i){return!i[n]}).forEach(function(i){i[n]=Vp(r(i))})}function Yp(e,r){var n=e.nodes,i=e.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.nodeFilter,o=a===void 0?function(){return!0}:a,l=s.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};n.forEach(function(p){return u[r(p)]={data:p,out:[],depth:-1,skip:!o(p)}}),i.forEach(function(p){var y=p.source,x=p.target,C=_(y),m=_(x);if(!u.hasOwnProperty(C))throw"Missing source node with id: ".concat(C);if(!u.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var S=u[C],A=u[m];S.out.push(A);function _(w){return On(w)==="object"?r(w):w}});var f=[];d(Object.values(u));var h=Object.assign.apply(Object,[{}].concat(yt(Object.entries(u).filter(function(p){var y=sn(p,2),x=y[1];return!x.skip}).map(function(p){var y=sn(p,2),x=y[0],C=y[1];return nn({},x,C.depth)}))));return h;function d(p){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=0,m=p.length;C<m;C++){var S=p[C];if(y.indexOf(S)!==-1){var A=function(){var _=[].concat(yt(y.slice(y.indexOf(S))),[S]).map(function(w){return r(w.data)});return f.some(function(w){return w.length===_.length&&w.every(function(T,E){return T===_[E]})})||(f.push(_),c(_)),"continue"}();if(A==="continue")continue}x>S.depth&&(S.depth=x,d(S.out,[].concat(yt(y),[S]),x+(S.skip?0:1)))}}}var Wp=2,it=function(r,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},Nn=Ns({props:{graphData:{default:{nodes:[],links:[]},onChange:function(r,n){n.engineRunning=!1}},dagMode:{onChange:function(r,n){!r&&(n.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(r){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:it},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:it},nodeColor:{default:"color",triggerUpdate:!1,onChange:it},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:it},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:it},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:it},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:it},linkColor:{default:"color",triggerUpdate:!1,onChange:it},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:it},linkWidth:{default:1,triggerUpdate:!1,onChange:it},linkCurvature:{default:0,triggerUpdate:!1,onChange:it},linkCanvasObject:{triggerUpdate:!1,onChange:it},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:it},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:it},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:it},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:it},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaDecay(r)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaTarget(r)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.velocityDecay(r)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(r,n,i){return i===void 0?r.forceLayout.force(n):(r.forceLayout.force(n,i),this)},d3ReheatSimulation:function(r){return r.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(r){return r.cntTicks=0,r.startTickTime=new Date,r.engineRunning=!0,this},isEngineRunning:function(r){return!!r.engineRunning},tickFrame:function(r){return!r.isShadow&&n(),s(),!r.isShadow&&a(),!r.isShadow&&o(),i(),this;function n(){r.engineRunning&&(++r.cntTicks>r.cooldownTicks||new Date-r.startTickTime>r.cooldownTime||r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin?(r.engineRunning=!1,r.onEngineStop()):(r.forceLayout.tick(),r.onEngineTick()))}function i(){var l=X(r.nodeVisibility),c=X(r.nodeVal),u=X(r.nodeColor),f=X(r.nodeCanvasObjectMode),h=r.ctx,d=r.isShadow/r.globalScale,p=r.graphData.nodes.filter(l);h.save(),p.forEach(function(y){var x=f(y);if(r.nodeCanvasObject&&(x==="before"||x==="replace")&&(r.nodeCanvasObject(y,h,r.globalScale),x==="replace")){h.restore();return}var C=Math.sqrt(Math.max(0,c(y)||1))*r.nodeRelSize+d;h.beginPath(),h.arc(y.x,y.y,C,0,2*Math.PI,!1),h.fillStyle=u(y)||"rgba(31, 120, 180, 0.92)",h.fill(),r.nodeCanvasObject&&x==="after"&&r.nodeCanvasObject(y,r.ctx,r.globalScale)}),h.restore()}function s(){var l=X(r.linkVisibility),c=X(r.linkColor),u=X(r.linkWidth),f=X(r.linkLineDash),h=X(r.linkCurvature),d=X(r.linkCanvasObjectMode),p=r.ctx,y=r.isShadow*2,x=r.graphData.links.filter(l);x.forEach(T);var C=[],m=[],S=x;if(r.linkCanvasObject){var A=[],_=[];x.forEach(function(E){return({before:C,after:m,replace:A}[d(E)]||_).push(E)}),S=[].concat(yt(C),m,_),C=C.concat(A)}p.save(),C.forEach(function(E){return r.linkCanvasObject(E,p,r.globalScale)}),p.restore();var w=zp(S,[c,u,f]);p.save(),Object.entries(w).forEach(function(E){var M=sn(E,2),L=M[0],O=M[1],U=!L||L==="undefined"?"rgba(0,0,0,0.15)":L;Object.entries(O).forEach(function(F){var V=sn(F,2),k=V[0],R=V[1],$=(k||1)/r.globalScale+y;Object.entries(R).forEach(function(j){var K=sn(j,2);K[0];var B=K[1],P=f(B[0]);p.beginPath(),B.forEach(function(q){var G=q.source,nt=q.target;if(!(!G||!nt||!G.hasOwnProperty("x")||!nt.hasOwnProperty("x"))){p.moveTo(G.x,G.y);var Z=q.__controlPoints;Z?p[Z.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,yt(Z).concat([nt.x,nt.y])):p.lineTo(nt.x,nt.y)}}),p.strokeStyle=U,p.lineWidth=$,p.setLineDash(P||[]),p.stroke()})})}),p.restore(),p.save(),m.forEach(function(E){return r.linkCanvasObject(E,p,r.globalScale)}),p.restore();function T(E){var M=h(E);if(!M){E.__controlPoints=null;return}var L=E.source,O=E.target;if(!(!L||!O||!L.hasOwnProperty("x")||!O.hasOwnProperty("x"))){var U=Math.sqrt(Math.pow(O.x-L.x,2)+Math.pow(O.y-L.y,2));if(U>0){var F=Math.atan2(O.y-L.y,O.x-L.x),V=U*M,k={x:(L.x+O.x)/2+V*Math.cos(F-Math.PI/2),y:(L.y+O.y)/2+V*Math.sin(F-Math.PI/2)};E.__controlPoints=[k.x,k.y]}else{var R=M*70;E.__controlPoints=[O.x,O.y-R,O.x+R,O.y]}}}}function a(){var l=1.6,c=.2,u=X(r.linkDirectionalArrowLength),f=X(r.linkDirectionalArrowRelPos),h=X(r.linkVisibility),d=X(r.linkDirectionalArrowColor||r.linkColor),p=X(r.nodeVal),y=r.ctx;y.save(),r.graphData.links.filter(h).forEach(function(x){var C=u(x);if(!(!C||C<0)){var m=x.source,S=x.target;if(!(!m||!S||!m.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var A=Math.sqrt(Math.max(0,p(m)||1))*r.nodeRelSize,_=Math.sqrt(Math.max(0,p(S)||1))*r.nodeRelSize,w=Math.min(1,Math.max(0,f(x))),T=d(x)||"rgba(0,0,0,0.28)",E=C/l/2,M=x.__controlPoints&&rn(tt,[m.x,m.y].concat(yt(x.__controlPoints),[S.x,S.y])),L=M?function($){return M.get($)}:function($){return{x:m.x+(S.x-m.x)*$||0,y:m.y+(S.y-m.y)*$||0}},O=M?M.length():Math.sqrt(Math.pow(S.x-m.x,2)+Math.pow(S.y-m.y,2)),U=A+C+(O-A-_-C)*w,F=L(U/O),V=L((U-C)/O),k=L((U-C*(1-c))/O),R=Math.atan2(F.y-V.y,F.x-V.x)-Math.PI/2;y.beginPath(),y.moveTo(F.x,F.y),y.lineTo(V.x+E*Math.cos(R),V.y+E*Math.sin(R)),y.lineTo(k.x,k.y),y.lineTo(V.x-E*Math.cos(R),V.y-E*Math.sin(R)),y.fillStyle=T,y.fill()}}}),y.restore()}function o(){var l=X(r.linkDirectionalParticles),c=X(r.linkDirectionalParticleSpeed),u=X(r.linkDirectionalParticleWidth),f=X(r.linkVisibility),h=X(r.linkDirectionalParticleColor||r.linkColor),d=r.ctx;d.save(),r.graphData.links.filter(f).forEach(function(p){var y=l(p);if(!(!p.hasOwnProperty("__photons")||!p.__photons.length)){var x=p.source,C=p.target;if(!(!x||!C||!x.hasOwnProperty("x")||!C.hasOwnProperty("x"))){var m=c(p),S=p.__photons||[],A=Math.max(0,u(p)/2)/Math.sqrt(r.globalScale),_=h(p)||"rgba(0,0,0,0.28)";d.fillStyle=_;var w=p.__controlPoints?rn(tt,[x.x,x.y].concat(yt(p.__controlPoints),[C.x,C.y])):null,T=0,E=!1;S.forEach(function(M){var L=!!M.__singleHop;if(M.hasOwnProperty("__progressRatio")||(M.__progressRatio=L?0:T/y),!L&&T++,M.__progressRatio+=m,M.__progressRatio>=1)if(!L)M.__progressRatio=M.__progressRatio%1;else{E=!0;return}var O=M.__progressRatio,U=w?w.get(O):{x:x.x+(C.x-x.x)*O||0,y:x.y+(C.y-x.y)*O||0};d.beginPath(),d.arc(U.x,U.y,A,0,2*Math.PI,!1),d.fill()}),E&&(p.__photons=p.__photons.filter(function(M){return!M.__singleHop||M.__progressRatio<=1}))}}}),d.restore()}},emitParticle:function(r,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:fp().force("link",ip()).force("charge",dp()).force("center",l0()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(r,n){n.ctx=r},update:function(r){if(r.engineRunning=!1,r.onUpdate(),r.nodeAutoColorBy!==null&&ca(r.graphData.nodes,X(r.nodeAutoColorBy),r.nodeColor),r.linkAutoColorBy!==null&&ca(r.graphData.links,X(r.linkAutoColorBy),r.linkColor),r.graphData.links.forEach(function(h){h.source=h[r.linkSource],h.target=h[r.linkTarget]}),!r.isShadow){var n=X(r.linkDirectionalParticles);r.graphData.links.forEach(function(h){var d=Math.round(Math.abs(n(h)));d?h.__photons=yt(Array(d)).map(function(){return{}}):delete h.__photons})}r.forceLayout.stop().alpha(1).nodes(r.graphData.nodes);var i=r.forceLayout.force("link");i&&i.id(function(h){return h[r.nodeId]}).links(r.graphData.links);var s=r.dagMode&&Yp(r.graphData,function(h){return h[r.nodeId]},{nodeFilter:r.dagNodeFilter,onLoopError:r.onDagError||void 0}),a=Math.max.apply(Math,yt(Object.values(s||[]))),o=r.dagLevelDistance||r.graphData.nodes.length/(a||1)*Wp*(["radialin","radialout"].indexOf(r.dagMode)!==-1?.7:1);if(r.dagMode){var l=function(d,p){return function(y){return d?(s[y[r.nodeId]]-a/2)*o*(p?-1:1):void 0}},c=l(["lr","rl"].indexOf(r.dagMode)!==-1,r.dagMode==="rl"),u=l(["td","bu"].indexOf(r.dagMode)!==-1,r.dagMode==="bu");r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(h){h.fx=c(h),h.fy=u(h)})}r.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(r.dagMode)!==-1?pp(function(h){var d=s[h[r.nodeId]]||-1;return(r.dagMode==="radialin"?a-d:d)*o}).strength(function(h){return r.dagNodeFilter(h)?1:0}):null);for(var f=0;f<r.warmupTicks&&!(r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin);f++)r.forceLayout.tick();this.resetCountdown(),r.onFinishUpdate()}});function ua(e,r){var n=e instanceof Array?e:[e],i=new r;return{linkProp:function(a){return{default:i[a](),onChange:function(l,c){n.forEach(function(u){return c[u][a](l)})},triggerUpdate:!1}},linkMethod:function(a){return function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var f=[];return n.forEach(function(h){var d=o[h],p=d[a].apply(d,c);p!==d&&f.push(p)}),f.length?f[0]:this}}}}var Xp=800,Zp=4,ha=ua("forceGraph",Nn),Qp=ua(["forceGraph","shadowGraph"],Nn),Jp=Object.assign.apply(Object,yt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return nn({},e,ha.linkProp(e))})).concat(yt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return nn({},e,Qp.linkProp(e))})))),tg=Object.assign.apply(Object,yt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return nn({},e,ha.linkMethod(e))})));function Or(e){if(e.canvas){var r=e.canvas.width,n=e.canvas.height;r===300&&n===150&&(r=n=0);var i=window.devicePixelRatio;r/=i,n/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!r&&!n&&a.getContext("2d").scale(i,i)});var s=St(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-r)/2/s,(e.height-n)/2/s),e.needsRedraw=!0}}function fa(e){var r=window.devicePixelRatio;e.setTransform(r,0,0,r,0,0)}function da(e,r,n){e.save(),fa(e),e.clearRect(0,0,r,n),e.restore()}var eg=Ns({props:Pn({width:{default:window.innerWidth,onChange:function(r,n){return Or(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(r,n){return Or(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(r,n){[{type:"Node",objs:r.nodes},{type:"Link",objs:r.links}].forEach(i),n.forceGraph.graphData(r),n.shadowGraph.graphData(r);function i(s){var a=s.type,o=s.objs;o.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=n.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=n.colorTracker.register({type:a,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(r,n){n.canvas&&r&&(n.canvas.style.background=r)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(r,n){n.shadowGraph.nodeCanvasObject(r?function(i,s,a){return r(i,i.__indexColor,s,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(r,n){n.shadowGraph.linkCanvasObject(r?function(i,s,a){return r(i,i.__indexColor,s,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(r,n){n.zoom.scaleExtent([r,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(r,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],r])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(r,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{default:function(){},triggerUpdate:!1},onZoomEnd:{default:function(){},triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Jp),aliases:{stopAnimation:"pauseAnimation"},methods:Pn({graph2ScreenCoords:function(r,n,i){var s=St(r.canvas);return{x:n*s.k+s.x,y:i*s.k+s.y}},screen2GraphCoords:function(r,n,i){var s=St(r.canvas);return{x:(n-s.x)/s.k,y:(i-s.y)/s.k}},centerAt:function(r,n,i,s){if(!r.canvas)return null;if(n!==void 0||i!==void 0){var a=Object.assign({},n!==void 0?{x:n}:{},i!==void 0?{y:i}:{});return s?new Xe.Tween(o()).to(a,s).easing(Xe.Easing.Quadratic.Out).onUpdate(l).start():l(a),this}return o();function o(){var c=St(r.canvas);return{x:(r.width/2-c.x)/c.k,y:(r.height/2-c.y)/c.k}}function l(c){var u=c.x,f=c.y;r.zoom.translateTo(r.zoom.__baseElem,u===void 0?o().x:u,f===void 0?o().y:f),r.needsRedraw=!0}},zoom:function(r,n,i){if(!r.canvas)return null;if(n!==void 0)return i?new Xe.Tween({k:s()}).to({k:n},i).easing(Xe.Easing.Quadratic.Out).onUpdate(function(o){var l=o.k;return a(l)}).start():a(n),this;return s();function s(){return St(r.canvas).k}function a(o){r.zoom.scaleTo(r.zoom.__baseElem,o),r.needsRedraw=!0}},zoomToFit:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];var l=this.getGraphBbox.apply(this,a);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(r.width-i*2)/(l.x[1]-l.x[0]),(r.height-i*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,n),this.zoom(u,n)}return this},getGraphBbox:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=X(r.nodeVal),s=function(l){return Math.sqrt(Math.max(0,i(l)||1))*r.nodeRelSize},a=r.graphData.nodes.filter(n).map(function(o){return{x:o.x,y:o.y,r:s(o)}});return a.length?{x:[Rs(a,function(o){return o.x-o.r}),Ds(a,function(o){return o.x+o.r})],y:[Rs(a,function(o){return o.y-o.r}),Ds(a,function(o){return o.y+o.r})]}:null},pauseAnimation:function(r){return r.animationFrameRequestId&&(cancelAnimationFrame(r.animationFrameRequestId),r.animationFrameRequestId=null),this},resumeAnimation:function(r){return r.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},tg),stateInit:function(){return{lastSetZoom:1,zoom:$d(),forceGraph:new Nn,shadowGraph:new Nn().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new o0}},init:function(r,n){r.innerHTML="";var i=document.createElement("div");i.classList.add("force-graph-container"),i.style.position="relative",r.appendChild(i),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),i.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var s=n.canvas.getContext("2d"),a=n.shadowCanvas.getContext("2d"),o={x:-1e12,y:-1e12},l=function(){var h=null,d=window.devicePixelRatio,p=o.x>0&&o.y>0?a.getImageData(o.x*d,o.y*d,1,1):null;return p&&(h=n.colorTracker.lookup(p.data)),h};wt(n.canvas).call(Fh().subject(function(){if(!n.enableNodeDrag)return null;var f=l();return f&&f.type==="Node"?f.d:null}).on("start",function(f){var h=f.subject;h.__initialDragPos={x:h.x,y:h.y,fx:h.fx,fy:h.fy},f.active||(h.fx=h.x,h.fy=h.y),n.canvas.classList.add("grabbable")}).on("drag",function(f){var h=f.subject,d=h.__initialDragPos,p=f,y=St(n.canvas).k,x={x:d.x+(p.x-d.x)/y-h.x,y:d.y+(p.y-d.y)/y-h.y};["x","y"].forEach(function(C){return h["f".concat(C)]=h[C]=d[C]+(p[C]-d[C])/y}),n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,h.__dragged=!0,n.onNodeDrag(h,x)}).on("end",function(f){var h=f.subject,d=h.__initialDragPos,p={x:h.x-d.x,y:h.y-d.y};d.fx===void 0&&(h.fx=void 0),d.fy===void 0&&(h.fy=void 0),delete h.__initialDragPos,n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,h.__dragged&&(delete h.__dragged,n.onNodeDragEnd(h,p))})),n.zoom(n.zoom.__baseElem=wt(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(f){return!f.button&&n.enableZoomPanInteraction&&(n.enableZoomInteraction||f.type!=="wheel")&&(n.enablePanInteraction||f.type==="wheel")}).on("zoom",function(f){var h=f.transform;[s,a].forEach(function(d){fa(d),d.translate(h.x,h.y),d.scale(h.k,h.k)}),n.onZoom(Pn({},h)),n.needsRedraw=!0}).on("end",function(f){return n.onZoomEnd(Pn({},f.transform))}),Or(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){St(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=Zp/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)});var c=document.createElement("div");c.classList.add("graph-tooltip"),i.appendChild(c),["pointermove","pointerdown"].forEach(function(f){return i.addEventListener(f,function(h){f==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=h),!n.isPointerDragging&&h.type==="pointermove"&&n.onBackgroundClick&&(h.pressure>0||n.isPointerPressed)&&(h.pointerType!=="touch"||h.movementX===void 0||[h.movementX,h.movementY].some(function(y){return Math.abs(y)>1}))&&(n.isPointerDragging=!0);var d=p(i);o.x=h.pageX-d.left,o.y=h.pageY-d.top,c.style.top="".concat(o.y,"px"),c.style.left="".concat(o.x,"px");function p(y){var x=y.getBoundingClientRect(),C=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop;return{top:x.top+m,left:x.left+C}}},{passive:!0})}),i.addEventListener("pointerup",function(f){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var h=[f,n.pointerDownEvent];requestAnimationFrame(function(){if(f.button===0)if(n.hoverObj){var d=n["on".concat(n.hoverObj.type,"Click")];d&&d.apply(void 0,[n.hoverObj.d].concat(h))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,h);if(f.button===2)if(n.hoverObj){var p=n["on".concat(n.hoverObj.type,"RightClick")];p&&p.apply(void 0,[n.hoverObj.d].concat(h))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,h)})},{passive:!0}),i.addEventListener("contextmenu",function(f){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(f.preventDefault(),!1)}),n.forceGraph(s),n.shadowGraph(a);var u=Ya(function(){da(a,n.width,n.height),n.shadowGraph.linkWidth(function(h){return X(n.linkWidth)(h)+n.linkHoverPrecision});var f=St(n.canvas);n.shadowGraph.globalScale(f.k).tickFrame()},Xp);n.flushShadowCanvas=u.flush,(this._animationCycle=function f(){var h=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(_){return _.__photons&&_.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var d=n.isPointerDragging?null:l();if(d!==n.hoverObj){var p=n.hoverObj,y=p?p.type:null,x=d?d.type:null;if(y&&y!==x){var C=n["on".concat(y,"Hover")];C&&C(null,p.d)}if(x){var m=n["on".concat(x,"Hover")];m&&m(d.d,y===x?p.d:null)}var S=d&&X(n["".concat(d.type.toLowerCase(),"Label")])(d.d)||"";c.style.visibility=S?"visible":"hidden",c.innerHTML=S,n.canvas.classList[d&&n["on".concat(x,"Click")]||!d&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=d}h&&u()}if(h){da(s,n.width,n.height);var A=St(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(s,A),n.forceGraph.globalScale(A).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(s,A)}Xe.update(),n.animationFrameRequestId=requestAnimationFrame(f)})()},update:function(r){}}),ng=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"flex flex-col md:flex-row items-stretch justify-end"},[n("div",{ref:"graph",staticClass:"graph flex flex-col overflow-hidden fixed left-0 right-0 top-0 bottom-0"}),e.selectedTag?n("div",{staticClass:"docs flex flex-col p-4"},[n("DocumentList",{staticClass:"z-index-1",attrs:{tag:e.selectedTag,cols:1}})],1):e._e()])},rg=[];const ig={name:"Graph",components:{DocumentList:Ii},data(){return{instance:null,selectedTag:null}},watch:{graph(){this.resize()}},computed:{colors(){return{edge:this.theme==="dark"?"#333":"#aaa",label:this.theme==="dark"?"rgba(200, 200, 200, 0.8)":"rgba(17, 17, 17, 0.8)",node:"rgba(224, 108, 117, 0.8)"}},connections(){return this.docs.flatMap(e=>e.tags.flatMap((r,n)=>e.tags.slice(n+1).map(i=>{const[s,a]=[r,i].sort();return{id:s+"_"+a,source:s,target:a}})))},docs(){return this.$store.getters.allKept},edges(){return this.connections.reduce((e,r)=>{const n=e.find(i=>i.id===r.id);return n?n.size+=1:e.push(Ht(Bt({},r),{color:this.colors.edge,size:1})),e},[])},graph(){return{nodes:this.nodes,links:this.edges}},maxEdgeSize(){return Math.max(...this.edges.map(e=>e.size))},maxNodeSize(){return Math.max(...this.nodes.map(e=>e.size))},nodes(){return this.edges.flatMap(e=>[e.source,e.target]).reduce((e,r)=>{const n=e.find(i=>i.id===r);return n?n.size+=1:e.push({id:r,name:r,size:1}),e},[])},theme(){return this.$store.state.settings.theme}},methods:{resize(){this.instance&&this.instance.graphData(this.graph).height(this.$refs.graph.clientHeight).width(this.$refs.graph.clientWidth)}},mounted(){this.instance=eg()(this.$refs.graph).height(this.$refs.graph.clientHeight).width(this.$refs.graph.clientWidth).graphData(this.graph).linkWidth(e=>e.size/this.maxEdgeSize*5).nodeCanvasObject((e,r,n)=>{const i=16/n,s=e.id,a=e.size/this.maxNodeSize*15/n;r.beginPath(),r.fillStyle=this.colors.node,r.arc(e.x,e.y,a,0,2*Math.PI,!1),r.fill(),r.closePath(),r.fillStyle=this.colors.label,r.font=`${i}px Inter`,r.textAlign="center",r.textBaseline="top",r.fillText(s,e.x,e.y+a+1)}).onNodeHover(e=>this.$refs.graph.style.cursor=e?"pointer":null).onNodeClick(e=>{this.selectedTag=e.id,this.instance.centerAt(e.x,e.y,1e3),this.instance.zoom(6,2e3)}),window.addEventListener("resize",()=>{this.resize()})}},pa={};var sg=H(ig,ng,rg,!1,ag,"3bf08216",null,null);function ag(e){for(let r in pa)this[r]=pa[r]}var og=function(){return sg.exports}(),lg=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"container mx-auto sm:px-4 flex flex-col"},[n("div",[n("button",{on:{click:e.importDocs}},[e._v("Import Docs")])]),n("MarkdownEditor",{ref:"editable",staticClass:"editable w-full",model:{value:e.text,callback:function(i){e.text=i},expression:"text"}})],1)},cg=[];const ug={name:"Importer",components:{MarkdownEditor:Hn},data(){return{text:""}},methods:{importDocs(){JSON.parse(this.text).forEach(r=>{const n=new It(r);this.$store.dispatch("ADD_DOCUMENT",n)})}}},ga={};var hg=H(ug,lg,cg,!1,fg,null,null,null);function fg(e){for(let r in ga)this[r]=ga[r]}var dg=function(){return hg.exports}(),pg=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"md:container md:mx-auto flex flex-col p-4 md:px-16 md:py-8"},[n("h2",{staticClass:"text-2xl mb-3"},[e._v("Quick Actions")]),n("h6",{staticClass:"text-gray-700 font-normal mb-5"},[e._v("The Quick Action button is always visible, and its function changes depending on what screen you are on.")]),n("div",{staticClass:"mb-8"},[n("h3",{staticClass:"flex items-center text-xl mb-2"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-3"},[e._v("Info")])]),n("p",[e._v("This button appears on an active document. It will take you to the document meta page.")])]),n("div",{staticClass:"mb-8"},[n("h3",{staticClass:"flex items-center text-xl mb-2"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})]),n("span",{staticClass:"ml-3"},[e._v("Close")])]),n("p",[e._v("This button shows up on all non-document screens. It will take you back to the editor.")])]),n("div",{staticClass:"mb-8"},[n("h4",{staticClass:"flex items-center text-xl mb-2"},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-3"},[e._v("Help")])]),n("p",[e._v("This button is visible on the dashboard, and it takes you to this page.")])])])},gg=[];const mg={name:"QuickAction"},ma={};var vg=H(mg,pg,gg,!1,yg,null,null,null);function yg(e){for(let r in ma)this[r]=ma[r]}var _g=function(){return vg.exports}(),wg=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"flex flex-col p-4 md:p-2"},e._l(e.tags,function(i){return n("Tag",{key:i,staticClass:"sidebar-link mb-2",attrs:{tag:i}})}),1)},xg=[];const bg={name:"TagList",components:{Tag:Ee},computed:{tags(){return this.$store.getters.tags}}},va={};var Cg=H(bg,wg,xg,!1,kg,"09118972",null,null);function kg(e){for(let r in va)this[r]=va[r]}var Eg=function(){return Cg.exports}();const Ln="LOAD_SETTINGS",an="SET_CRYPTO_ENABLED",we="SET_CRYPTO_KEYS",on="SET_EDITOR_IMAGES_ENABLED",ln="SET_EDITOR_IMAGES_SHOW_CAPTIONS",cn="SET_EDITOR_KEY_MAP",Nr="SET_EDITOR_LIGATURES",Lr="SET_EDITOR_SPELLCHECK",un="SET_EDITOR_TAB_SIZE",jr="SET_EDITOR_VERSION",hn="SET_THEME",Wt="SETTINGS_LOADED";var Ag={state:()=>({crypto:{enabled:!1,privateKey:null,publicKey:null},editor:{images:{enabled:!0,showCaptions:!0},keyMap:"default",ligatures:!0,spellcheck:!0,tabSize:2,version:"ink"},loaded:!1,theme:"dark"}),getters:{},mutations:{[Ln](e,r){Object.assign(e,Wa(e,r))},[an](e,r){e.crypto.enabled=r},[we](e,r){r.privateKey&&(e.crypto.privateKey=r.privateKey),r.publicKey&&(e.crypto.publicKey=r.publicKey)},[on](e,r){e.editor.images.enabled=r},[ln](e,r){e.editor.images.showCaptions=r},[cn](e,r){e.editor.keyMap=r},[Nr](e,r){e.editor.ligatures=r},[Lr](e,r){e.editor.spellcheck=r},[un](e,r){e.editor.tabSize=r},[jr](e,r){e.editor.version=r},[hn](e,r){e.theme=r},[Wt](e){e.loaded=!0}},actions:{async[Ln](e,r){e.commit(Ln,r)},async[an](e,r){e.commit(an,r)},async[we](e,r){e.commit(we,r)},async[on](e,r){e.commit(on,r)},async[ln](e,r){e.commit(ln,r)},async[cn](e,r){e.commit(cn,r)},async[un](e,r){e.commit(un,r)},async[hn](e,r){e.commit(hn,r)},async[Wt](e){e.commit(Wt)}}},Sg=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",[n("h3",{staticClass:"text-3xl"},[e._v("Editor")]),n("hr",{staticClass:"mt-2 mb-4"}),n("Extendable",{attrs:{scope:"app.settings.editor"}},[n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"config-editor-version"}},[e._v("Markdown Editor Version")]),n("div",[n("label",{staticClass:"button button-size-medium button-color-gray"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.version,expression:"version"}],staticClass:"radio",attrs:{type:"radio",value:"ink"},domProps:{checked:e._q(e.version,"ink")},on:{change:function(i){e.version="ink"}}}),n("span",{staticClass:"ml-3"},[e._v("Ink")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.version,expression:"version"}],staticClass:"radio",attrs:{type:"radio",value:"original"},domProps:{checked:e._q(e.version,"original")},on:{change:function(i){e.version="original"}}}),n("span",{staticClass:"ml-3"},[e._v("Original (deprecated)")])])]),n("small",{staticClass:"text-gray-700"},[e._v("Ink is the next generation of Octo's markdown editor. We are leaving the Original editor available for our Vim Mode users until this feature is implemented in Ink.")])]),e.usingInk?n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"config-editor-version"}},[e._v("Spellcheck")]),n("div",[n("label",{staticClass:"button button-size-medium button-color-gray items-baseline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.spellcheck,expression:"spellcheck"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.spellcheck)?e._i(e.spellcheck,null)>-1:e.spellcheck},on:{change:function(i){var s=e.spellcheck,a=i.target,o=!!a.checked;if(Array.isArray(s)){var l=null,c=e._i(s,l);a.checked?c<0&&(e.spellcheck=s.concat([l])):c>-1&&(e.spellcheck=s.slice(0,c).concat(s.slice(c+1)))}else e.spellcheck=o}}}),n("span",{staticClass:"ml-3 "},[e._v("Enable Spellcheck")])])]),n("small",{staticClass:"text-gray-700"},[e._v("Spellcheck (and Grammarly support) is only available with the Ink editor.")])]):e._e(),e.usingLegacy?n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"config-key-map"}},[e._v("Vim Mode")]),n("div",[n("label",{staticClass:"button button-size-medium button-color-gray"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyMap,expression:"keyMap"}],staticClass:"radio",attrs:{type:"radio",value:"default"},domProps:{checked:e._q(e.keyMap,"default")},on:{change:function(i){e.keyMap="default"}}}),n("span",{staticClass:"ml-3"},[e._v("Disable")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyMap,expression:"keyMap"}],staticClass:"radio",attrs:{type:"radio",value:"vim"},domProps:{checked:e._q(e.keyMap,"vim")},on:{change:function(i){e.keyMap="vim"}}}),n("span",{staticClass:"ml-3"},[e._v("Enable")])])])]):e._e(),n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"config-tab-size"}},[e._v("Tab length")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tabSize,expression:"tabSize"}],staticClass:"form-text w-full",attrs:{type:"number",min:"2",id:"config-tab-size"},domProps:{value:e.tabSize},on:{input:function(i){i.target.composing||(e.tabSize=i.target.value)}}}),n("small",{staticClass:"text-gray-700"},[e._v("Set the number of spaces to use for each tab (minimum: 2).")])]),n("div",{staticClass:"mb-4"},[n("h4",{staticClass:"text-2xl mb-2"},[e._v("Font Ligatures")]),n("p",{staticClass:"mb-2"},[e._v("Whether or not to show "),n("a",{attrs:{href:"https://github.com/tonsky/FiraCode#whats-in-the-box",target:"_blank",rel:"noopener noreferrer"}},[e._v("font ligatures")]),e._v(" ("),n("code",{staticClass:"monospace ligatures-normal"},[e._v("=>")]),e._v(").")]),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"button button-size-medium button-color-gray items-baseline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.ligatures,expression:"ligatures"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.ligatures)?e._i(e.ligatures,null)>-1:e.ligatures},on:{change:function(i){var s=e.ligatures,a=i.target,o=!!a.checked;if(Array.isArray(s)){var l=null,c=e._i(s,l);a.checked?c<0&&(e.ligatures=s.concat([l])):c>-1&&(e.ligatures=s.slice(0,c).concat(s.slice(c+1)))}else e.ligatures=o}}}),n("span",{staticClass:"ml-3 "},[e._v("Enable Ligatures")])])])]),n("div",{staticClass:"mb-4"},[n("h4",{staticClass:"text-2xl mb-2"},[e._v("Images")]),n("p",{staticClass:"mb-2"},[e._v("This setting determines whether or not image tags (e.g. "),n("code",{staticClass:"bg-gray-100 dark:bg-darkest p-0.5 rounded"},[e._v("![alt text](/path/to/image)")]),e._v(") will render images in your documents.")]),n("div",{staticClass:"mb-4"},[n("div",[n("label",{staticClass:"button button-size-medium button-color-gray items-baseline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.imagesEnabled,expression:"imagesEnabled"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.imagesEnabled)?e._i(e.imagesEnabled,null)>-1:e.imagesEnabled},on:{change:function(i){var s=e.imagesEnabled,a=i.target,o=!!a.checked;if(Array.isArray(s)){var l=null,c=e._i(s,l);a.checked?c<0&&(e.imagesEnabled=s.concat([l])):c>-1&&(e.imagesEnabled=s.slice(0,c).concat(s.slice(c+1)))}else e.imagesEnabled=o}}}),n("span",{staticClass:"ml-3 "},[e._v("Enable Images")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.showCaptions,expression:"showCaptions"}],staticClass:"checkbox",attrs:{disabled:!e.imagesEnabled,type:"checkbox"},domProps:{checked:Array.isArray(e.showCaptions)?e._i(e.showCaptions,null)>-1:e.showCaptions},on:{change:function(i){var s=e.showCaptions,a=i.target,o=!!a.checked;if(Array.isArray(s)){var l=null,c=e._i(s,l);a.checked?c<0&&(e.showCaptions=s.concat([l])):c>-1&&(e.showCaptions=s.slice(0,c).concat(s.slice(c+1)))}else e.showCaptions=o}}}),n("span",{staticClass:"ml-3"},[e._v("Show Captions")])])]),n("small",{staticClass:"text-gray-700"},[e._v("Note: Captions are pulled from alt text and rendered under your images in the image container.")])])])])],1)},Tg=[];const Mg={name:"EditorSettings",computed:{imagesEnabled:{get(){return this.$store.state.settings.editor.images.enabled},set(e){this.$store.dispatch(on,e)}},keyMap:{get(){return this.$store.state.settings.editor.keyMap},set(e){this.$store.dispatch(cn,e)}},ligatures:{get(){return this.$store.state.settings.editor.ligatures},set(e){this.$store.commit(Nr,e)}},showCaptions:{get(){return this.$store.state.settings.editor.images.showCaptions},set(e){this.$store.dispatch(ln,e)}},spellcheck:{get(){return this.$store.state.settings.editor.spellcheck},set(e){this.$store.commit(Lr,e)}},tabSize:{get(){return this.$store.state.settings.editor.tabSize},set(e){this.$store.dispatch(un,parseInt(e)||2)}},usingInk(){return this.version==="ink"},usingLegacy(){return this.version==="original"},version:{get(){return this.$store.state.settings.editor.version},set(e){this.$store.commit(jr,e)}}}},ya={};var $g=H(Mg,Sg,Tg,!1,Ig,null,null,null);function Ig(e){for(let r in ya)this[r]=ya[r]}var Dg=function(){return $g.exports}(),Rg=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",[n("h3",{staticClass:"text-3xl"},[e._v("Client-side Encryption")]),n("hr",{staticClass:"mt-2 mb-4"}),e._m(0),n("div",{staticClass:"mb-4"},[n("div",[n("label",{staticClass:"button button-size-medium button-color-gray"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.toggleCrypto,expression:"toggleCrypto"}],staticClass:"checkbox",attrs:{disabled:!e.allowCrypto||e.togglingCrypto,type:"checkbox"},domProps:{checked:Array.isArray(e.toggleCrypto)?e._i(e.toggleCrypto,null)>-1:e.toggleCrypto},on:{change:function(i){var s=e.toggleCrypto,a=i.target,o=!!a.checked;if(Array.isArray(s)){var l=null,c=e._i(s,l);a.checked?c<0&&(e.toggleCrypto=s.concat([l])):c>-1&&(e.toggleCrypto=s.slice(0,c).concat(s.slice(c+1)))}else e.toggleCrypto=o}}}),n("span",{staticClass:"ml-3"},[e._v("Enable Encryption")])])]),n("small",{staticClass:"text-gray-700"},[e._v("Note: Toggling encryption will encrypt/decrypt all existing documents. "),e.allowCrypto?e._e():n("span",[e._v("Enabling encryption "),n("strong",[e._v("requires")]),e._v(" private/public keys. Generate or supply them below to enable.")])])]),n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"tags-search"}},[e._v("Private Key")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.privateKey,expression:"privateKey"}],staticClass:"form-text w-full",attrs:{rows:"5",placeholder:"Private key",autocomplete:"off"},domProps:{value:e.privateKey},on:{input:function(i){i.target.composing||(e.privateKey=i.target.value)}}}),e._m(1)]),n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"tags-search"}},[e._v("Public Key")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.publicKey,expression:"publicKey"}],staticClass:"form-text w-full",attrs:{rows:"5",placeholder:"Public key",autocomplete:"off"},domProps:{value:e.publicKey},on:{input:function(i){i.target.composing||(e.publicKey=i.target.value)}}}),e._m(2)]),n("div",{staticClass:"mb-4"},[n("button",{staticClass:"button button-size-medium button-color-gray",on:{click:e.generateKeys}},[e._v("Generate Keys")])])])},zg=[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"mb-4"},[n("label",{attrs:{for:"tags-search"}},[e._v("Documents are encrypted using a "),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Hybrid_cryptosystem",target:"_blank",rel:"noopener noreferrer"}},[e._v("hybrid cryptosystem")]),e._v(". You may provide your own keys or generate a new set here. If you choose to generate a new set, be sure to "),n("strong",[e._v("make a secure backup of your keys")]),e._v(". If you lose your private key, you will not be able to recover any data that is encrypted.")])])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("small",{staticClass:"text-gray-700"},[e._v("This key is used to "),n("em",[e._v("decrypt")]),e._v(" documents. It "),n("strong",[e._v("will not")]),e._v(" be synced across devices when signed in.")])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("small",{staticClass:"text-gray-700"},[e._v("This key is used to "),n("em",[e._v("encrypt")]),e._v(" documents. It "),n("strong",[e._v("will")]),e._v(" be synced across devices when signed in.")])}];const Pg={name:"Encryption",data(){return{togglingCrypto:!1}},computed:{allowCrypto(){return this.privateKey&&this.publicKey},privateKey:{get(){return this.$store.state.settings.crypto.privateKey},set(e){this.$store.dispatch(we,{privateKey:e})}},publicKey:{get(){return this.$store.state.settings.crypto.publicKey},set(e){this.$store.dispatch(we,{publicKey:e})}},toggleCrypto:{get(){return this.$store.state.settings.crypto.enabled},async set(e){this.togglingCrypto=!0,await this.$store.dispatch(an,e),await Promise.all(this.$store.getters.decrypted.map(r=>this.$store.dispatch(ue,r))),this.togglingCrypto=!1}}},methods:{async generateKeys(){const e=await li(),{privateKey:r,publicKey:n}=await si(e);this.privateKey=r,this.publicKey=n}}},_a={};var Og=H(Pg,Rg,zg,!1,Ng,null,null,null);function Ng(e){for(let r in _a)this[r]=_a[r]}var Lg=function(){return Og.exports}(),jg=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",[n("h3",{staticClass:"text-3xl"},[e._v("Export Documents")]),n("hr",{staticClass:"mt-2 mb-4"}),e._m(0),n("div",{staticClass:"mb-4"},[n("router-link",{staticClass:"button button-size-medium button-color-gray",attrs:{to:{name:"export"}}},[e._v("Export Documents")])],1)])},Ug=[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"mb-4"},[n("label",[e._v("Bundle all documents as JSON. Documents will be decrypted if the necessary keys are available.")])])}];const Fg={name:"Export"},wa={};var Kg=H(Fg,jg,Ug,!1,Bg,null,null,null);function Bg(e){for(let r in wa)this[r]=wa[r]}var Hg=function(){return Kg.exports}(),Gg=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",{staticClass:"bg-blue-300 dark:bg-blue-400 text-gray-900 shadow rounded p-2"},[n("div",{staticClass:"lg:flex items-center justify-between"},[n("div",{staticClass:"lg:flex items-center text-gray-900"},[n("strong",{staticClass:"inline-flex items-center"},[n("div",{staticClass:"bg-gray-900 bg-opacity-25 rounded p-2"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"}})])]),n("span",{staticClass:"whitespace-nowrap ml-2 xl:ml-4"},[e._v("Exploring the Depths")])]),n("br"),n("div",{staticClass:"whitespace-nowrap lg:ml-2 xl:ml-4"},[e._v("The Official Blog for Octo")])]),n("div",{staticClass:"flex items-center justify-end mt-4 lg:mt-0"},[n("a",{staticClass:"button button-size-medium w-full bg-gray-100 whitespace-nowrap lg:ml-2",attrs:{href:"https://by.octo.app",target:"_blank",rel:"noopener noreferrer"},on:{click:e.trackNewsletterCta}},[e._v("Read Now")])])])])},qg=[];const Vg={name:"Newsletter",methods:{trackNewsletterCta(){window.fathom.trackGoal("CGHY6SJ8",0)}}},xa={};var Yg=H(Vg,Gg,qg,!1,Wg,null,null,null);function Wg(e){for(let r in xa)this[r]=xa[r]}var Xg=function(){return Yg.exports}(),Zg=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",[n("h3",{staticClass:"text-3xl"},[e._v("Theme")]),n("hr",{staticClass:"mt-2 mb-4"}),n("Extendable",{attrs:{scope:"app.settings.theme"}},[n("div",{staticClass:"mb-4"},[n("div",[n("label",{staticClass:"button button-size-medium button-color-gray"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.theme,expression:"theme"}],staticClass:"radio",attrs:{type:"radio",value:"dark"},domProps:{checked:e._q(e.theme,"dark")},on:{change:function(i){e.theme="dark"}}}),n("span",{staticClass:"ml-3"},[e._v("Dark")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.theme,expression:"theme"}],staticClass:"radio",attrs:{type:"radio",value:"light"},domProps:{checked:e._q(e.theme,"light")},on:{change:function(i){e.theme="light"}}}),n("span",{staticClass:"ml-3"},[e._v("Light")])]),n("label",{staticClass:"button button-size-medium button-color-gray ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.theme,expression:"theme"}],staticClass:"radio",attrs:{type:"radio",value:"october"},domProps:{checked:e._q(e.theme,"october")},on:{change:function(i){e.theme="october"}}}),n("span",{staticClass:"ml-3"},[e._v("October")])])])])])],1)},Qg=[];const Jg={name:"Theme",computed:{theme:{get(){return this.$store.state.settings.theme},set(e){this.$store.dispatch(hn,e)}}}},ba={};var tm=H(Jg,Zg,Qg,!1,em,null,null,null);function em(e){for(let r in ba)this[r]=ba[r]}var nm=function(){return tm.exports}(),rm=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"container flex flex-col mx-auto p-4 md:px-16 md:py-8"},[n("div",[n("h2",{staticClass:"text-4xl"},[e._v("Settings")]),n("p",{staticClass:"mt-1 mb-8 text-gray-500"},[e._v("Make yourself comfortable")]),n("Newsletter",{staticClass:"mb-4"}),n("Extendable",{attrs:{scope:"app.settings"}},[n("Editor",{staticClass:"mb-8"}),n("Theme",{staticClass:"mb-8"}),n("Encryption",{staticClass:"mb-8"}),n("Export",{staticClass:"mb-8"})],1)],1)])},im=[];const sm={name:"TheSettings",components:{Editor:Dg,Encryption:Lg,Export:Hg,Newsletter:Xg,Theme:nm}},Ca={};var am=H(sm,rm,im,!1,om,null,null,null);function om(e){for(let r in Ca)this[r]=Ca[r]}var lm=function(){return am.exports}(),cm=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("svg",{attrs:{fill:"currentColor",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"}},[n("path",{attrs:{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}}),n("path",{attrs:{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}}),n("path",{attrs:{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"}}),n("path",{attrs:{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"}})])},um=[];const hm={},ka={};var fm=H(hm,cm,um,!1,dm,null,null,null);function dm(e){for(let r in ka)this[r]=ka[r]}var Ea=function(){return fm.exports}(),pm=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",{staticClass:"flex flex-col gap-4"},[n("div",[e.github?n("div",{staticClass:"mb-4"},[n("div",{staticClass:"flex items-center"},[n("GitHubIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"font-bold text-lg ml-3"},[e._v("GitHub")]),n("span",{staticClass:"bg-gray-100 dark:bg-gray-800 text-base font-normal px-1 rounded ml-2"},[e._v("Linked")])],1),n("p",[e._v(e._s(e.github.email))])]):e._e(),e.google?n("div",{staticClass:"mb-4"},[n("div",{staticClass:"flex items-center"},[n("GoogleIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"font-bold text-lg ml-3"},[e._v("Google")]),n("span",{staticClass:"bg-gray-100 dark:bg-gray-800 text-base font-normal px-1 rounded ml-2"},[e._v("Linked")])],1),n("p",[e._v(e._s(e.google.email))])]):e._e(),e.twitter?n("div",{staticClass:"mb-4"},[n("div",{staticClass:"flex items-center"},[n("TwitterIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"font-bold text-lg ml-3"},[e._v("Twitter")]),n("span",{staticClass:"bg-gray-100 dark:bg-gray-800 text-base font-normal px-1 rounded ml-2"},[e._v("Linked")])],1),n("p",[e._v(e._s(e.twitter.email))])]):e._e()]),n("div",{staticClass:"flex flex-col gap-2 lg:max-w-xs"},[e.github?e._e():n("button",{staticClass:"button-base button-size-medium button-color-gray shadow w-full lg:w-auto whitespace-nowrap justify-start",on:{click:e.linkGithub}},[n("GitHubIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"ml-3"},[e._v("Link GitHub")])],1),e.google?e._e():n("button",{staticClass:"button-base button-size-medium button-color-gray shadow w-full lg:w-auto whitespace-nowrap justify-start",on:{click:e.linkGoogle}},[n("GoogleIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"ml-3"},[e._v("Link Google")])],1),e.twitter?e._e():n("button",{staticClass:"button-base button-size-medium button-color-gray shadow w-full lg:w-auto whitespace-nowrap justify-start",on:{click:e.linkTwitter}},[n("TwitterIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"ml-3"},[e._v("Link Twitter")])],1),n("button",{staticClass:"button-base button-size-medium button-color-gray shadow w-full lg:w-auto whitespace-nowrap justify-start text-red-400",on:{click:e.signOut}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})]),n("span",{staticClass:"action ml-3"},[e._v("Sign Out")])])])])},gm=[];const mm={name:"Providers",components:{GitHubIcon:Jn,GoogleIcon:Ea,TwitterIcon:tr},data(){return{accountConflict:!1}},computed:{github(){return this.providers.find(e=>e.providerId==="github.com")},google(){return this.providers.find(e=>e.providerId==="google.com")},online(){return this.$store.state.online},providers(){return this.user?this.user.providerData:[]},twitter(){return this.providers.find(e=>e.providerId==="twitter.com")},user(){return this.$store.state.auth.user}},methods:{linkGithub(){this.user.linkWithRedirect(new mt.GithubAuthProvider)},linkGoogle(){this.user.linkWithRedirect(new mt.GoogleAuthProvider)},linkTwitter(){this.user.linkWithRedirect(new mt.TwitterAuthProvider)},signInGithub(){ot.signInWithRedirect(new mt.GithubAuthProvider)},signInGoogle(){ot.signInWithRedirect(new mt.GoogleAuthProvider)},signInTwitter(){ot.signInWithRedirect(new mt.TwitterAuthProvider)},signOut(){ot.signOut()}},created(){ot.getRedirectResult().then(e=>{e.additionalUserInfo&&e.additionalUserInfo.isNewUser&&window.fathom.trackGoal("SQC05HQB",0)}).catch(e=>{switch(e.code){case"auth/account-exists-with-different-credential":this.accountConflict=!0;break}})}},Aa={};var vm=H(mm,pm,gm,!1,ym,null,null,null);function ym(e){for(let r in Aa)this[r]=Aa[r]}var _m=function(){return vm.exports}(),wm={state:()=>({isEvaluated:!1,user:null}),getters:{},mutations:{[le](e,r){e.user=r.user,e.isEvaluated=!0}},actions:{async[le](e,r){e.commit(le,r)},async[ao](e,r){return ot.signOut(),e.dispatch(le,{user:null})}}};const Ut=(e,r)=>e.all.filter(n=>!n.encrypted).find(n=>n.id===r);var xm={state:()=>({all:[],currentId:null,loaded:!1}),getters:{actionable(e,r,n,i){return r.kept.filter(s=>s.tasks.length>0)},allKept(e,r){return r.sorted.filter(n=>n.discardedAt===null)},daily(e,r){return r.sortedByCreated.find(n=>n.daily)},currentDoc(e,r){return r.decrypted.find(n=>n.id===e.currentId)},decrypted(e){return e.all.filter(r=>!r.encrypted)},discarded(e,r){return r.sorted.filter(n=>n.discardedAt!==null)},filtered(e,r,n){return n.context.active?r.sorted.filter(i=>n.context.tags.filter(s=>i.tags.includes(s)).length>0):r.sorted},kept(e,r){return r.filtered.filter(n=>n.discardedAt===null)},sorted(e,r){return r.decrypted.sort((n,i)=>i.updatedAt-n.updatedAt)},sortedByCreated(e,r){return r.decrypted.sort((n,i)=>i.createdAt-n.createdAt)},untagged(e,r){return r.allKept.filter(n=>n.tags.length==0)},withTag(e,r){return n=>r.kept.filter(i=>!!i.tags.find(s=>s===n))}},mutations:{[Ct](e,r){e.all.push(r)},[Gt](e,{id:r}){Ut(e,r).discard()},[re](e){e.loaded=!0},[ie](e,{id:r,text:n}){Ut(e,r).update({text:n})},[dn](e,r){e.all.push(r)},[se](e,r){Ut(e,r.id).merge(r)},[Qt](e,{id:r}){Ut(e,r).restore()},[ae](e,{id:r}){Ut(e,r).restrict()},[Jt](e,{id:r}){e.currentId=r},[ce](e,{id:r}){Ut(e,r).share()},[ue](e,{id:r}){Ut(e,r).touch()}},actions:{async[Ct](e,r){e.commit(Ct,r)},async[Gt](e,r){e.commit(Gt,r)},async[re](e){e.commit(re)},async[Wr](e,{id:r}){const n=Ut(e.state,r).duplicate();return e.commit(Ct,n),n.id},async[ie](e,r){e.commit(ie,r)},async[dn](e,r){e.commit(dn,r)},async[Xr](e,r){return Promise.all(r.map(n=>e.dispatch(dn,n)))},async[se](e,r){e.commit(se,r)},async[Zr](e,r){const n=r.map(s=>Ut(e.state,s.id)),i=new It({text:n.map(s=>s.text).join(`

`)});return e.commit(Ct,i),n.map(s=>e.dispatch(Gt,s))},async[Qt](e,r){e.commit(Qt,r)},async[ae](e,r){e.commit(ae,r)},async[Jt](e,r){e.commit(Jt,r)},async[ce](e,r){e.commit(ce,r)},async[ue](e,r){e.commit(ue,r)}}};const bm=({keybinding:e,callback:r})=>{Gn.bind(e,(n,i)=>{n.preventDefault(),r()})},jn=(e,r)=>{Gn.bindGlobal(e,(n,i)=>{n.preventDefault(),r()})},Cm=({keybinding:e})=>{Gn.unbind(e)},Un="DISABLE_LISTENER",Ft="DISABLE_LISTENERS",Fn="ENABLE_LISTENER",Kn="ENABLE_LISTENERS",Sa="KEYBINDINGS_LOADED",Ta="LOAD_KEYBINDINGS",Ma="TOGGLE_LISTENERS",Mt=e=>{Zt({name:e})},km=(e,r)=>()=>{e(),r.dispatch(Ft)},Kt=(e,r,n)=>({keybinding:e,callback:km(r,n)}),Em=e=>[Kt("c",()=>Mt("context"),e),Kt("d",()=>Mt("discarded"),e),Kt("e",()=>Mt("graph"),e),Kt("n",()=>Mt("dashboard"),e),Kt("p",()=>Mt("daily"),e),Kt("r",()=>Mt("recent"),e),Kt("s",()=>Mt("settings"),e),Kt("t",()=>Mt("actionable"),e),Kt("u",()=>Mt("untagged"),e)];var Am={state:()=>({activeElement:null,listeners:[],listening:!1,loaded:!1}),getters:{},mutations:{[Un](e,r){e.listeners=e.listeners.filter(n=>n!==r)},[Ft](e){e.listening=!1},[Fn](e,r){e.listeners.push(r)},[Kn](e){e.listening=!0},[Sa](e){e.loaded=!0}},actions:{async[Ta](e){jn("esc",()=>e.dispatch(Ft)),jn("mod+k",()=>e.dispatch(Ma)),jn("mod+s",()=>e.dispatch(Ft)),jn("mod+shift+f",()=>{e.dispatch(Ft),Mt("documents")}),window.addEventListener("click",()=>e.dispatch(Ft)),e.commit(Sa)},async[Un](e,r){Cm(r),e.commit(Un,r)},async[Ft](e){await Promise.all(e.state.listeners.map(r=>{e.dispatch(Un,r)})),e.state.activeElement&&(e.state.activeElement.focus(),e.state.activeElement=null),e.commit(Ft)},async[Fn](e,r){bm(r),e.commit(Fn,r)},async[Kn](e){e.state.activeElement=document.activeElement,e.state.activeElement.blur(),await Promise.all(Em(e).map(r=>{e.dispatch(Fn,r)})),e.commit(Kn)},async[Ma](e,r){return e.state.listening?e.dispatch(Ft):e.dispatch(Kn)}}};const $a="PULL_DOCUMENT",Ur="PULL_DOCUMENTS",Ia="PUSH_DOCUMENT",Da="PUSH_DOCUMENTS",Sm=(e,r)=>e.documents.all.find(n=>n.id===r);var Tm={state:()=>({}),getters:{lastSyncedAt(e,r,n){return new Date(Math.max(0,...n.documents.all.map(i=>i.syncedAt)))}},actions:{async[$a](e,r){const n=Sm(e.rootState,r.id);if(n){if(n.updatedAt<r.updatedAt)return e.dispatch(se,r);if(!(n.updatedAt>r.updatedAt)){if(!n.syncedAt||n.syncedAt<r.syncedAt)return e.dispatch(se,r)}}else return e.dispatch(Ct,r)},async[Ur](e){const r=await he.collection("documents").where("ownerId","==",e.rootState.auth.user.uid).where("syncedAt",">",e.getters.lastSyncedAt).get();return Promise.all(r.docs.map(async n=>{const i=n.data(),s=Ht(Bt({},i),{id:i.id||i.clientId,firebaseId:n.id,textKey:i.textKey||i.dataKey,createdAt:i.createdAt?i.createdAt.toDate():null,discardedAt:i.discardedAt?i.discardedAt.toDate():null,updatedAt:i.updatedAt?i.updatedAt.toDate():null,touchedAt:i.touchedAt?i.touchedAt.toDate():null,syncedAt:i.syncedAt.toDate()}),a=await Zn(s,{privateKey:e.rootState.settings.crypto.privateKey});return e.dispatch($a,a)}))},async[Ia](e,r){if(e.rootState.settings.crypto.enabled&&!r.encrypted&&!r.public)var n=await gn(r,{publicKey:e.rootState.settings.crypto.publicKey});else var n=await gn(r,{secure:!1});if(n.syncedAt){if(n.updatedAt>n.syncedAt||n.touchedAt>n.syncedAt)return he.collection("documents").doc(n.firebaseId).update(Ht(Bt({},n),{syncedAt:ei.FieldValue.serverTimestamp()}))}else return he.collection("documents").add(Ht(Bt({},n),{syncedAt:ei.FieldValue.serverTimestamp(),ownerId:e.rootState.auth.user.uid})).then(i=>{})},async[Da](e){await Promise.all(e.rootState.documents.all.map(r=>e.dispatch(Ia,r)))},async[Qr](e){await e.dispatch(Ur),await e.dispatch(Da),await e.dispatch(Ur)}}};class Fr{constructor(r){this.timeout=r,this.timers=[]}debounce(r=null,n){const i=this._findTimer(r);i&&this._clearTimer(i),this._setTimer(r,n)}_clearTimer(r){clearTimeout(r.instance),this.timers=this.timers.filter(n=>n.identifier!==r.identifier)}_findTimer(r){return this.timers.find(n=>n.identifier===r)}_setTimer(r,n){this.timers.push({identifier:r,instance:setTimeout(n,this.timeout)})}}const Bn=qn.createInstance({name:"contexts"}),Mm=new Fr(800),$m=(e,r)=>e.contexts.all.find(n=>n.id===r);var Im=e=>{e.subscribe(({type:r,payload:n},i)=>{switch(r){case er:const s=$m(i,n.id);s&&Mm.debounce(s.id,async()=>{Bn.setItem(s.id,s)});break;case nr:Bn.removeItem(n.id);break;case Wt:Bn.keys().then(a=>Promise.all(a.map(o=>Bn.getItem(o)))).then(a=>e.dispatch(Li,a));break}})};const Kr=qn.createInstance({name:"firebase/documents"}),Dm=new Fr(800),Rm=(e,r)=>e.documents.all.find(n=>n.id===r);var zm=e=>{e.subscribe(({type:r,payload:n},i)=>{switch(r){case Ct:case Gt:case ie:case se:case Qt:case ae:case ce:case ue:const s=Rm(i,n.id);s&&Dm.debounce(s.id,async()=>{if(i.settings.crypto.enabled&&!s.encrypted)var a=await gn(s,{publicKey:i.settings.crypto.publicKey});else var a=await gn(s,{secure:!1});Kr.setItem(s.id,a)});break;case Wt:Kr.keys().then(a=>Promise.all(a.map(o=>Kr.getItem(o)))).then(a=>Promise.all(a.map(o=>{const l=Object.assign({},o,{id:o.id||o.clientId,textKey:o.textKey||o.dataKey});return Zn(l,{privateKey:i.settings.crypto.privateKey})}))).then(a=>e.dispatch(Xr,a)).then(()=>e.dispatch(re));break}})},Pm=e=>{e.subscribe(({type:r,_payload:n},i)=>{switch(r){case Wt:e.dispatch(Ta);break}})};const Ra="main",za=qn.createInstance({name:"settings"});var Om=e=>{za.getItem(Ra).then(r=>{r?e.dispatch(Ln,r).then(()=>{e.dispatch(Wt)}):e.dispatch(Wt)}),e.subscribe(({type:r,_payload:n},i)=>{switch(r){case an:case we:case on:case ln:case cn:case Nr:case Lr:case un:case jr:case hn:za.setItem(Ra,i.settings);break}})};const Nm=new Fr(1500);var Lm=e=>{e.subscribe(async({type:r,payload:n},i)=>{switch(r){case Ct:case Gt:case re:case ie:case Qt:case ae:case Te:case le:case ce:case ue:e.state.online&&e.state.auth.user&&Nm.debounce("sync",()=>{e.dispatch(Qr)});break}})};const xe="SET_STRIPE_MODAL_VISIBILITY";ne.use(qr);var Xt=new qr.Store({state:{context:{active:!1,editing:!1,tags:[]},editor:null,menu:{show:!1},modKey:"\u2303 ctrl",online:!0,showLeftSidebar:!0,showRightSidebar:!1,showStripeModal:!1,showWelcome:!1,vimLoaded:!1},getters:{allTags(e,r){return Array.from(r.allKept.reduce((n,i)=>{for(let s of i.tags)n.add(s);return n},new Set)).sort()},contextTags(e){return e.context.tags.sort()},tags(e,r){return Array.from(r.kept.reduce((n,i)=>{for(let s of i.tags)n.add(s);return n},new Set)).sort()}},mutations:{[fn](e,r){e.context.active=!0},[Ae](e,r){e.context.active=!1,e.context.tags=[]},[Vn](e,r){e.menu.show=!1},[oe](e,r){e.context.tags=r.context.tags},[Yn](e,r){e.editor=r.editor},[pn](e,r){e.modKey=r},[Se](e){e.online=!1},[Te](e){e.online=!0},[Me](e,r){e.showRightSidebar=r},[xe](e,r){e.showStripeModal=r},SET_VIM_LOADED(e,r){e.vimLoaded=r},[Wn](e){e.menu.show=!0},[$e](e,r){e.showWelcome=r}},actions:{async[fn](e){e.commit(fn)},async[io](e){e.state.editor&&e.state.editor.getInputField().blur()},async[Ae](e){e.commit(Ae)},async[so](e){e.state.editor&&e.state.editor.focus()},async[Vn](e){e.commit(Vn)},async[oe](e,r){if(e.commit(oe,r),r.context.tags.length>0){if(!e.state.context.active)return e.dispatch(fn)}else if(e.state.context.active)return e.dispatch(Ae)},async[Yn](e,r){e.commit(Yn,r)},async[pn](e,r){e.commit(pn,r)},async[Se](e){e.commit(Se)},async[Te](e){e.commit(Te)},async[Me](e,r){e.commit(Me,r)},async[$e](e,r){e.commit($e,r)},async[xe](e,r){e.commit(xe,r),r&&setTimeout(()=>{e.state.showStripeModal&&e.commit(xe,!1)},15e3)},async[Wn](e){e.commit(Wn)}},modules:{auth:wm,contexts:Fc,documents:xm,keybindings:Am,settings:Ag,sync:Tm},plugins:[Im,zm,Pm,Om,Lm]}),jm=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("section",[e.accountConflict?n("div",{staticClass:"flex items-center rounded p-2 bg-blue-100 dark:bg-blue-400 text-gray-900 mb-4 shadow",attrs:{role:"alert"}},[n("svg",{attrs:{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}})]),n("span",{staticClass:"ml-3"},[e._v("You have an account with another provider. If you want to link these accounts, you need to sign in with the correct provider first.")])]):e._e(),n("div",{staticClass:"flex flex-col justify-center lg:flex-row gap-4"},[n("div",{staticClass:"flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4"},[n("h3",{staticClass:"flex items-center text-2xl font-bold mb-2"},[n("span",[e._v("Personal")]),e.user&&!e.subscribed?n("span",{staticClass:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},[e._v("Active")]):e._e()]),n("p",{staticClass:"mb-4"},[e._v("For hobbyists, students, and content consumers")]),e._m(0),e.user?e._e():n("div",{staticClass:"flex flex-col gap-2 mb-4"},[n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center",attrs:{disabled:!e.online},on:{click:e.signInGithub}},[n("GitHubIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[e._v("Continue with GitHub")])],1),n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center",attrs:{disabled:!e.online},on:{click:e.signInGoogle}},[n("GoogleIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[e._v("Continue with Google")])],1),n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center",attrs:{disabled:!e.online},on:{click:e.signInTwitter}},[n("TwitterIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[e._v("Continue with Twitter")])],1)]),n("p",{staticClass:"font-bold mb-4"},[e._v("What's included?")]),n("ul",[n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[e._v("Unlimited private docs")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[e._v("Unlimited syncing")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[e._v("Backups and retention")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[e._v("End-to-end encryption")])])])]),n("div",{staticClass:"flex-grow flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4 ring ring-blue-400 ring-opacity-75"},[n("h3",{staticClass:"flex items-center text-2xl font-bold mb-2"},[n("span",[e._v("Pro")]),e.user&&e.subscribed?n("span",{staticClass:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},[e._v("Active")]):e._e()]),n("p",{staticClass:"mb-4"},[e._v("For professionals, authors, and content creators")]),e._m(1),e.user?e._e():n("div",{staticClass:"flex flex-col gap-2 mb-4"},[n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400",attrs:{disabled:!e.online},on:{click:e.signInGithubPro}},[n("GitHubIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[e._v("Continue with GitHub")])],1),n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400",attrs:{disabled:!e.online},on:{click:e.signInGooglePro}},[n("GoogleIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[e._v("Continue with Google")])],1),n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400",attrs:{disabled:!e.online},on:{click:e.signInTwitterPro}},[n("TwitterIcon",{staticClass:"h-5 w-5"}),n("span",{staticClass:"action ml-3"},[e._v("Continue with Twitter")])],1)]),e.user&&!e.subscribed?n("div",{staticClass:"flex flex-col gap-2 mb-4"},[n("button",{staticClass:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400",attrs:{disabled:!e.online},on:{click:e.upgrade}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"}})]),n("span",{staticClass:"action ml-3"},[e._v("Upgrade Subscription")])])]):e._e(),n("p",{staticClass:"font-bold mb-4"},[e._v("What's included?")]),n("ul",[n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),e._m(2)]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[e._v("Unlimited public docs")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),n("span",[e._v("Unlimited attachments (coming soon)")])]),n("li",{staticClass:"flex gap-4"},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),e._m(3)]),e._m(4)])])])])},Um=[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("p",{staticClass:"text-4xl font-bold mb-4"},[e._v("$0 "),n("span",{staticClass:"text-base font-normal"},[e._v("/mo")])])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("p",{staticClass:"text-4xl font-bold mb-4"},[n("s",{staticClass:"font-normal text-3xl"},[e._v("$7")]),e._v(" "),n("span",{staticClass:"text-blue-400 ml-1"},[e._v("$4")]),e._v(" "),n("span",{staticClass:"text-base font-normal"},[e._v("/mo")])])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("span",[e._v("Everything in "),n("span",{staticClass:"font-bold"},[e._v("Personal")])])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("span",[e._v("Unlimited cross-posting "),n("sup",[e._v("1")]),e._v(" (coming soon)")])},function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("li",{staticClass:"mt-4 text-sm"},[n("span",[n("sup",[e._v("1")]),e._v(" Publish directly to dev.to, hashnode.com, and medium.com")])])}];const Fm={name:"Subscription",components:{GitHubIcon:Jn,GoogleIcon:Ea,TwitterIcon:tr},data(){return{accountConflict:!1,stripeError:null,subscribed:!1}},watch:{user(){this.user&&this.checkSubscription()}},computed:{github(){return this.providers.find(e=>e.providerId==="github.com")},google(){return this.providers.find(e=>e.providerId==="google.com")},online(){return this.$store.state.online},providers(){return this.user?this.user.providerData:[]},twitter(){return this.providers.find(e=>e.providerId==="twitter.com")},user(){return this.$store.state.auth.user}},methods:{linkGithub(){this.user.linkWithRedirect(new mt.GithubAuthProvider)},linkGoogle(){this.user.linkWithRedirect(new mt.GoogleAuthProvider)},linkTwitter(){this.user.linkWithRedirect(new mt.TwitterAuthProvider)},signInGithub(){ot.signInWithRedirect(new mt.GithubAuthProvider)},signInGithubPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGithub()},signInGoogle(){ot.signInWithRedirect(new mt.GoogleAuthProvider)},signInGooglePro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGoogle()},signInTwitter(){ot.signInWithRedirect(new mt.TwitterAuthProvider)},signInTwitterPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInTwitter()},signOut(){ot.signOut()},trackCtaContinueWithPro(){window.fathom.trackGoal("YKH3CBR1",0)},trackCtaUpgradeToPro(){window.fathom.trackGoal("WGUAVK63",0)},upgrade(){this.trackCtaUpgradeToPro(),this.subscribe()},async checkSubscription(){await ot.currentUser.getIdToken(!0);const e=await ot.currentUser.getIdTokenResult();this.subscribed=e.claims.stripeRole==="subscriber"},async subscribe(){this.$store.dispatch(xe,!0),(await he.collection("customers").doc(this.user.uid).collection("checkout_sessions").add({price:"price_1JXGjVFSSDySG1smmI1f8krR",success_url:window.location.href,cancel_url:window.location.href})).onSnapshot(r=>{const{error:n,url:i}=r.data();n&&(console.error({error:n}),this.stripeError=n.message,this.$store.dispatch(xe,!1)),i&&window.location.assign(i)})}},created(){this.user&&this.checkSubscription(),ot.getRedirectResult().then(e=>{e.additionalUserInfo&&e.additionalUserInfo.isNewUser&&window.fathom.trackGoal("SQC05HQB",0),window.location.hash==="#pro"&&this.checkSubscription().then(()=>{this.subscribed||this.subscribe()})}).catch(e=>{switch(e.code){case"auth/account-exists-with-different-credential":this.accountConflict=!0;break}})}},Pa={};var Km=H(Fm,jm,Um,!1,Bm,null,null,null);function Bm(e){for(let r in Pa)this[r]=Pa[r]}var Hm=function(){return Km.exports}(),Gm=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"container flex flex-col mx-auto p-4 md:px-16 md:py-8"},[n("h2",{staticClass:"text-4xl mb-1"},[e._v("Account")]),n("p",{staticClass:"text-gray-500 mb-8"},[e._v("Manage your account settings and subscriptions")]),e.user?e._e():n("p",{staticClass:"mb-4"},[e._v("By default, documents are only stored in your browser. This means an action such as "),n("strong",[e._v("clearing your history could erase everything")]),e._v(". To protect your data, you should sign up for an account.")]),e.user?n("section",{staticClass:"mb-8"},[n("h3",{staticClass:"text-3xl mb-4"},[e._v("Status")]),e.online?n("div",{staticClass:"flex items-center"},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-2"},[e._v("Docs are currently syncing to your account.")])]):n("div",{staticClass:"flex items-center text-red-400"},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})]),n("span",{staticClass:"ml-2"},[e._v("You are currently offline. Docs will continue syncing when you go online.")])])]):e._e(),n("section",{staticClass:"mb-8"},[e.user?n("h3",{staticClass:"text-3xl mb-4"},[e._v("Subscriptions")]):e._e(),n("Subscriptions")],1),e.user?n("section",{staticClass:"mb-8"},[n("h3",{staticClass:"text-3xl mb-4"},[e._v("Providers")]),n("Providers")],1):e._e()])},qm=[];const Vm={name:"Account",components:{Providers:_m,Subscriptions:Hm},computed:{online(){return this.$store.state.online},user(){return this.$store.state.auth.user}}},Oa={};var Ym=H(Vm,Gm,qm,!1,Wm,null,null,null);function Wm(e){for(let r in Oa)this[r]=Oa[r]}var Xm=function(){return Ym.exports}(),Zm=function(){var e=this,r=e.$createElement;return e._self._c,e._m(0)},Qm=[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"md:container md:mx-auto p-4 md:px-16 md:py-8"},[n("div",[n("h2",{staticClass:"text-4xl mb-4"},[e._v("Privacy Policy")]),n("p",{staticClass:"mb-2"},[e._v("David R. Myers built the Octo app as a Freemium app. This Service is provided by David R. Myers at no cost and is intended for use as is.")]),n("p",{staticClass:"mb-2"},[e._v("This page is used to inform visitors regarding my policies with the collection, use, and disclosure of Personal Information if anyone decided to use my Service.")]),n("p",{staticClass:"mb-2"},[e._v("If you choose to use my Service, then you agree to the collection and use of information in relation to this policy. The Personal Information that I collect is used for providing and improving the Service. I will not use or share your information with anyone except as described in this Privacy Policy.")]),n("p",{staticClass:"mb-2"},[e._v("The terms used in this Privacy Policy have the same meanings as in our Terms and Conditions, which is accessible at Octo unless otherwise defined in this Privacy Policy.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Information Collection and Use")]),n("p",{staticClass:"mb-2"},[e._v("For a better experience, while using our Service, I may require you to provide us with certain personally identifiable information, including but not limited to email.")]),n("p",{staticClass:"mb-2"},[e._v("The app does use third party services that may collect information used to identify you.")]),n("p",{staticClass:"mb-2"},[e._v("Link to privacy policy of third party service providers used by the app")]),n("ul",{staticClass:"list-disc list-inside mb-2"},[n("li",[n("a",{attrs:{href:"https://firebase.google.com/support/privacy/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Firebase Crashlytics")])]),n("li",[n("a",{attrs:{href:"https://usefathom.com/privacy/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Fathom Analytics")])]),n("li",[n("a",{attrs:{href:"https://sentry.io/privacy/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sentry")])])]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Log Data")]),n("p",{staticClass:"mb-2"},[e._v('I want to inform you that whenever you use my Service, in a case of an error in the app I collect data and information (through third party products) on your phone called Log Data. This Log Data may include information such as your device Internet Protocol ("IP") address, device name, operating system version, the configuration of the app when utilizing my Service, the time and date of your use of the Service, and other statistics.')]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Cookies")]),n("p",{staticClass:"mb-2"},[e._v("Cookies are files with a small amount of data that are commonly used as anonymous unique identifiers. These are sent to your browser from the websites that you visit and are stored on your device's internal memory.")]),n("p",{staticClass:"mb-2"},[e._v('This Service does not use these "cookies" explicitly. However, the app may use third party code and libraries that use "cookies" to collect information and improve their services. You have the option to either accept or refuse these cookies and know when a cookie is being sent to your device. If you choose to refuse our cookies, you may not be able to use some portions of this Service.')]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Service Providers")]),n("p",{staticClass:"mb-2"},[e._v("I may employ third-party companies and individuals due to the following reasons:")]),n("ul",{staticClass:"list-disc list-inside mb-2"},[n("li",[e._v("To facilitate our Service;")]),n("li",[e._v("To provide the Service on our behalf;")]),n("li",[e._v("To perform Service-related services; or")]),n("li",[e._v("To assist us in analyzing how our Service is used.")])]),n("p",{staticClass:"mb-2"},[e._v("I want to inform users of this Service that these third parties have access to your Personal Information. The reason is to perform the tasks assigned to them on our behalf. However, they are obligated not to disclose or use the information for any other purpose.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Security")]),n("p",{staticClass:"mb-2"},[e._v("I value your trust in providing us your Personal Information, thus we are striving to use commercially acceptable means of protecting it. But remember that no method of transmission over the internet, or method of electronic storage is 100% secure and reliable, and I cannot guarantee its absolute security.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Links to Other Sites")]),n("p",{staticClass:"mb-2"},[e._v("This Service may contain links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by me. Therefore, I strongly advise you to review the Privacy Policy of these websites. I have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Children\u2019s Privacy")]),n("p",{staticClass:"mb-2"},[e._v("These Services do not address anyone under the age of 13. I do not knowingly collect personally identifiable information from children under 13 years of age. In the case I discover that a child under 13 has provided me with personal information, I immediately delete this from our servers. If you are a parent or guardian and you are aware that your child has provided us with personal information, please contact me so that I will be able to do necessary actions.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Changes to This Privacy Policy")]),n("p",{staticClass:"mb-2"},[e._v("I may update our Privacy Policy from time to time. Thus, you are advised to review this page periodically for any changes. I will notify you of any changes by posting the new Privacy Policy on this page.")]),n("p",{staticClass:"mb-2"},[e._v("This policy is effective as of March 2nd, 2021.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Contact Us")]),n("p",{staticClass:"mb-2"},[e._v("If you have any questions or suggestions about my Privacy Policy, do not hesitate to contact me at "),n("a",{attrs:{href:"mailto:david@octo.app",target:"_blank",rel:"noopener noreferrer"}},[e._v("david@octo.app")]),e._v(".")]),n("p",{staticClass:"mb-2"},[e._v("This privacy policy page was created at "),n("a",{attrs:{href:"https://privacypolicytemplate.net",target:"_blank",rel:"noopener noreferrer"}},[e._v("privacypolicytemplate.net")]),e._v(" and modified/generated by "),n("a",{attrs:{href:"https://app-privacy-policy-generator.nisrulz.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("App Privacy Policy Generator")])])])])}];const Jm={},Na={};var t1=H(Jm,Zm,Qm,!1,e1,null,null,null);function e1(e){for(let r in Na)this[r]=Na[r]}var n1=function(){return t1.exports}(),r1=function(){var e=this,r=e.$createElement;return e._self._c,e._m(0)},i1=[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"md:container md:mx-auto p-4 md:px-16 md:py-8"},[n("div",[n("h2",{staticClass:"text-4xl mb-4"},[e._v("Terms & Conditions")]),n("p",{staticClass:"mb-2"},[e._v("By downloading or using the app, these terms will automatically apply to you \u2013 you should make sure therefore that you read them carefully before using the app. You\u2019re not allowed to copy, or modify the app, any part of the app, or our trademarks in any way. You\u2019re not allowed to attempt to extract the source code of the app, and you also shouldn\u2019t try to translate the app into other languages, or make derivative versions. The app itself, and all the trade marks, copyright, database rights and other intellectual property rights related to it, still belong to David R. Myers.")]),n("p",{staticClass:"mb-2"},[e._v("David R. Myers is committed to ensuring that the app is as useful and efficient as possible. For that reason, we reserve the right to make changes to the app or to charge for its services, at any time and for any reason. We will never charge you for the app or its services without making it very clear to you exactly what you\u2019re paying for.")]),n("p",{staticClass:"mb-2"},[e._v("The Octo app stores and processes personal data that you have provided to us, in order to provide my Service. It\u2019s your responsibility to keep your phone and access to the app secure. We therefore recommend that you do not jailbreak or root your phone, which is the process of removing software restrictions and limitations imposed by the official operating system of your device. It could make your phone vulnerable to malware/viruses/malicious programs, compromise your phone\u2019s security features and it could mean that the Octo app won\u2019t work properly or at all.")]),n("p",{staticClass:"mb-2"},[e._v("The app does use third party services that declare their own Terms and Conditions.")]),n("p",{staticClass:"mb-2"},[e._v("Link to Terms and Conditions of third party service providers used by the app")]),n("ul",{staticClass:"list-disc list-inside mb-2"},[n("li",[n("a",{attrs:{href:"https://firebase.google.com/terms/crashlytics"}},[e._v("Firebase Crashlytics")])]),n("li",[n("a",{attrs:{href:"https://usefathom.com/terms/"}},[e._v("Fathom Analytics")])]),n("li",[n("a",{attrs:{href:"https://sentry.io/terms/"}},[e._v("Sentry")])])]),n("p",{staticClass:"mb-2"},[e._v("You should be aware that there are certain things that David R. Myers will not take responsibility for. Certain functions of the app will require the app to have an active internet connection. The connection can be Wi-Fi, or provided by your mobile network provider, but David R. Myers cannot take responsibility for the app not working at full functionality if you don\u2019t have access to Wi-Fi, and you don\u2019t have any of your data allowance left.")]),n("p",{staticClass:"mb-2"},[e._v("If you\u2019re using the app outside of an area with Wi-Fi, you should remember that your terms of the agreement with your mobile network provider will still apply. As a result, you may be charged by your mobile provider for the cost of data for the duration of the connection while accessing the app, or other third party charges. In using the app, you\u2019re accepting responsibility for any such charges, including roaming data charges if you use the app outside of your home territory (i.e. region or country) without turning off data roaming. If you are not the bill payer for the device on which you\u2019re using the app, please be aware that we assume that you have received permission from the bill payer for using the app.")]),n("p",{staticClass:"mb-2"},[e._v("Along the same lines, David R. Myers cannot always take responsibility for the way you use the app i.e. You need to make sure that your device stays charged \u2013 if it runs out of battery and you can\u2019t turn it on to avail the Service, David R. Myers cannot accept responsibility.")]),n("p",{staticClass:"mb-2"},[e._v("With respect to David R. Myers\u2019s responsibility for your use of the app, when you\u2019re using the app, it\u2019s important to bear in mind that although we endeavour to ensure that it is updated and correct at all times, we do rely on third parties to provide information to us so that we can make it available to you. David R. Myers accepts no liability for any loss, direct or indirect, you experience as a result of relying wholly on this functionality of the app.")]),n("p",{staticClass:"mb-2"},[e._v("At some point, we may wish to update the app. The app is currently available on Android, iOS & KaiOS \u2013 the requirements for system(and for any additional systems we decide to extend the availability of the app to) may change, and you\u2019ll need to download the updates if you want to keep using the app. David R. Myers does not promise that it will always update the app so that it is relevant to you and/or works with the Android, iOS & KaiOS version that you have installed on your device. However, you promise to always accept updates to the application when offered to you, We may also wish to stop providing the app, and may terminate use of it at any time without giving notice of termination to you. Unless we tell you otherwise, upon any termination, (a) the rights and licenses granted to you in these terms will end; (b) you must stop using the app, and (if needed) delete it from your device.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Changes to This Terms and Conditions")]),n("p",{staticClass:"mb-2"},[e._v("I may update our Terms and Conditions from time to time. Thus, you are advised to review this page periodically for any changes. I will notify you of any changes by posting the new Terms and Conditions on this page.")]),n("p",{staticClass:"mb-2"},[e._v("These terms and conditions are effective as of March 2nd, 2021.")]),n("h4",{staticClass:"text-2xl mb-4 mt-8"},[e._v("Contact Us")]),n("p",{staticClass:"mb-2"},[e._v("If you have any questions or suggestions about my Terms and Conditions, do not hesitate to contact me at "),n("a",{attrs:{href:"mailto:david@octo.app"}},[e._v("david@octo.app")]),e._v(".")]),n("p",{staticClass:"mb-2"},[e._v("This Terms and Conditions page was generated by "),n("a",{attrs:{href:"https://app-privacy-policy-generator.nisrulz.com/"}},[e._v("App Privacy Policy Generator")])])])])}];const s1={},La={};var a1=H(s1,r1,i1,!1,o1,null,null,null);function o1(e){for(let r in La)this[r]=La[r]}var l1=function(){return a1.exports}();ne.use(Vr);const ja=new Vr({mode:"history",routes:[{path:"/index.html",redirect:{name:"dashboard"}},{path:"/home",name:"home",component:Uc},{path:"/",name:"editor",component:nc,children:[{path:"",redirect:{name:"home"}},{path:"account",name:"account",component:Xm},{path:"example",name:"example",component:kc,props:{url:"/example.md"}},{path:"documents",name:"documents",component:de},{path:"documents/new",name:"dashboard",component:mn,props:!0,beforeEnter(e,r,n){Xt.dispatch(Jt,{id:null}),Xt.state.showWelcome?(localStorage.setItem("octo/welcome/v1","done"),Xt.dispatch($e,!1),n({name:"home"})):n()}},{path:"documents/export",name:"export",component:Jc},{path:"documents/import",name:"import",component:dg},{path:"documents/actionable",name:"actionable",component:de,props:{actionable:!0}},{path:"documents/discarded",name:"discarded",component:de,props:{discarded:!0}},{path:"documents/recent",name:"recent",component:de,props:{recent:!0}},{path:"documents/untagged",name:"untagged",component:de,props:{untagged:!0}},{path:"documents/daily",name:"daily",component:Qo,props:!0},{path:"documents/:id/meta",name:"document-meta",component:Si,props:!0,beforeEnter(e,r,n){Xt.dispatch(Jt,{id:e.params.id}),n()}},{path:"documents/:id",name:"document",component:mn,props:!0,beforeEnter(e,r,n){Xt.dispatch(Jt,{id:e.params.id}),n()}},{path:"quick-action",name:"quick-action",component:_g},{path:"menu",name:"menu",component:Ci},{path:"shared/:id",name:"shared",component:mn,props:{default:!0,readonly:!0}},{path:"context",name:"context",component:Vc},{path:"tags/:tag",name:"tag",component:de,props:!0},{path:"tags",name:"tags",component:Eg,props:!0},{path:"settings",name:"settings",component:lm},{path:"graph",name:"graph",component:og},{path:"privacy-policy",name:"privacy_policy",component:n1},{path:"terms-and-conditions",name:"terms_and_conditions",component:l1}]}]}),Zt=e=>{ja.push(e).catch(r=>{if(r.name!=="NavigationDuplicated")throw r})};function c1(e={}){const{immediate:r=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:s,onRegisterError:a}=e;let o;const l=async(c=!0)=>{};return"serviceWorker"in navigator&&(o=new Xa("/sw.js",{scope:"/"}),o.addEventListener("activated",c=>{c.isUpdate?window.location.reload():i==null||i()}),o.register({immediate:r}).then(c=>{s==null||s(c)}).catch(c=>{a==null||a(c)})),l}c1({immediate:!0,onOfflineReady(){},onNeedRefresh(){window.dispatchEvent(new Event("swupdated"))},onRegistered(e){},onRegisterError(e){}});class u1{constructor(){this.components=new Set}registerComponent({component:r,container:n,position:i}){this.components.add({component:r,container:n,position:i})}}class h1{constructor(){this.packages=new Set,this.components=new Set}emit(r,n){this.packages.forEach(i=>i.emit(r,n))}getComponents(r,n){return[...this.components].filter(i=>i.container===r&&i.position===n).map(({component:i})=>i)}register(r){const n=new u1;r.register(n),n.components.forEach(i=>this.components.add(i)),this.packages.add(r)}}var f1=new h1;ne.prototype.$packageManager=f1;ne.use(Za,{breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1/0}});localStorage.getItem("octo/welcome/v1")===null&&Xt.dispatch($e,!0);ne.component("Extendable",_o);new ne({router:ja,store:Xt,render:e=>e(fo),async created(){window.addEventListener("offline",()=>{this.$store.dispatch(Se)}),window.addEventListener("online",()=>{this.$store.dispatch(Te)}),navigator.onLine||await this.$store.dispatch(Se),/Mac|iPod|iPhone|iPad/.test(navigator.platform)&&this.$store.dispatch(pn,"\u2318 cmd")}}).$mount("#app");ot.onAuthStateChanged(e=>{Xt.dispatch(le,{user:e||null})});
