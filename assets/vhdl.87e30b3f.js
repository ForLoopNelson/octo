function y(e){for(var n={},t=e.split(","),i=0;i<t.length;++i){var r=t[i].toUpperCase(),l=t[i].charAt(0).toUpperCase()+t[i].slice(1);n[t[i]]=!0,n[r]=!0,n[l]=!0}return n}function b(e){return e.eatWhile(/[\w\$_]/),"meta"}var o,x=y("null"),k={"`":b,$:b},w=y("abs,access,after,alias,all,and,architecture,array,assert,attribute,begin,block,body,buffer,bus,case,component,configuration,constant,disconnect,downto,else,elsif,end,end block,end case,end component,end for,end generate,end if,end loop,end process,end record,end units,entity,exit,file,for,function,generate,generic,generic map,group,guarded,if,impure,in,inertial,inout,is,label,library,linkage,literal,loop,map,mod,nand,new,next,nor,null,of,on,open,or,others,out,package,package body,port,port map,postponed,procedure,process,pure,range,record,register,reject,rem,report,return,rol,ror,select,severity,signal,sla,sll,sra,srl,subtype,then,to,transport,type,unaffected,units,until,use,variable,wait,when,while,with,xnor,xor"),z=y("architecture,entity,begin,case,port,else,elsif,end,for,function,if"),h=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/;function f(e,n){var t,i,r=e.next();if(k[r]){var l=k[r](e,n);if(l!==!1)return l}if(r=='"')return n.tokenize=(t=r,function(m,g){for(var u,a=!1,s=!1;(u=m.next())!=null;){if(u==t&&!a){s=!0;break}a=!a&&u=="--"}return!s&&a||(g.tokenize=f),"string.special"}),n.tokenize(e,n);if(r=="'")return n.tokenize=(i=r,function(m,g){for(var u,a=!1,s=!1;(u=m.next())!=null;){if(u==i&&!a){s=!0;break}a=!a&&u=="--"}return!s&&a||(g.tokenize=f),"string"}),n.tokenize(e,n);if(/[\[\]{}\(\),;\:\.]/.test(r))return o=r,null;if(/[\d']/.test(r))return e.eatWhile(/[\w\.']/),"number";if(r=="-"&&e.eat("-"))return e.skipToEnd(),"comment";if(h.test(r))return e.eatWhile(h),"operator";e.eatWhile(/[\w\$_]/);var d=e.current();return w.propertyIsEnumerable(d.toLowerCase())?(z.propertyIsEnumerable(d)&&(o="newstatement"),"keyword"):x.propertyIsEnumerable(d)?"atom":"variable"}function v(e,n,t,i,r){this.indented=e,this.column=n,this.type=t,this.align=i,this.prev=r}function p(e,n,t){return e.context=new v(e.indented,n,t,null,e.context)}function c(e){var n=e.context.type;return n!=")"&&n!="]"&&n!="}"||(e.indented=e.context.indented),e.context=e.context.prev}const E={startState:function(e){return{tokenize:null,context:new v(-e,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,n){var t=n.context;if(e.sol()&&(t.align==null&&(t.align=!1),n.indented=e.indentation(),n.startOfLine=!0),e.eatSpace())return null;o=null;var i=(n.tokenize||f)(e,n);if(i=="comment"||i=="meta")return i;if(t.align==null&&(t.align=!0),o!=";"&&o!=":"||t.type!="statement")if(o=="{")p(n,e.column(),"}");else if(o=="[")p(n,e.column(),"]");else if(o=="(")p(n,e.column(),")");else if(o=="}"){for(;t.type=="statement";)t=c(n);for(t.type=="}"&&(t=c(n));t.type=="statement";)t=c(n)}else o==t.type?c(n):(t.type=="}"||t.type=="top"||t.type=="statement"&&o=="newstatement")&&p(n,e.column(),"statement");else c(n);return n.startOfLine=!1,i},indent:function(e,n,t){if(e.tokenize!=f&&e.tokenize!=null)return 0;var i=n&&n.charAt(0),r=e.context,l=i==r.type;return r.type=="statement"?r.indented+(i=="{"?0:t.unit):r.align?r.column+(l?0:1):r.indented+(l?0:t.unit)},languageData:{indentOnInput:/^\s*[{}]$/,commentTokens:{line:"--"}}};export{E as vhdl};
