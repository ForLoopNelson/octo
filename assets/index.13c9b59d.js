var Ct=Object.defineProperty,Lt=Object.defineProperties;var Rt=Object.getOwnPropertyDescriptors;var Ve=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable;var Ye=(e,t,s)=>t in e?Ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,v=(e,t)=>{for(var s in t||(t={}))Nt.call(t,s)&&Ye(e,s,t[s]);if(Ve)for(var s of Ve(t))Mt.call(t,s)&&Ye(e,s,t[s]);return e},I=(e,t)=>Lt(e,Rt(t));import{d as Re,h as Oe,o as d,c as m,a as n,t as Ce,F as ve,r as be,b as x,e as B,f as E,w as _,g as P,i as Pt,u as Kt,j as He,k as $t,l as L,m as je,n as k,p as Le,q as We,S as Fe,s as Ut,v as Bt,M as Gt,x as Vt,y as Ne,z as Yt,P as $,A as Ht,B as jt,C as Me,D as Wt,E as Pe,G as Ft,H as ot,I as ct,J as Te,K,L as it,N as dt,O as lt,Q as ut,R as zt,T as Ke,U as qt,V as Xt,W as Jt,X as Qt,Y as Zt,Z as es}from"./vendor.f62fa2d1.js";const ts=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};ts();const ss="modulepreload",ze={},as="/",i=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${as}${a}`,a in ze)return;ze[a]=!0;const r=a.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${o}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":ss,r||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),r)return new Promise((u,l)=>{c.addEventListener("load",u),c.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};var S=(e,t)=>{const s=e.__vccOpts||e;for(const[a,r]of t)s[a]=r;return s};const rs=Re({name:"ChangeSet",props:{changeSet:{required:!0,type:Object}},computed:{changes(){return this.changeSet.changes},timestamp(){return Oe(this.changeSet.timestamp).format("dddd, MMMM Do, YYYY")}}}),ns={class:"mb-4"},os={class:"flex flex-col gap-1 list-disc pl-4"};function cs(e,t,s,a,r,o){return d(),m("div",null,[n("h2",ns,Ce(e.timestamp),1),n("ul",os,[(d(!0),m(ve,null,be(e.changes,c=>(d(),m("li",{key:c},Ce(c),1))),128))])])}var is=S(rs,[["render",cs]]);const ds=Re({name:"Modal",emits:["close"],computed:{hasFooter(){return!!this.$slots.footer}},methods:{onClose(){this.$emit("close")}}}),ls={class:"flex items-center justify-center fixed inset-0 z-50 bg-gray-100 bg-opacity-50 dark:bg-darkest dark:bg-opacity-50"},us={class:"w-full max-w-4xl p-4"},ps={class:"bg-gray-100 dark:bg-darkest rounded p-4 shadow"},ms={class:"text-2xl flex items-center justify-between"},hs={class:"px-2"},_s=n("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),fs=[_s],gs=n("hr",{class:"border-gray-200 dark:border-gray-800 mt-4"},null,-1),ys={key:0,class:"border-gray-200 dark:border-gray-800 mb-4"},Es={key:1};function ws(e,t,s,a,r,o){const c=x("SimpleBar");return d(),m("div",ls,[n("div",us,[n("div",ps,[n("h1",ms,[n("span",hs,[B(e.$slots,"header")]),n("button",{class:"p-2",onClick:t[0]||(t[0]=(...u)=>e.onClose&&e.onClose(...u))},fs)]),gs,E(c,{class:"max-h-96 py-4 px-2"},{default:_(()=>[B(e.$slots,"default")]),_:3}),e.hasFooter?(d(),m("hr",ys)):P("",!0),e.hasFooter?(d(),m("div",Es,[B(e.$slots,"footer")])):P("",!0)])])])}var pt=S(ds,[["render",ws]]);const vs=k(" What's new? "),bs={class:"flex flex-col gap-8"},Ts={class:"flex items-center justify-end gap-2"},Ss=n("span",null,"Sign Up",-1),xs=Re({setup(e){const t=Pt(()=>Kt().state.auth),s=He([]),a=localStorage.getItem("changelog:v1"),r=He(!1),o=()=>{r.value=!1},c=()=>{window.fathom.trackGoal("I4IWFGNK",0),o()};return $t(async()=>{try{const u=(await i(()=>import("./changelog.3c88db88.js"),[])).default;s.value.push(...u.sort((U,se)=>Oe(se.timestamp).unix()-Oe(U.timestamp).unix()));const l=s.value[0].timestamp;(!a||new Date(l)>new Date(a))&&(r.value=!0,localStorage.setItem("changelog:v1",l))}catch(u){console.error(u)}}),(u,l)=>{const U=x("router-link");return r.value?(d(),L(pt,{key:0,onClose:o},{header:_(()=>[vs]),footer:_(()=>[n("div",Ts,[n("button",{class:"button-flat button-size-medium",onClick:o},"Dismiss"),je(t).isEvaluated&&!je(t).user?(d(),L(U,{key:0,onClick:c,to:{name:"account"},class:"text-blue-400 button-flat button-color-surface button-size-medium"},{default:_(()=>[Ss]),_:1})):P("",!0)])]),default:_(()=>[n("div",bs,[(d(!0),m(ve,null,be(s.value,se=>(d(),L(is,{changeSet:se,key:se.timestamp},null,8,["changeSet"]))),128))])]),_:1})):P("",!0)}}});const ks={name:"App",components:{ChangeLog:xs,Modal:pt},inject:["mq"],data(){return{showModal:!1}},watch:{theme(e){switch(document.documentElement.classList.remove("dark","light","october"),e){case"dark":document.documentElement.classList.add("dark");break;case"light":document.documentElement.classList.add("light");break;case"october":document.documentElement.classList.add("dark","october");break;default:document.documentElement.classList.add("dark");break}}},computed:{home(){return this.$route.name==="home"},ligatures(){return this.$store.state.settings.editor.ligatures},sizes(){return this.mq.current==="xs"?["xs xs-plus"]:this.mq.current==="sm"?["sm xs-plus sm-plus"]:this.mq.current==="md"?["md xs-plus sm-plus md-plus"]:this.mq.current==="lg"?["lg xs-plus sm-plus md-plus lg-plus"]:this.mq.current==="xl"?["xl xs-plus sm-plus md-plus lg-plus xl-plus"]:[]},showStripeModal(){return this.$store.state.showStripeModal},theme(){return this.$store.state.settings.theme}},methods:{closeChangelog(){this.showChangelog=!1},hideModal(){this.showModal=!1},refreshPage(){window.location.reload(!0)}},created(){window.addEventListener("swupdated",e=>{this.showModal=!0})}},As={key:0,class:"flex items-center justify-center fixed top-0 left-0 h-full w-full z-50 bg-darkest"},Is=n("div",{class:"flex flex-col items-center justify-center gap-8 text-center text-2xl"},[n("svg",{class:"animate-spin mr-3 h-10 w-10 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),n("span",null,"Redirecting you to Stripe for checkout")],-1),Ds=[Is],Os={class:"flex-auto p-4 notification-body"},Cs=n("p",{class:"mb-6"},"An update is available. Refresh the app to apply.",-1);function Ls(e,t,s,a,r,o){const c=x("ChangeLog"),u=x("router-view");return d(),m("div",{id:"app",class:Le(["h-screen",o.sizes.concat([!o.ligatures&&"ligatures-none"])])},[o.showStripeModal?(d(),m("div",As,Ds)):P("",!0),o.home?P("",!0):(d(),L(c,{key:1})),n("div",null,[E(u,{inheritAttrs:!0,class:"flex-grow flex-shrink min-h-0"}),n("div",{class:Le(["flex flex-col min-w-0 max-w-full rounded break-words bg-white notification fixed top-0 right-0 m-4 md:m-2 dark:bg-gray-800",{hidden:!r.showModal}])},[n("div",Os,[Cs,n("button",{type:"button",class:"button button-size-small button-color-blue text-gray-900 dark:text-gray-200",onClick:t[0]||(t[0]=(...l)=>o.refreshPage&&o.refreshPage(...l))},"Refresh Now"),n("button",{type:"button",class:"button button-size-small button-color-gray ml-2",onClick:t[1]||(t[1]=(...l)=>o.hideModal&&o.hideModal(...l))},"Later")])],2)])],2)}var Rs=S(ks,[["render",Ls]]);const Ns={name:"Extendable",props:{scope:String},computed:{appendable(){return this.$packageManager.getComponents(this.scope,"append")},prependable(){return this.$packageManager.getComponents(this.scope,"prepend")}},created(){[...this.appendable,...this.prependable].forEach(e=>{this.$options.components[e.name]=e})}};function Ms(e,t,s,a,r,o){return d(),m("div",null,[(d(!0),m(ve,null,be(o.prependable,c=>(d(),L(We(c.name),{key:c.name}))),128)),B(e.$slots,"default"),(d(!0),m(ve,null,be(o.appendable,c=>(d(),L(We(c.name),{key:c.name}))),128))])}var Ps=S(Ns,[["render",Ms]]);const Ks={name:"simplebar-vue",mounted(){const e=Fe.getOptions(this.$refs.element.attributes);this.SimpleBar=new Fe(this.$refs.element,e)},computed:{scrollElement(){return this.$refs.scrollElement},contentElement(){return this.$refs.contentElement}}},$s={ref:"element"},Us={class:"simplebar-wrapper"},Bs=n("div",{class:"simplebar-height-auto-observer-wrapper"},[n("div",{class:"simplebar-height-auto-observer"})],-1),Gs={class:"simplebar-mask"},Vs={class:"simplebar-offset"},Ys={class:"simplebar-content-wrapper",ref:"scrollElement"},Hs={class:"simplebar-content",ref:"contentElement"},js=n("div",{class:"simplebar-placeholder"},null,-1),Ws=n("div",{class:"simplebar-track simplebar-horizontal"},[n("div",{class:"simplebar-scrollbar"})],-1),Fs=n("div",{class:"simplebar-track simplebar-vertical"},[n("div",{class:"simplebar-scrollbar"})],-1);function zs(e,t,s,a,r,o){return d(),m("div",$s,[n("div",Us,[Bs,n("div",Gs,[n("div",Vs,[n("div",Ys,[n("div",Hs,[B(e.$slots,"default")],512)],512)])]),js]),Ws,Fs],512)}var qs=S(Ks,[["render",zs]]);const Xs={apiKey:"AIzaSyCqk-k-XiYFYgPQo28ITj3qkxoqDGDrVk0",appId:"1:1011232276130:web:1ae2ea1437c349a4c2e1fb",authDomain:"octo-64838.firebaseapp.com",databaseURL:"https://octo-64838.firebaseio.com",messagingSenderId:"1011232276130",projectId:"octo-64838",storageBucket:"octo-64838.appspot.com"},Js=()=>{const e=Ut(Xs);Bt(e,{experimentalAutoDetectLongPolling:!0}),Gt("error"),location.hostname==="localhost"&&!{}.VITE_FIREBASE_EMULATOR_BYPASS&&(Vt(Ne(),{}.VITE_FIREBASE_EMULATOR_AUTH,{disableWarnings:!0}),Yt($(),{}.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,{}.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT))},Qs={},Zs={fill:"currentColor",viewBox:"0 0 136 133",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ea=n("path",{d:"M67.867,0c-37.48,0 -67.867,30.388 -67.867,67.875c0,29.988 19.446,55.425 46.417,64.404c3.396,0.621 4.633,-1.475 4.633,-3.275c0,-1.608 -0.058,-5.879 -0.092,-11.541c-18.879,4.1 -22.862,-9.1 -22.862,-9.1c-3.088,-7.842 -7.538,-9.93 -7.538,-9.93c-6.162,-4.208 0.467,-4.125 0.467,-4.125c6.813,0.48 10.396,6.996 10.396,6.996c6.054,10.371 15.887,7.375 19.754,5.638c0.617,-4.384 2.367,-7.375 4.308,-9.071c-15.07,-1.713 -30.916,-7.538 -30.916,-33.546c-0,-7.408 2.646,-13.467 6.987,-18.212c-0.7,-1.717 -3.029,-8.617 0.663,-17.963c-0,0 5.7,-1.825 18.666,6.958c5.413,-1.508 11.221,-2.258 16.992,-2.283c5.763,0.025 11.571,0.775 16.992,2.283c12.958,-8.783 18.646,-6.958 18.646,-6.958c3.704,9.346 1.375,16.246 0.674,17.963c4.35,4.745 6.98,10.804 6.98,18.212c-0,26.075 -15.871,31.813 -30.992,33.492c2.438,2.096 4.608,6.237 4.608,12.571c0,9.07 -0.083,16.391 -0.083,18.616c0,1.817 1.221,3.929 4.667,3.267c26.95,-8.996 46.379,-34.417 46.379,-64.396c-0,-37.487 -30.392,-67.875 -67.879,-67.875"},null,-1),ta=[ea];function sa(e,t){return d(),m("svg",Zs,ta)}var aa=S(Qs,[["render",sa]]);const ra={},na={fill:"currentColor",version:"1.1",id:"Logo",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 248 204",style:{"enable-background":"new 0 0 248 204"},"xml:space":"preserve"},oa=n("path",{d:"M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04 C50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66 c-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64 c7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76 c-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26 c-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z"},null,-1),ca=[oa];function ia(e,t){return d(),m("svg",na,ca)}var da=S(ra,[["render",ia]]);const la={name:"Home",components:{GitHubIcon:aa,TwitterIcon:da},data(){return{supportsTouch:!1,tapped:!1}},computed:{clickOrTap(){return this.supportsTouch?"Tap":"Click"},discordInviteLink(){return"https://link.octo.app/discord"}},methods:{tapFrame(){window.fathom.trackGoal("O6H36OQU",0),this.tapped=!0},trackCtaOpenApp(){window.fathom.trackGoal("VGYOUBMF",0)},trackCtaSignUpNow(){window.fathom.trackGoal("TOVMVZSW",0)}},created(){this.supportsTouch="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},w=e=>(Ht("data-v-482ffad8"),e=e(),jt(),e),ua={class:"text-gray-100 text-lg p-4 overflow-auto home"},pa={class:"py-4 lg:py-8"},ma={class:"container mx-auto mb-8"},ha={class:"flex flex-col"},_a=w(()=>n("h1",{class:"text-4xl lg:text-6xl text-brand font-bold text-center mt-20 lg:mt-40"},"Write. Organize. Review.",-1)),fa=w(()=>n("p",{class:"text-xl lg:text-2xl text-gray-600 text-center mt-8"},[k("Octo is a "),n("span",{class:"font-semibold"},"Notes App"),k(" for "),n("span",{class:"font-semibold"},"Knowledge Workers")],-1)),ga={class:"flex flex-col gap-4 items-center text-center mt-16"},ya=w(()=>n("span",{class:"flex items-center gap-3 align-center"},[n("span",null,"Get started for free"),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),Ea=w(()=>n("span",{class:"flex items-center gap-3"},[n("span",null,"Take me to the app"),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),wa={class:"aspect-w-3 aspect-h-4 lg:aspect-w-16 lg:aspect-h-9 w-full relative mt-20 lg:mt-40"},va=w(()=>n("iframe",{class:"bg-gray-900 rounded shadow-lg",src:"/example",sandbox:"allow-scripts allow-same-origin",loading:"lazy"},null,-1)),ba={class:"bg-gray-900 py-2 px-4 rounded"},Ta=Me('<section class="py-4 lg:py-8" data-v-482ffad8><div class="container mx-auto mb-8" data-v-482ffad8><h2 class="text-2xl lg:text-4xl text-brand font-bold uppercase" data-v-482ffad8>Tools for Writers</h2><div class="grid lg:grid-cols-2 gap-8 mt-4" data-v-482ffad8><div data-v-482ffad8><h2 class="text-xl lg:text-2xl text-gray-400 uppercase" data-v-482ffad8>Spellcheck &amp; Grammarly Support</h2><p class="lg:text-xl mt-2" data-v-482ffad8>Improve your spelling, grammar, and overall readability with your favorite tools. Since Octo is a Progressive Web App, you can use native browser extensions such as Grammarly. These features are also configurable, so you can disable them when you need to.</p></div><div data-v-482ffad8><h2 class="text-xl lg:text-2xl text-gray-400 uppercase" data-v-482ffad8>Improved Focusability</h2><p class="lg:text-xl mt-2" data-v-482ffad8>Markdown is the preferred markup language for notes, but most editors require the use of separate edit and preview panes. This often leads to interruptions in your focus. Instead, we have built a custom hybrid editor that renders formatting, embeds, and syntax highlighting in real time without requiring you to break focus just to see what your content will look like to your users.</p></div></div></div></section>',1),Sa={class:"py-4 lg:py-8"},xa={class:"container mx-auto mb-8"},ka=w(()=>n("h2",{class:"text-2xl lg:text-4xl text-brand font-bold uppercase"},"Open Source",-1)),Aa={class:"grid lg:grid-cols-2 gap-8 mt-4"},Ia=Me('<div data-v-482ffad8><h2 class="text-xl lg:text-2xl text-gray-400 uppercase" data-v-482ffad8>Transparency</h2><p class="lg:text-xl mt-2" data-v-482ffad8>You get full visibility of the <a class="underline" href="https://github.com/writewithocto/octo" target="_blank" rel="noopener noreferrer" data-v-482ffad8>codebase</a> that powers Octo. This means you can participate in feature discussions, track bugs, and collaborate with the developer community that relies on us.</p></div><div data-v-482ffad8><h2 class="text-xl lg:text-2xl text-gray-400 uppercase" data-v-482ffad8>Security &amp; Reliability</h2><p class="lg:text-xl mt-2" data-v-482ffad8>We have a lot of eyes on our code, so you can hold us accountable when something is not up to your standards. We strive to uphold best practices, and we will always listen to feedback from our community.</p></div>',2),Da=w(()=>n("h2",{class:"text-xl lg:text-2xl text-gray-400 uppercase"},"Community",-1)),Oa={class:"lg:text-xl mt-2"},Ca=k("We love to connect with our community of developers and writers. Whether you want to collaborate on improving Octo itself or you want to meet other knowledge workers, creators, or enthusiasts, you can connect with us on "),La=["href"],Ra=k("."),Na=Me('<section class="py-4 lg:py-8" data-v-482ffad8><div class="container mx-auto mb-8" data-v-482ffad8><h2 class="text-2xl lg:text-4xl text-brand font-bold uppercase" data-v-482ffad8>Privacy Focused</h2><div class="grid lg:grid-cols-2 gap-8 mt-4" data-v-482ffad8><div data-v-482ffad8><h2 class="text-xl lg:text-2xl text-gray-400 uppercase" data-v-482ffad8>End-to-End Encryption</h2><p class="lg:text-xl mt-2" data-v-482ffad8><strong class="font-semibold" data-v-482ffad8>Trust is earned</strong>, yet many organizations expect it from you in order to use their services. We support end-to-end encryption, because <strong class="font-semibold" data-v-482ffad8>we believe you deserve to make that choice</strong>. Whether you are end-to-end encrypted or not, we will always use best practices to secure your data.</p></div><div data-v-482ffad8><h2 class="text-xl lg:text-2xl text-gray-400 uppercase" data-v-482ffad8>Transparent Analytics</h2><p class="lg:text-xl mt-2" data-v-482ffad8>We use privacy-first tools to ensure we only track a minimal amount of basic analytics, and all of that information is available to view on our <a class="underline" href="https://app.usefathom.com/share/npcchoaz/octo.app" target="_blank" rel="noopener noreferrer" data-v-482ffad8>public dashboard</a>. <strong class="font-semibold" data-v-482ffad8>We sell software, not data.</strong></p></div><div data-v-482ffad8><h2 class="text-xl lg:text-2xl text-gray-400 uppercase" data-v-482ffad8>No Cookies</h2><p class="lg:text-xl mt-2" data-v-482ffad8>You heard that right! No annoying cookie banners are necessary since we do not use them. We use token-based authentication and cookieless third-party integrations.</p></div></div></div></section>',1),Ma={class:"py-4 lg:py-8"},Pa={class:"container mx-auto mb-8 text-center"},Ka=w(()=>n("span",{class:"flex items-center gap-3 align-center"},[n("span",null,"Get started for free"),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),$a={class:"text-gray-500 py-4 lg:py-8"},Ua={class:"container mx-auto mb-8"},Ba={class:"flex flex-col items-center lg:items-start gap-2"},Ga={class:"flex flex-col items-center lg:flex-row gap-2 lg:gap-4"},Va=k("Privacy Policy"),Ya=k("Terms & Conditions"),Ha={class:"flex items-center gap-2 mt-1 lg:mt-0"},ja={href:"https://twitter.com/writewithocto",target:"_blank",rel:"noopener noreferrer"},Wa={href:"https://github.com/writewithocto",target:"_blank",rel:"noopener noreferrer"},Fa=w(()=>n("p",{class:"mt-4"},"\xA9 2022 Octo",-1));function za(e,t,s,a,r,o){const c=x("router-link"),u=x("TwitterIcon"),l=x("GitHubIcon");return d(),m("div",ua,[n("section",pa,[n("div",ma,[n("div",ha,[_a,fa,n("div",ga,[E(c,{onClick:o.trackCtaSignUpNow,to:{name:"account"},class:"button-base bg-blue-600 shadow w-full lg:w-auto whitespace-nowrap justify-center gap-3 text-blue-100 text-2xl py-4 px-10"},{default:_(()=>[ya]),_:1},8,["onClick"]),E(c,{onClick:o.trackCtaOpenApp,to:{name:"dashboard"},class:"button-base button-size-medium text-gray-500 w-full lg:w-auto whitespace-nowrap justify-center gap-3 text-xl"},{default:_(()=>[Ea]),_:1},8,["onClick"])])]),n("div",wa,[va,n("div",{onClick:t[0]||(t[0]=(...U)=>o.tapFrame&&o.tapFrame(...U)),class:Le([{hidden:r.tapped},"flex items-center justify-center absolute z-50 top-0 left-0 right-0 bottom-0 rounded cursor-pointer bg-opacity-50 bg-gray-900"])},[n("p",ba,Ce(o.clickOrTap)+" to try it out ",1)],2)])])]),Ta,n("section",Sa,[n("div",xa,[ka,n("div",Aa,[Ia,n("div",null,[Da,n("p",Oa,[Ca,n("a",{class:"underline",href:o.discordInviteLink,target:"_blank",rel:"noopener noreferrer"},"Discord",8,La),Ra])])])])]),Na,n("section",Ma,[n("div",Pa,[E(c,{onClick:o.trackCtaSignUpNow,to:{name:"account"},class:"button-base bg-blue-600 shadow w-full lg:w-auto whitespace-nowrap justify-center gap-3 text-blue-100 text-2xl py-4 px-10"},{default:_(()=>[Ka]),_:1},8,["onClick"])])]),n("footer",$a,[n("div",Ua,[n("div",Ba,[n("div",Ga,[E(c,{to:{name:"privacy_policy"},class:"font-semibold"},{default:_(()=>[Va]),_:1}),E(c,{to:{name:"terms_and_conditions"},class:"font-semibold"},{default:_(()=>[Ya]),_:1}),n("div",Ha,[n("a",ja,[E(u,{class:"h-6 lg:h-4"})]),n("a",Wa,[E(l,{class:"h-6 lg:h-4"})])])]),Fa])])])])}var qa=S(la,[["render",za],["__scopeId","data-v-482ffad8"]]);const ae="ACTIVATE_CONTEXT",b="ADD_DOCUMENT",Xa="BLUR_EDITOR",re="DEACTIVATE_CONTEXT",D="DISCARD_DOCUMENT",Ja="DUPLICATE_DOCUMENT",G="DOCUMENTS_LOADED",V="EDIT_DOCUMENT",Qa="FOCUS_EDITOR",ne="LOAD_DOCUMENT",mt="LOAD_DOCUMENTS",R="MERGE_DOCUMENT",Za="MERGE_DOCUMENTS",Y="RESTORE_DOCUMENT",H="RESTRICT_DOCUMENT",xe="SET_CONTEXT_TAGS",N="SET_DOCUMENT",ke="SET_EDITOR",pe="SET_MOD_KEY",j="SET_OFFLINE",W="SET_ONLINE",Ae="SET_RIGHT_SIDEBAR_VISIBILITY",M="SET_SHOW_WELCOME",F="SHARE_DOCUMENT",er="SIGN_OUT",ht="SYNC",z="TOUCH_DOCUMENT",_t="SET_SUBSCRIPTION",O="SET_USER";var tr={state:()=>({isEvaluated:!1,subscription:{pro:!1},user:null}),mutations:{[_t](e,t){e.subscription=t},[O](e,t){e.user=t,e.isEvaluated=!0}},actions:{async[O](e,t){e.commit(O,t)},async[er](e,t){return Ne().signOut(),e.dispatch(O,{user:null})}}};const ft="ADD_CONTEXT",qe="LOAD_CONTEXT",gt="LOAD_CONTEXTS",yt="REMOVE_CONTEXT";var sr={state:()=>({all:[]}),getters:{sortedContexts(e,t){return e.all.sort((s,a)=>s.name===a.name?0:s.name<a.name?-1:1)}},mutations:{[ft](e,t){e.all.push(t)},[qe](e,t){e.all.push(t)},[yt](e,t){e.all=e.all.filter(s=>s.id!==t.id)}},actions:{[gt]({commit:e},t){t.forEach(s=>{e(qe,s)})}}};const Et=e=>new TextDecoder().decode(e),ar=e=>new TextEncoder().encode(e),rr=()=>window.crypto.getRandomValues(new Uint8Array(12)),q=e=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(e))),C=e=>{const t=window.atob(e),s=new ArrayBuffer(t.length),a=new Uint8Array(s);for(let r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return s},Z={name:"RSA-OAEP"},nr=async(e,t)=>{const s=await window.crypto.subtle.decrypt(Z,t,e);return Et(s)},or=async e=>{const t={};return e.privateKey&&(t.privateKey=await wt(e.privateKey)),e.publicKey&&(t.publicKey=await vt(e.publicKey)),t},wt=async e=>`-----BEGIN PRIVATE KEY-----
${q(await window.crypto.subtle.exportKey("pkcs8",e))}
-----END PRIVATE KEY-----`,vt=async e=>`-----BEGIN PUBLIC KEY-----
${q(await window.crypto.subtle.exportKey("spki",e))}
-----END PUBLIC KEY-----`,cr=async()=>window.crypto.subtle.generateKey({hash:"SHA-512",modulusLength:4096,name:Z.name,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"]),ir=async e=>{const t={};return e.privateKey&&(t.privateKey=await bt(e.privateKey)),e.publicKey&&(t.publicKey=await Tt(e.publicKey)),t},bt=async e=>{const t="-----BEGIN PRIVATE KEY-----",s="-----END PRIVATE KEY-----",a=e.substring(t.length,e.length-s.length),r=C(a);return window.crypto.subtle.importKey("pkcs8",r,{hash:"SHA-512",name:Z.name},!0,["decrypt","unwrapKey"])},Tt=async e=>{const t="-----BEGIN PUBLIC KEY-----",s="-----END PUBLIC KEY-----",a=e.substring(t.length,e.length-s.length),r=C(a);return window.crypto.subtle.importKey("spki",r,{hash:"SHA-512",name:Z.name},!0,["encrypt","wrapKey"])};var X={algorithm:Z,decrypt:nr,exportKeys:or,exportPrivateKey:wt,exportPublicKey:vt,generateKeys:cr,importKeys:ir,importPrivateKey:bt,importPublicKey:Tt};const ee={name:"AES-GCM"},dr=async(e,t,s)=>{const a=await window.crypto.subtle.decrypt({name:ee.name,iv:s},t,e);return Et(a)},lr=async(e,t)=>{const s=ar(e),a=rr();return{cipher:await window.crypto.subtle.encrypt({name:ee.name,iv:a},t,s),iv:a}},ur=async()=>window.crypto.subtle.generateKey({name:ee.name,length:256},!0,["encrypt","decrypt"]),pr=async e=>window.crypto.subtle.importKey("raw",e,ee.name,!0,["decrypt","encrypt"]);var J={algorithm:ee,decrypt:dr,encrypt:lr,generateKey:ur,importKey:pr};const mr=async(e,t)=>window.crypto.subtle.unwrapKey("raw",e,t,X.algorithm,J.algorithm,!0,["encrypt","decrypt"]),hr=async(e,t)=>window.crypto.subtle.wrapKey("raw",e,t,X.algorithm),_r=async e=>{const t=C(e.cipher),s=C(e.cipherKey),a=C(e.iv),{privateKey:r}=await X.importKeys({privateKey:e.privateKey});try{var o=await mr(s,r)}catch{var o=await X.decrypt(s,r).then(l=>J.importKey(C(l)))}return J.decrypt(t,o,a)},fr=async e=>{const t=await J.generateKey(),{cipher:s,iv:a}=await J.encrypt(e.data,t),{publicKey:r}=await X.importKeys({publicKey:e.publicKey}),o=await hr(t,r);return{cipher:q(s),cipherKey:q(o),iv:q(a)}},gr=/```([^\n\s]*)(?:\s([\w-]+\.[\w]+))?\n(.*?)```/gs,yr=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|\(#[\w-]+\)|#([\w-]+)/gs,Er=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|# ([^\n]+)/gs,wr=/````.*?````|```.*?```|``.*?``|`.*?`|- \[ \] ([^\n]+)/gs,Se=(e,t)=>{let s=[];const a=[];for(;s=e.exec(t);)a.push(s);return a},rn=e=>{const t=Se(gr,e),s=[];return t.forEach(a=>{s.push({filename:a[2],language:a[1],code:a[3]})}),s},Xe=e=>{const t=Se(yr,e),s=new Set;return t.forEach(a=>{a[1]&&s.add(a[1].toLowerCase())}),Array.from(s).sort()},Je=e=>{const t=Se(Er,e),s=[];return t.forEach(a=>{a[1]&&s.push(a[1])}),s},Qe=e=>{const t=Se(wr,e),s=[];return t.forEach(a=>{a[1]&&s.push(a[1])}),s};class Q{constructor(t={}){this.id=t.id||Wt(),this.text=t.text||"",this.textKey=t.textKey||null,this.daily=t.daily||!1,this.iv=t.iv||null,this.encrypted=t.encrypted||!1,this.createdAt=t.createdAt||new Date,this.updatedAt=t.updatedAt||new Date,this.touchedAt=t.touchedAt||new Date,this.discardedAt=t.discardedAt||null,this.headers=this.encrypted?[]:Je(this.text),this.tags=this.encrypted?[]:Xe(this.text),this.tasks=this.encrypted?[]:Qe(this.text),this.firebaseId=t.firebaseId||null,this.ownerId=t.ownerId||null,this.syncedAt=t.syncedAt||null,this.public=t.public||!1}discard(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=new Date}duplicate(){return new Q({text:this.text})}merge(t){Object.assign(this,t,{id:this.id})}restore(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=null}restrict(){this.public=!1,this.updatedAt=new Date,this.touchedAt=new Date}share(){this.public=!0,this.updatedAt=new Date,this.touchedAt=new Date}touch(){this.touchedAt=new Date}update({text:t}){this.text=t,this.headers=Je(t),this.tags=Xe(t),this.tasks=Qe(t),this.updatedAt=new Date,this.touchedAt=new Date}}const St=async(e,{preferEncryption:t=null,publicKey:s=null})=>{const a=Object.assign({},I(v({},e),{headers:[],tags:[],tasks:[]}));if(t&&s&&!e.encrypted&&!e.public){const{cipher:r,cipherKey:o,iv:c}=await fr({data:a.text,publicKey:s});return Object.assign({},a,{encrypted:!0,iv:c,text:r,textKey:o})}return Object.assign({},a)},xt=async(e,{privateKey:t})=>{try{if(t&&e.encrypted){const s=await _r({cipher:e.text,cipherKey:e.textKey,iv:e.iv,privateKey:t});return new Q(Object.assign({},e,{encrypted:!1,text:s}))}}catch{}return new Q(e)},f=(e,t)=>e.all.filter(s=>!s.encrypted).find(s=>s.id===t);var vr={state:()=>({all:[],currentId:null,loaded:!1}),getters:{allKept(e,t){return t.sorted.filter(s=>s.discardedAt===null)},daily(e,t){return t.sortedByCreated.find(s=>s.daily)},currentDoc(e,t){return t.decrypted.find(s=>s.id===e.currentId)},decrypted(e){return e.all.filter(t=>!t.encrypted)},discarded(e,t){return t.sorted.filter(s=>s.discardedAt!==null)},filtered(e,t,s){return s.context.active?t.sorted.filter(a=>s.context.tags.some(r=>a.tags.includes(r))):t.sorted},kept(e,t){return t.filtered.filter(s=>s.discardedAt===null)},sorted(e,t){return t.decrypted.sort((s,a)=>a.updatedAt-s.updatedAt)},sortedByCreated(e,t){return t.decrypted.sort((s,a)=>a.createdAt-s.createdAt)},tasks(e,t,s,a){return t.kept.filter(r=>r.tasks.length>0)},untagged(e,t){return t.allKept.filter(s=>s.tags.length==0)},withTag(e,t){return s=>t.kept.filter(a=>!!a.tags.find(r=>r===s))}},mutations:{[b](e,t){e.all.push(t)},[D](e,{id:t}){f(e,t).discard()},[G](e){e.loaded=!0},[V](e,{id:t,text:s}){f(e,t).update({text:s})},[ne](e,t){e.all.push(t)},[R](e,t){f(e,t.id).merge(t)},[Y](e,{id:t}){f(e,t).restore()},[H](e,{id:t}){f(e,t).restrict()},[N](e,{id:t}){e.currentId=t},[F](e,{id:t}){f(e,t).share()},[z](e,{id:t}){f(e,t).touch()}},actions:{async[b](e,t){e.commit(b,t)},async[D](e,t){e.commit(D,t)},async[G](e){e.commit(G)},async[Ja](e,{id:t}){const s=f(e.state,t).duplicate();return e.commit(b,s),s.id},async[V](e,t){e.commit(V,t)},async[ne](e,t){e.commit(ne,t)},async[mt](e,t){return Promise.all(t.map(s=>e.dispatch(ne,s)))},async[R](e,t){e.commit(R,t)},async[Za](e,t){const s=t.map(r=>f(e.state,r.id)),a=new Q({text:s.map(r=>r.text).join(`

`)});return e.commit(b,a),s.map(r=>e.dispatch(D,r))},async[Y](e,t){e.commit(Y,t)},async[H](e,t){e.commit(H,t)},async[N](e,t){e.commit(N,t)},async[F](e,t){e.commit(F,t)},async[z](e,t){e.commit(z,t)}}};const br=({keybinding:e,callback:t})=>{Pe.bind(e,(s,a)=>{s.preventDefault(),t()})},oe=(e,t)=>{Pe.bindGlobal(e,(s,a)=>{s.preventDefault(),t()})},Tr=({keybinding:e})=>{Pe.unbind(e)},ce="DISABLE_LISTENER",y="DISABLE_LISTENERS",ie="ENABLE_LISTENER",de="ENABLE_LISTENERS",Ze="KEYBINDINGS_LOADED",kt="LOAD_KEYBINDINGS",et="TOGGLE_LISTENERS",h=e=>{Jr({name:e})},Sr=(e,t)=>()=>{e(),t.dispatch(y)},g=(e,t,s)=>({keybinding:e,callback:Sr(t,s)}),xr=e=>[g("c",()=>h("context"),e),g("d",()=>h("discarded"),e),g("e",()=>h("graph"),e),g("n",()=>h("dashboard"),e),g("p",()=>h("daily"),e),g("r",()=>h("recent"),e),g("s",()=>h("settings"),e),g("t",()=>h("tasks"),e),g("u",()=>h("untagged"),e)];var kr={state:()=>({activeElement:null,listeners:[],listening:!1,loaded:!1}),getters:{},mutations:{[ce](e,t){e.listeners=e.listeners.filter(s=>s!==t)},[y](e){e.listening=!1},[ie](e,t){e.listeners.push(t)},[de](e){e.listening=!0},[Ze](e){e.loaded=!0}},actions:{async[kt](e){oe("esc",()=>e.dispatch(y)),oe("mod+k",()=>e.dispatch(et)),oe("mod+s",()=>e.dispatch(y)),oe("mod+shift+f",()=>{e.dispatch(y),h("documents")}),window.addEventListener("click",()=>e.dispatch(y)),e.commit(Ze)},async[ce](e,t){Tr(t),e.commit(ce,t)},async[y](e){await Promise.all(e.state.listeners.map(t=>{e.dispatch(ce,t)})),e.state.activeElement&&(e.state.activeElement.focus(),e.state.activeElement=null),e.commit(y)},async[ie](e,t){br(t),e.commit(ie,t)},async[de](e){e.state.activeElement=document.activeElement,e.state.activeElement.blur(),await Promise.all(xr(e).map(t=>{e.dispatch(ie,t)})),e.commit(de)},async[et](e,t){return e.state.listening?e.dispatch(y):e.dispatch(de)}}};const me="LOAD_SETTINGS",he="SET_CRYPTO_ENABLED",_e="SET_CRYPTO_KEYS",fe="SET_EDITOR_IMAGES_ENABLED",ge="SET_EDITOR_IMAGES_SHOW_CAPTIONS",ye="SET_EDITOR_KEY_MAP",At="SET_EDITOR_LIGATURES",It="SET_EDITOR_READABILITY_ENABLED",Dt="SET_EDITOR_READABILITY_WORDS_PER_MINUTE",Ot="SET_EDITOR_SPELLCHECK",Ee="SET_EDITOR_TAB_SIZE",we="SET_THEME",T="SETTINGS_LOADED";var Ar={state:()=>({crypto:{enabled:!1,privateKey:null,publicKey:null},editor:{images:{enabled:!0,showCaptions:!0},keyMap:"default",ligatures:!0,readability:{enabled:!0,wordsPerMinute:225},spellcheck:!0,tabSize:2},loaded:!1,theme:"dark"}),getters:{},mutations:{[me](e,t){Object.assign(e,Ft(e,t))},[he](e,t){e.crypto.enabled=t},[_e](e,t){t.privateKey&&(e.crypto.privateKey=t.privateKey),t.publicKey&&(e.crypto.publicKey=t.publicKey)},[fe](e,t){e.editor.images.enabled=t},[ge](e,t){e.editor.images.showCaptions=t},[ye](e,t){e.editor.keyMap=t},[At](e,t){e.editor.ligatures=t},[It](e,t){e.editor.readability.enabled=t},[Dt](e,t){e.editor.readability.wordsPerMinute=t},[Ot](e,t){e.editor.spellcheck=t},[Ee](e,t){e.editor.tabSize=t},[we](e,t){e.theme=t},[T](e){e.loaded=!0}},actions:{async[me](e,t){e.commit(me,t)},async[he](e,t){e.commit(he,t)},async[_e](e,t){e.commit(_e,t)},async[fe](e,t){e.commit(fe,t)},async[ge](e,t){e.commit(ge,t)},async[ye](e,t){e.commit(ye,t)},async[Ee](e,t){e.commit(Ee,t)},async[we](e,t){e.commit(we,t)},async[T](e){e.commit(T)}}};const nn=async({userId:e})=>{const t=await it(K(dt(K($(),"customers"),e),"checkout_sessions"),{cancel_url:window.location.href,price:"price_1JXGjVFSSDySG1smmI1f8krR",success_url:window.location.href});return await new Promise((s,a)=>{lt(t,r=>{var o;(o=r.data())!=null&&o.url&&s(r)},r=>{a(r)})})},Ir=async({doc:e,ownerId:t})=>{const s=await it(K($(),"documents"),I(v({},e),{ownerId:t,syncedAt:ut()}));return new Promise((a,r)=>{lt(s,o=>{a(o)},o=>{r(o)})})},Dr=async({ownerId:e,syncedAfter:t})=>(await ot(ct(K($(),"documents"),Te("ownerId","==",e),Te("syncedAt",">",t)))).docs,on=async({docId:e})=>(await ot(ct(K($(),"documents"),Te("public","==",!0),Te("id","==",e)))).docs[0],Or=async({doc:e,docId:t})=>zt(dt(K($(),"documents"),t),I(v({},e),{syncedAt:ut()})),$e={Array:"[object Array]",Boolean:"[object Boolean]",Date:"[object Date]",Number:"[object Number]",Object:"[object Object]",String:"[object String]"},Ue=(e,t)=>Object.prototype.toString.call(e)===t,Cr=e=>Ue(e,$e.Array),Lr=e=>Ue(e,$e.Date),Rr=e=>Ue(e,$e.Object),te=e=>Cr(e)?Nr(e):Lr(e)?Mr(e):Rr(e)?Pr(e):e,Nr=e=>e.map(t=>te(t)),Mr=e=>new Date(e),Pr=e=>Object.keys(e).reduce((t,s)=>I(v({},t),{[s]:te(e[s])}),{}),tt="PULL_DOCUMENT",Ie="PULL_DOCUMENTS",st="PUSH_DOCUMENT",at="PUSH_DOCUMENTS",Kr=(e,t)=>e.documents.all.find(s=>s.id===t);var $r={state:()=>({}),getters:{lastSyncedAt(e,t,s){return new Date(Math.max(0,...s.documents.all.map(a=>a.syncedAt)))}},actions:{async[tt](e,t){const s=Kr(e.rootState,t.id);if(s){if(s.updatedAt<t.updatedAt)return e.dispatch(R,t);if(!(s.updatedAt>t.updatedAt)){if(!s.syncedAt||s.syncedAt<t.syncedAt)return e.dispatch(R,t)}}else return e.dispatch(b,t)},async[Ie](e){const t=await Dr({ownerId:e.rootState.auth.user.uid,syncedAfter:e.getters.lastSyncedAt});return Promise.all(t.map(async s=>{const a=s.data(),r=I(v({},a),{id:a.id||a.clientId,firebaseId:s.id,textKey:a.textKey||a.dataKey,createdAt:a.createdAt?a.createdAt.toDate():null,discardedAt:a.discardedAt?a.discardedAt.toDate():null,updatedAt:a.updatedAt?a.updatedAt.toDate():null,touchedAt:a.touchedAt?a.touchedAt.toDate():null,syncedAt:a.syncedAt.toDate()}),o=await xt(r,{privateKey:e.rootState.settings.crypto.privateKey});return e.dispatch(tt,o)}))},async[st](e,t){const s=te(await St(t,{preferEncryption:e.rootState.settings.crypto.enabled,publicKey:e.rootState.settings.crypto.publicKey}));if(s.syncedAt){if(s.updatedAt>s.syncedAt||s.touchedAt>s.syncedAt)return Or({doc:s,docId:s.firebaseId})}else return Ir({doc:s,ownerId:e.rootState.auth.user.uid})},async[at](e){await Promise.all(e.rootState.documents.all.map(t=>e.dispatch(st,t)))},async[ht](e){await e.dispatch(Ie),await e.dispatch(at),await e.dispatch(Ie)}}};class Be{constructor(t){this.timeout=t,this.timers=[]}debounce(t=null,s){const a=this._findTimer(t);a&&this._clearTimer(a),this._setTimer(t,s)}_clearTimer(t){clearTimeout(t.instance),this.timers=this.timers.filter(s=>s.identifier!==t.identifier)}_findTimer(t){return this.timers.find(s=>s.identifier===t)}_setTimer(t,s){this.timers.push({identifier:t,instance:setTimeout(s,this.timeout)})}}const le=Ke.createInstance({name:"contexts"}),Ur=new Be(800),Br=(e,t)=>e.contexts.all.find(s=>s.id===t);var Gr=e=>{e.subscribe(({type:t,payload:s},a)=>{switch(t){case ft:const r=Br(a,s.id);r&&Ur.debounce(r.id,async()=>{le.setItem(r.id,te(r))});break;case yt:le.removeItem(s.id);break;case T:le.keys().then(o=>Promise.all(o.map(c=>le.getItem(c)))).then(o=>e.dispatch(gt,o));break}})};const De=Ke.createInstance({name:"firebase/documents"}),Vr=new Be(800),Yr=(e,t)=>e.documents.all.find(s=>s.id===t);var Hr=e=>{e.subscribe(({type:t,payload:s},a)=>{switch(t){case b:case D:case V:case R:case Y:case H:case F:case z:const r=Yr(a,s.id);r&&Vr.debounce(r.id,async()=>{const o=await St(r,{preferEncryption:a.settings.crypto.enabled,publicKey:a.settings.crypto.publicKey});De.setItem(r.id,o)});break;case T:De.keys().then(o=>Promise.all(o.map(c=>De.getItem(c)))).then(o=>Promise.all(o.map(c=>{const u=Object.assign({},c,{id:c.id||c.clientId,textKey:c.textKey||c.dataKey});return xt(u,{privateKey:a.settings.crypto.privateKey})}))).then(o=>e.dispatch(mt,o)).then(()=>e.dispatch(G));break}})},jr=e=>{e.subscribe(({type:t,_payload:s},a)=>{switch(t){case T:e.dispatch(kt);break}})};const rt="main",nt=Ke.createInstance({name:"settings"});var Wr=e=>{nt.getItem(rt).then(t=>{t?e.dispatch(me,t).then(()=>{e.dispatch(T)}):e.dispatch(T)}),e.subscribe(({type:t,_payload:s},a)=>{switch(t){case he:case _e:case fe:case ge:case ye:case At:case It:case Dt:case Ot:case Ee:case we:nt.setItem(rt,te(a.settings));break}})};const Fr=new Be(1500);var zr=e=>{e.subscribe(async({type:t,payload:s},a)=>{switch(t){case b:case D:case G:case V:case Y:case H:case W:case O:case F:case z:e.state.online&&e.state.auth.user&&Fr.debounce("sync",()=>{e.dispatch(ht)});break}})};const ue="SET_STRIPE_MODAL_VISIBILITY",p=qt({state(){return{context:{active:!1,editing:!1,tags:[]},editor:null,modKey:"\u2303 ctrl",online:!0,showLeftSidebar:!0,showRightSidebar:!1,showStripeModal:!1,showWelcome:!1}},getters:{allTags(e,t){return Array.from(t.allKept.reduce((s,a)=>{for(let r of a.tags)s.add(r);return s},new Set)).sort()},contextTags(e){return e.context.tags.sort()},tags(e,t){return Array.from(t.kept.reduce((s,a)=>{for(let r of a.tags)s.add(r);return s},new Set)).sort()}},mutations:{[ae](e,t){e.context.active=!0},[re](e,t){e.context.active=!1,e.context.tags=[]},[xe](e,t){e.context.tags=t.context.tags},[ke](e,t){e.editor=t.editor},[pe](e,t){e.modKey=t},[j](e){e.online=!1},[W](e){e.online=!0},[Ae](e,t){e.showRightSidebar=t},[ue](e,t){e.showStripeModal=t},[M](e,t){e.showWelcome=t}},actions:{async[ae](e){e.commit(ae)},async[Xa](e){e.state.editor&&e.state.editor.getInputField().blur()},async[re](e){e.commit(re)},async[Qa](e){e.state.editor&&e.state.editor.focus()},async[xe](e,t){if(e.commit(xe,t),t.context.tags.length>0){if(!e.state.context.active)return e.dispatch(ae)}else if(e.state.context.active)return e.dispatch(re)},async[ke](e,t){e.commit(ke,t)},async[pe](e,t){e.commit(pe,t)},async[j](e){e.commit(j)},async[W](e){e.commit(W)},async[Ae](e,t){e.commit(Ae,t)},async[M](e,t){e.commit(M,t)},async[ue](e,t){e.commit(ue,t),t&&setTimeout(()=>{e.state.showStripeModal&&e.commit(ue,!1)},15e3)}},modules:{auth:tr,contexts:sr,documents:vr,keybindings:kr,settings:Ar,sync:$r},plugins:[Gr,Hr,jr,Wr,zr]}),qr="The Notes App for Knowledge Workers",Xr=e=>{document.title=`${e||qr} | Octo`},Ge=Xt({history:Jt(),routes:[{path:"/index.html",meta:{track:!0},redirect:{name:"editor"}},{path:"/home",name:"home",meta:{track:!0},component:qa,beforeEnter(e,t,s){p.state.showWelcome&&(localStorage.setItem("octo/welcome/v1","done"),p.dispatch(M,!1)),s()}},{path:"/",name:"editor",component:()=>i(()=>import("./Dashboard.163bd139.js"),["assets/Dashboard.163bd139.js","assets/Dashboard.5102e089.css","assets/TheLeftSidebar.9a63e5a3.js","assets/vendor.f62fa2d1.js","assets/TagLink.ae4ded25.js","assets/Tag.5ad9c54a.js","assets/TheRightSidebar.61c71091.js"]),children:[{path:"",meta:{track:!0},beforeEnter(e,t,s){p.state.showWelcome?s({name:"home"}):s({name:"new_doc"})}},{path:"account",name:"account",meta:{title:"My Account",track:!0},component:()=>i(()=>import("./Account.96e364cd.js"),["assets/Account.96e364cd.js","assets/vendor.f62fa2d1.js"])},{path:"docs",name:"docs",meta:{title:"My Docs",track:!0},component:()=>i(()=>import("./Documents.3d6d1595.js"),["assets/Documents.3d6d1595.js","assets/vendor.f62fa2d1.js","assets/DocumentList.925ce430.js","assets/Tag.5ad9c54a.js"])},{path:"docs/new",name:"new_doc",meta:{track:!0},component:()=>i(()=>import("./Editor.42a4bfe7.js"),["assets/Editor.42a4bfe7.js","assets/Editor.07e6479b.js","assets/Editor.6f841a01.css","assets/vendor.f62fa2d1.js"]),props:!0,beforeEnter(e,t,s){p.dispatch(N,{id:null}),p.state.showWelcome?(localStorage.setItem("octo/welcome/v1","done"),p.dispatch(M,!1),s({name:"home"})):s()}},{path:"docs/f/:filter",name:"filtered_docs",meta:{title:"My Docs"},component:()=>i(()=>import("./Documents.3d6d1595.js"),["assets/Documents.3d6d1595.js","assets/vendor.f62fa2d1.js","assets/DocumentList.925ce430.js","assets/Tag.5ad9c54a.js"]),props:!0},{path:"docs/t/:tag",name:"tagged_docs",meta:{title:"My Docs"},component:()=>i(()=>import("./Documents.3d6d1595.js"),["assets/Documents.3d6d1595.js","assets/vendor.f62fa2d1.js","assets/DocumentList.925ce430.js","assets/Tag.5ad9c54a.js"]),props:!0},{path:"notepad",name:"notepad",meta:{title:"Notepad",track:!0},component:()=>i(()=>import("./Daily.c6b6bb80.js"),["assets/Daily.c6b6bb80.js","assets/vendor.f62fa2d1.js","assets/Editor.42a4bfe7.js","assets/Editor.07e6479b.js","assets/Editor.6f841a01.css"]),props:!0},{path:"docs/:id",name:"doc",component:()=>i(()=>import("./Editor.42a4bfe7.js"),["assets/Editor.42a4bfe7.js","assets/Editor.07e6479b.js","assets/Editor.6f841a01.css","assets/vendor.f62fa2d1.js"]),props({params:e}){return typeof(e==null?void 0:e.props)=="string"?v(v({},e),JSON.parse(e.props)):e},beforeEnter(e,t,s){p.dispatch(N,{id:e.params.id}),s()}},{path:"docs/:id/meta",name:"doc_meta",component:()=>i(()=>import("./TheRightSidebar.61c71091.js"),["assets/TheRightSidebar.61c71091.js","assets/vendor.f62fa2d1.js","assets/TagLink.ae4ded25.js","assets/Tag.5ad9c54a.js"]),props:!0,beforeEnter(e,t,s){p.dispatch(N,{id:e.params.id}),s()}},{path:"force-graph",name:"force_graph",meta:{title:"Force Graph",track:!0},component:()=>i(()=>import("./Graph.ca383acf.js"),["assets/Graph.ca383acf.js","assets/Graph.e6cff609.css","assets/vendor.f62fa2d1.js","assets/DocumentList.925ce430.js","assets/Tag.5ad9c54a.js"]),props:!0},{path:"documents",name:"documents",meta:{track:!0},redirect:{name:"docs"}},{path:"documents/new",name:"dashboard",meta:{track:!0},redirect:{name:"new_doc"}},{path:"documents/export",name:"export",meta:{title:"Export Docs",track:!0},component:()=>i(()=>import("./Exporter.b60cc881.js"),["assets/Exporter.b60cc881.js","assets/vendor.f62fa2d1.js"])},{path:"documents/import",name:"import",meta:{title:"Import Docs",track:!0},component:()=>i(()=>import("./Importer.0a013efb.js"),["assets/Importer.0a013efb.js","assets/vendor.f62fa2d1.js"])},{path:"documents/recent",name:"recent",meta:{track:!0},redirect:{name:"docs"}},{path:"documents/actionable",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"tasks"}}},{path:"documents/discarded",name:"discarded",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"discarded"}}},{path:"documents/tasks",name:"tasks",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"tasks"}}},{path:"documents/untagged",name:"untagged",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"untagged"}}},{path:"documents/daily",name:"daily",meta:{track:!0},redirect:{name:"notepad"}},{path:"documents/:id",name:"document",redirect:{name:"doc"}},{path:"documents/:id/meta",name:"document-meta",redirect:{name:"doc_meta"}},{path:"example",name:"example",meta:{title:"Example",track:!0},component:()=>i(()=>import("./Example.0968433e.js"),["assets/Example.0968433e.js","assets/Editor.07e6479b.js","assets/Editor.6f841a01.css","assets/vendor.f62fa2d1.js"]),props:{url:"/example.md"}},{path:"quick-action",name:"quick_action",meta:{title:"Quick Action",track:!0},component:()=>i(()=>import("./QuickAction.8f1799c5.js"),["assets/QuickAction.8f1799c5.js","assets/vendor.f62fa2d1.js"])},{path:"menu",name:"menu",meta:{track:!0},component:()=>i(()=>import("./TheLeftSidebar.9a63e5a3.js").then(function(e){return e.c}),["assets/TheLeftSidebar.9a63e5a3.js","assets/vendor.f62fa2d1.js","assets/TagLink.ae4ded25.js","assets/Tag.5ad9c54a.js"])},{path:"shared/:id",name:"shared",component:()=>i(()=>import("./Editor.42a4bfe7.js"),["assets/Editor.42a4bfe7.js","assets/Editor.07e6479b.js","assets/Editor.6f841a01.css","assets/vendor.f62fa2d1.js"]),props:{default:!0,readonly:!0}},{path:"context",name:"context",meta:{track:!0},redirect:{name:"contexts"}},{path:"contexts",name:"contexts",meta:{title:"Context Switching",track:!0},component:()=>i(()=>import("./Context.225a5a7d.js"),["assets/Context.225a5a7d.js","assets/Context.6737a300.css","assets/Tag.5ad9c54a.js","assets/vendor.f62fa2d1.js"])},{path:"tags/:tag",name:"tag",redirect:{name:"tagged_docs"}},{path:"tags",name:"tags",meta:{title:"Tags",track:!0},component:()=>i(()=>import("./TagList.e9a3ede0.js"),["assets/TagList.e9a3ede0.js","assets/TagList.063e6a70.css","assets/TagLink.ae4ded25.js","assets/Tag.5ad9c54a.js","assets/vendor.f62fa2d1.js"]),props:!0},{path:"settings",name:"settings",meta:{title:"App Settings",track:!0},component:()=>i(()=>import("./TheSettings.484c79c3.js"),["assets/TheSettings.484c79c3.js","assets/vendor.f62fa2d1.js"])},{path:"graph",name:"graph",meta:{track:!0},redirect:{name:"force_graph"}},{path:"privacy-policy",name:"privacy_policy",meta:{title:"Privacy Policy",track:!0},component:()=>i(()=>import("./Privacy.4c45a9c6.js"),["assets/Privacy.4c45a9c6.js","assets/vendor.f62fa2d1.js"])},{path:"terms-and-conditions",name:"terms_and_conditions",meta:{title:"Terms & Conditions",track:!0},component:()=>i(()=>import("./Terms.166681bc.js"),["assets/Terms.166681bc.js","assets/vendor.f62fa2d1.js"])}]}]});Ge.beforeEach(e=>{var t;return e.meta.title&&Xr(e.meta.title),e.meta.track&&((t=window.fathom)==null||t.trackPageview()),!0});const Jr=e=>{var t;(t=e.params)!=null&&t.props&&(e.params.props=JSON.stringify(e.params.props)),Ge.push(e)};function Qr(e={}){const{immediate:t=!1,onNeedRefresh:s,onOfflineReady:a,onRegistered:r,onRegisterError:o}=e;let c;const u=async(l=!0)=>{};return"serviceWorker"in navigator&&(c=new Qt("/sw.js",{scope:"/",type:"classic"}),c.addEventListener("activated",l=>{l.isUpdate?window.location.reload():a==null||a()}),c.register({immediate:t}).then(l=>{r==null||r(l)}).catch(l=>{o==null||o(l)})),u}Qr({immediate:!0,onOfflineReady(){},onNeedRefresh(){window.dispatchEvent(new Event("swupdated"))},onRegistered(e){},onRegisterError(e){}});class Zr{constructor(){this.components=new Set}registerComponent({component:t,container:s,position:a}){this.components.add({component:t,container:s,position:a})}}class en{constructor(){this.packages=new Set,this.components=new Set}emit(t,s){this.packages.forEach(a=>a.emit(t,s))}getComponents(t,s){return[...this.components].filter(a=>a.container===t&&a.position===s).map(({component:a})=>a)}register(t){const s=new Zr;t.register(s),s.components.forEach(a=>this.components.add(a)),this.packages.add(t)}}var tn=new en;Js();localStorage.getItem("octo/welcome/v1")===null&&p.dispatch(M,!0);window.addEventListener("offline",()=>{p.dispatch(j)});window.addEventListener("online",()=>{p.dispatch(W)});navigator.onLine||p.dispatch(j);/Mac|iPod|iPhone|iPad/.test(navigator.platform||navigator.userAgentData.platform)&&p.dispatch(pe,"\u2318 cmd");const A=Zt(Rs);A.config.globalProperties.$packageManager=tn;A.use(Ge);A.use(p);A.component("Extendable",Ps);A.component("SimpleBar",qs);A.use(es,{breakpoints:{xs:0,sm:577,md:769,lg:993,xl:1201}});A.mount("#app");Ne().onAuthStateChanged(async e=>{if(p.commit(O,e),e){await e.getIdToken(!0);const t=await e.getIdTokenResult();p.commit(_t,{pro:t.claims.stripeRole==="subscriber"})}});export{b as A,_e as B,he as C,re as D,V as E,z as F,aa as G,cr as H,or as I,we as J,Za as M,Y as R,xe as S,da as T,S as _,D as a,Ja as b,H as c,F as d,Ae as e,ue as f,nn as g,Q as h,on as i,N as j,i as k,G as l,yt as m,ft as n,Jr as o,rn as p,fe as q,At as r,Xr as s,It as t,xt as u,Dt as v,ge as w,Ot as x,Ee as y,ye as z};
