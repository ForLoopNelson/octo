var Zr=Object.defineProperty,Kr=Object.defineProperties;var Qr=Object.getOwnPropertyDescriptors;var yn=Object.getOwnPropertySymbols;var Jr=Object.prototype.hasOwnProperty,ti=Object.prototype.propertyIsEnumerable;var vn=(e,n,r)=>n in e?Zr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,_n=(e,n)=>{for(var r in n||(n={}))Jr.call(n,r)&&vn(e,r,n[r]);if(yn)for(var r of yn(n))ti.call(n,r)&&vn(e,r,n[r]);return e},mn=(e,n)=>Kr(e,Qr(n));import{j as ei}from"./vendor.71bc5b01.js";import{D as ni}from"./DocumentList.ce58c198.js";import{n as ri}from"./index.d5de1f84.js";import"./moment.08a7f518.js";var Ie="http://www.w3.org/1999/xhtml",xn={svg:"http://www.w3.org/2000/svg",xhtml:Ie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ge(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),xn.hasOwnProperty(n)?{space:xn[n],local:e}:e}function ii(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Ie&&n.documentElement.namespaceURI===Ie?n.createElement(e):n.createElementNS(r,e)}}function ai(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wn(e){var n=ge(e);return(n.local?ai:ii)(n)}function oi(){}function De(e){return e==null?oi:function(){return this.querySelector(e)}}function si(e){typeof e!="function"&&(e=De(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,f,h=0;h<s;++h)(l=o[h])&&(f=e.call(l,l.__data__,h,o))&&("__data__"in l&&(f.__data__=l.__data__),u[h]=f);return new lt(i,this._parents)}function ui(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function fi(){return[]}function bn(e){return e==null?fi:function(){return this.querySelectorAll(e)}}function li(e){return function(){return ui(e.apply(this,arguments))}}function ci(e){typeof e=="function"?e=li(e):e=bn(e);for(var n=this._groups,r=n.length,i=[],a=[],o=0;o<r;++o)for(var s=n[o],u=s.length,l,f=0;f<u;++f)(l=s[f])&&(i.push(e.call(l,l.__data__,f,s)),a.push(l));return new lt(i,a)}function kn(e){return function(){return this.matches(e)}}function An(e){return function(n){return n.matches(e)}}var hi=Array.prototype.find;function di(e){return function(){return hi.call(this.children,e)}}function gi(){return this.firstElementChild}function pi(e){return this.select(e==null?gi:di(typeof e=="function"?e:An(e)))}var yi=Array.prototype.filter;function vi(){return Array.from(this.children)}function _i(e){return function(){return yi.call(this.children,e)}}function mi(e){return this.selectAll(e==null?vi:_i(typeof e=="function"?e:An(e)))}function xi(e){typeof e!="function"&&(e=kn(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,u=i[a]=[],l,f=0;f<s;++f)(l=o[f])&&e.call(l,l.__data__,f,o)&&u.push(l);return new lt(i,this._parents)}function Cn(e){return new Array(e.length)}function wi(){return new lt(this._enter||this._groups.map(Cn),this._parents)}function pe(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}pe.prototype={constructor:pe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function bi(e){return function(){return e}}function ki(e,n,r,i,a,o){for(var s=0,u,l=n.length,f=o.length;s<f;++s)(u=n[s])?(u.__data__=o[s],i[s]=u):r[s]=new pe(e,o[s]);for(;s<l;++s)(u=n[s])&&(a[s]=u)}function Ai(e,n,r,i,a,o,s){var u,l,f=new Map,h=n.length,c=o.length,d=new Array(h),g;for(u=0;u<h;++u)(l=n[u])&&(d[u]=g=s.call(l,l.__data__,u,n)+"",f.has(g)?a[u]=l:f.set(g,l));for(u=0;u<c;++u)g=s.call(e,o[u],u,o)+"",(l=f.get(g))?(i[u]=l,l.__data__=o[u],f.delete(g)):r[u]=new pe(e,o[u]);for(u=0;u<h;++u)(l=n[u])&&f.get(d[u])===l&&(a[u]=l)}function Ci(e){return e.__data__}function zi(e,n){if(!arguments.length)return Array.from(this,Ci);var r=n?Ai:ki,i=this._parents,a=this._groups;typeof e!="function"&&(e=bi(e));for(var o=a.length,s=new Array(o),u=new Array(o),l=new Array(o),f=0;f<o;++f){var h=i[f],c=a[f],d=c.length,g=Si(e.call(h,h&&h.__data__,f,i)),_=g.length,w=u[f]=new Array(_),k=s[f]=new Array(_),y=l[f]=new Array(d);r(h,c,w,k,y,g,n);for(var S=0,z=0,m,x;S<_;++S)if(m=w[S]){for(S>=z&&(z=S+1);!(x=k[z])&&++z<_;);m._next=x||null}}return s=new lt(s,i),s._enter=u,s._exit=l,s}function Si(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Mi(){return new lt(this._exit||this._groups.map(Cn),this._parents)}function Ei(e,n,r){var i=this.enter(),a=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(a=n(a),a&&(a=a.selection())),r==null?o.remove():r(o),i&&a?i.merge(a).order():a}function Pi(e){for(var n=e.selection?e.selection():e,r=this._groups,i=n._groups,a=r.length,o=i.length,s=Math.min(a,o),u=new Array(a),l=0;l<s;++l)for(var f=r[l],h=i[l],c=f.length,d=u[l]=new Array(c),g,_=0;_<c;++_)(g=f[_]||h[_])&&(d[_]=g);for(;l<a;++l)u[l]=r[l];return new lt(u,this._parents)}function Ti(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var i=e[n],a=i.length-1,o=i[a],s;--a>=0;)(s=i[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Ri(e){e||(e=Ni);function n(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],u=s.length,l=a[o]=new Array(u),f,h=0;h<u;++h)(f=s[h])&&(l[h]=f);l.sort(n)}return new lt(a,this._parents).order()}function Ni(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function Oi(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ii(){return Array.from(this)}function Di(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;++a){var s=i[a];if(s)return s}return null}function $i(){let e=0;for(const n of this)++e;return e}function Fi(){return!this.node()}function Ui(e){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var a=n[r],o=0,s=a.length,u;o<s;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}function Li(e){return function(){this.removeAttribute(e)}}function qi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ji(e,n){return function(){this.setAttribute(e,n)}}function Hi(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function Vi(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Gi(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Bi(e,n){var r=ge(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?qi:Li:typeof n=="function"?r.local?Gi:Vi:r.local?Hi:ji)(r,n))}function zn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Xi(e){return function(){this.style.removeProperty(e)}}function Yi(e,n,r){return function(){this.style.setProperty(e,n,r)}}function Wi(e,n,r){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function Zi(e,n,r){return arguments.length>1?this.each((n==null?Xi:typeof n=="function"?Wi:Yi)(e,n,r==null?"":r)):Ft(this.node(),e)}function Ft(e,n){return e.style.getPropertyValue(n)||zn(e).getComputedStyle(e,null).getPropertyValue(n)}function Ki(e){return function(){delete this[e]}}function Qi(e,n){return function(){this[e]=n}}function Ji(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function ta(e,n){return arguments.length>1?this.each((n==null?Ki:typeof n=="function"?Ji:Qi)(e,n)):this.node()[e]}function Sn(e){return e.trim().split(/^|\s+/)}function $e(e){return e.classList||new Mn(e)}function Mn(e){this._node=e,this._names=Sn(e.getAttribute("class")||"")}Mn.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function En(e,n){for(var r=$e(e),i=-1,a=n.length;++i<a;)r.add(n[i])}function Pn(e,n){for(var r=$e(e),i=-1,a=n.length;++i<a;)r.remove(n[i])}function ea(e){return function(){En(this,e)}}function na(e){return function(){Pn(this,e)}}function ra(e,n){return function(){(n.apply(this,arguments)?En:Pn)(this,e)}}function ia(e,n){var r=Sn(e+"");if(arguments.length<2){for(var i=$e(this.node()),a=-1,o=r.length;++a<o;)if(!i.contains(r[a]))return!1;return!0}return this.each((typeof n=="function"?ra:n?ea:na)(r,n))}function aa(){this.textContent=""}function oa(e){return function(){this.textContent=e}}function sa(e){return function(){var n=e.apply(this,arguments);this.textContent=n==null?"":n}}function ua(e){return arguments.length?this.each(e==null?aa:(typeof e=="function"?sa:oa)(e)):this.node().textContent}function fa(){this.innerHTML=""}function la(e){return function(){this.innerHTML=e}}function ca(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n==null?"":n}}function ha(e){return arguments.length?this.each(e==null?fa:(typeof e=="function"?ca:la)(e)):this.node().innerHTML}function da(){this.nextSibling&&this.parentNode.appendChild(this)}function ga(){return this.each(da)}function pa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ya(){return this.each(pa)}function va(e){var n=typeof e=="function"?e:wn(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function _a(){return null}function ma(e,n){var r=typeof e=="function"?e:wn(e),i=n==null?_a:typeof n=="function"?n:De(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function xa(){var e=this.parentNode;e&&e.removeChild(this)}function wa(){return this.each(xa)}function ba(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ka(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Aa(e){return this.select(e?ka:ba)}function Ca(e){return arguments.length?this.property("__data__",e):this.node().__data__}function za(e){return function(n){e.call(this,n,this.__data__)}}function Sa(e){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");return i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),{type:n,name:r}})}function Ma(e){return function(){var n=this.__on;if(!!n){for(var r=0,i=-1,a=n.length,o;r<a;++r)o=n[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function Ea(e,n,r){return function(){var i=this.__on,a,o=za(n);if(i){for(var s=0,u=i.length;s<u;++s)if((a=i[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=n;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:n,listener:o,options:r},i?i.push(a):this.__on=[a]}}function Pa(e,n,r){var i=Sa(e+""),a,o=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,f=u.length,h;l<f;++l)for(a=0,h=u[l];a<o;++a)if((s=i[a]).type===h.type&&s.name===h.name)return h.value}return}for(u=n?Ea:Ma,a=0;a<o;++a)this.each(u(i[a],n,r));return this}function Tn(e,n,r){var i=zn(e),a=i.CustomEvent;typeof a=="function"?a=new a(n,r):(a=i.document.createEvent("Event"),r?(a.initEvent(n,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(n,!1,!1)),e.dispatchEvent(a)}function Ta(e,n){return function(){return Tn(this,e,n)}}function Ra(e,n){return function(){return Tn(this,e,n.apply(this,arguments))}}function Na(e,n){return this.each((typeof n=="function"?Ra:Ta)(e,n))}function*Oa(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&(yield s)}var Rn=[null];function lt(e,n){this._groups=e,this._parents=n}function Gt(){return new lt([[document.documentElement]],Rn)}function Ia(){return this}lt.prototype=Gt.prototype={constructor:lt,select:si,selectAll:ci,selectChild:pi,selectChildren:mi,filter:xi,data:zi,enter:wi,exit:Mi,join:Ei,merge:Pi,selection:Ia,order:Ti,sort:Ri,call:Oi,nodes:Ii,node:Di,size:$i,empty:Fi,each:Ui,attr:Bi,style:Zi,property:ta,classed:ia,text:ua,html:ha,raise:ga,lower:ya,append:va,insert:ma,remove:wa,clone:Aa,datum:Ca,on:Pa,dispatch:Na,[Symbol.iterator]:Oa};function vt(e){return typeof e=="string"?new lt([[document.querySelector(e)]],[document.documentElement]):new lt([[e]],Rn)}function Da(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Ct(e,n){if(e=Da(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}}return[e.pageX,e.pageY]}var $a={value:()=>{}};function Bt(){for(var e=0,n=arguments.length,r={},i;e<n;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new ye(r)}function ye(e){this._=e}function Fa(e,n){return e.trim().split(/^|\s+/).map(function(r){var i="",a=r.indexOf(".");if(a>=0&&(i=r.slice(a+1),r=r.slice(0,a)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}ye.prototype=Bt.prototype={constructor:ye,on:function(e,n){var r=this._,i=Fa(e+"",r),a,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((a=(e=i[o]).type)&&(a=Ua(r[a],e.name)))return a;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(a=(e=i[o]).type)r[a]=Nn(r[a],e.name,n);else if(n==null)for(a in r)r[a]=Nn(r[a],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new ye(e)},call:function(e,n){if((a=arguments.length-2)>0)for(var r=new Array(a),i=0,a,o;i<a;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,a=o.length;i<a;++i)o[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a)i[a].value.apply(n,r)}};function Ua(e,n){for(var r=0,i=e.length,a;r<i;++r)if((a=e[r]).name===n)return a.value}function Nn(e,n,r){for(var i=0,a=e.length;i<a;++i)if(e[i].name===n){e[i]=$a,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:n,value:r}),e}const La={passive:!1},Xt={capture:!0,passive:!1};function Fe(e){e.stopImmediatePropagation()}function Ut(e){e.preventDefault(),e.stopImmediatePropagation()}function On(e){var n=e.document.documentElement,r=vt(e).on("dragstart.drag",Ut,Xt);"onselectstart"in n?r.on("selectstart.drag",Ut,Xt):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function In(e,n){var r=e.document.documentElement,i=vt(e).on("dragstart.drag",null);n&&(i.on("click.drag",Ut,Xt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var ve=e=>()=>e;function Ue(e,{sourceEvent:n,subject:r,target:i,identifier:a,active:o,x:s,y:u,dx:l,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}Ue.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function qa(e){return!e.ctrlKey&&!e.button}function ja(){return this.parentNode}function Ha(e,n){return n==null?{x:e.x,y:e.y}:n}function Va(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ga(){var e=qa,n=ja,r=Ha,i=Va,a={},o=Bt("start","drag","end"),s=0,u,l,f,h,c=0;function d(m){m.on("mousedown.drag",g).filter(i).on("touchstart.drag",k).on("touchmove.drag",y,La).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(m,x){if(!(h||!e.call(this,m,x))){var M=z(this,n.call(this,m,x),m,x,"mouse");!M||(vt(m.view).on("mousemove.drag",_,Xt).on("mouseup.drag",w,Xt),On(m.view),Fe(m),f=!1,u=m.clientX,l=m.clientY,M("start",m))}}function _(m){if(Ut(m),!f){var x=m.clientX-u,M=m.clientY-l;f=x*x+M*M>c}a.mouse("drag",m)}function w(m){vt(m.view).on("mousemove.drag mouseup.drag",null),In(m.view,f),Ut(m),a.mouse("end",m)}function k(m,x){if(!!e.call(this,m,x)){var M=m.changedTouches,C=n.call(this,m,x),E=M.length,F,D;for(F=0;F<E;++F)(D=z(this,C,m,x,M[F].identifier,M[F]))&&(Fe(m),D("start",m,M[F]))}}function y(m){var x=m.changedTouches,M=x.length,C,E;for(C=0;C<M;++C)(E=a[x[C].identifier])&&(Ut(m),E("drag",m,x[C]))}function S(m){var x=m.changedTouches,M=x.length,C,E;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),C=0;C<M;++C)(E=a[x[C].identifier])&&(Fe(m),E("end",m,x[C]))}function z(m,x,M,C,E,F){var D=o.copy(),L=Ct(F||M,x),q,B,A;if((A=r.call(m,new Ue("beforestart",{sourceEvent:M,target:d,identifier:E,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:D}),C))!=null)return q=A.x-L[0]||0,B=A.y-L[1]||0,function N(P,U,j){var H=L,I;switch(P){case"start":a[E]=N,I=s++;break;case"end":delete a[E],--s;case"drag":L=Ct(j||U,x),I=s;break}D.call(P,m,new Ue(P,{sourceEvent:U,subject:A,target:d,identifier:E,active:I,x:L[0]+q,y:L[1]+B,dx:L[0]-H[0],dy:L[1]-H[1],dispatch:D}),C)}}return d.filter=function(m){return arguments.length?(e=typeof m=="function"?m:ve(!!m),d):e},d.container=function(m){return arguments.length?(n=typeof m=="function"?m:ve(m),d):n},d.subject=function(m){return arguments.length?(r=typeof m=="function"?m:ve(m),d):r},d.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:ve(!!m),d):i},d.on=function(){var m=o.on.apply(o,arguments);return m===o?d:m},d.clickDistance=function(m){return arguments.length?(c=(m=+m)*m,d):Math.sqrt(c)},d}function Le(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function Dn(e,n){var r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r}function Yt(){}var Wt=.7,_e=1/Wt,Lt="\\s*([+-]?\\d+)\\s*",Zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ba=/^#([0-9a-f]{3,8})$/,Xa=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),Ya=new RegExp("^rgb\\("+[mt,mt,mt]+"\\)$"),Wa=new RegExp("^rgba\\("+[Lt,Lt,Lt,Zt]+"\\)$"),Za=new RegExp("^rgba\\("+[mt,mt,mt,Zt]+"\\)$"),Ka=new RegExp("^hsl\\("+[Zt,mt,mt]+"\\)$"),Qa=new RegExp("^hsla\\("+[Zt,mt,mt,Zt]+"\\)$"),$n={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Le(Yt,Kt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Fn,formatHex:Fn,formatHsl:Ja,formatRgb:Un,toString:Un});function Fn(){return this.rgb().formatHex()}function Ja(){return Vn(this).formatHsl()}function Un(){return this.rgb().formatRgb()}function Kt(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=Ba.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?Ln(n):r===3?new ct(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?me(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?me(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Xa.exec(e))?new ct(n[1],n[2],n[3],1):(n=Ya.exec(e))?new ct(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Wa.exec(e))?me(n[1],n[2],n[3],n[4]):(n=Za.exec(e))?me(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Ka.exec(e))?Hn(n[1],n[2]/100,n[3]/100,1):(n=Qa.exec(e))?Hn(n[1],n[2]/100,n[3]/100,n[4]):$n.hasOwnProperty(e)?Ln($n[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function Ln(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function me(e,n,r,i){return i<=0&&(e=n=r=NaN),new ct(e,n,r,i)}function to(e){return e instanceof Yt||(e=Kt(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function qe(e,n,r,i){return arguments.length===1?to(e):new ct(e,n,r,i==null?1:i)}function ct(e,n,r,i){this.r=+e,this.g=+n,this.b=+r,this.opacity=+i}Le(ct,qe,Dn(Yt,{brighter:function(e){return e=e==null?_e:Math.pow(_e,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Wt:Math.pow(Wt,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qn,formatHex:qn,formatRgb:jn,toString:jn}));function qn(){return"#"+je(this.r)+je(this.g)+je(this.b)}function jn(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function je(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Hn(e,n,r,i){return i<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new xt(e,n,r,i)}function Vn(e){if(e instanceof xt)return new xt(e.h,e.s,e.l,e.opacity);if(e instanceof Yt||(e=Kt(e)),!e)return new xt;if(e instanceof xt)return e;e=e.rgb();var n=e.r/255,r=e.g/255,i=e.b/255,a=Math.min(n,r,i),o=Math.max(n,r,i),s=NaN,u=o-a,l=(o+a)/2;return u?(n===o?s=(r-i)/u+(r<i)*6:r===o?s=(i-n)/u+2:s=(n-r)/u+4,u/=l<.5?o+a:2-o-a,s*=60):u=l>0&&l<1?0:s,new xt(s,u,l,e.opacity)}function eo(e,n,r,i){return arguments.length===1?Vn(e):new xt(e,n,r,i==null?1:i)}function xt(e,n,r,i){this.h=+e,this.s=+n,this.l=+r,this.opacity=+i}Le(xt,eo,Dn(Yt,{brighter:function(e){return e=e==null?_e:Math.pow(_e,e),new xt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Wt:Math.pow(Wt,e),new xt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new ct(He(e>=240?e-240:e+120,a,i),He(e,a,i),He(e<120?e+240:e-120,a,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function He(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}var Gn=e=>()=>e;function no(e,n){return function(r){return e+r*n}}function ro(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(i){return Math.pow(e+i*n,r)}}function io(e){return(e=+e)==1?Bn:function(n,r){return r-n?ro(n,r,e):Gn(isNaN(n)?r:n)}}function Bn(e,n){var r=n-e;return r?no(e,r):Gn(isNaN(e)?n:e)}var Xn=function e(n){var r=io(n);function i(a,o){var s=r((a=qe(a)).r,(o=qe(o)).r),u=r(a.g,o.g),l=r(a.b,o.b),f=Bn(a.opacity,o.opacity);return function(h){return a.r=s(h),a.g=u(h),a.b=l(h),a.opacity=f(h),a+""}}return i.gamma=e,i}(1);function Nt(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var Ve=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ge=new RegExp(Ve.source,"g");function ao(e){return function(){return e}}function oo(e){return function(n){return e(n)+""}}function so(e,n){var r=Ve.lastIndex=Ge.lastIndex=0,i,a,o,s=-1,u=[],l=[];for(e=e+"",n=n+"";(i=Ve.exec(e))&&(a=Ge.exec(n));)(o=a.index)>r&&(o=n.slice(r,o),u[s]?u[s]+=o:u[++s]=o),(i=i[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,l.push({i:s,x:Nt(i,a)})),r=Ge.lastIndex;return r<n.length&&(o=n.slice(r),u[s]?u[s]+=o:u[++s]=o),u.length<2?l[0]?oo(l[0].x):ao(n):(n=l.length,function(f){for(var h=0,c;h<n;++h)u[(c=l[h]).i]=c.x(f);return u.join("")})}var Yn=180/Math.PI,Be={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wn(e,n,r,i,a,o){var s,u,l;return(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s),(l=e*r+n*i)&&(r-=e*l,i-=n*l),(u=Math.sqrt(r*r+i*i))&&(r/=u,i/=u,l/=u),e*i<n*r&&(e=-e,n=-n,l=-l,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(n,e)*Yn,skewX:Math.atan(l)*Yn,scaleX:s,scaleY:u}}var xe;function uo(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Be:Wn(n.a,n.b,n.c,n.d,n.e,n.f)}function fo(e){return e==null||(xe||(xe=document.createElementNS("http://www.w3.org/2000/svg","g")),xe.setAttribute("transform",e),!(e=xe.transform.baseVal.consolidate()))?Be:(e=e.matrix,Wn(e.a,e.b,e.c,e.d,e.e,e.f))}function Zn(e,n,r,i){function a(f){return f.length?f.pop()+" ":""}function o(f,h,c,d,g,_){if(f!==c||h!==d){var w=g.push("translate(",null,n,null,r);_.push({i:w-4,x:Nt(f,c)},{i:w-2,x:Nt(h,d)})}else(c||d)&&g.push("translate("+c+n+d+r)}function s(f,h,c,d){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),d.push({i:c.push(a(c)+"rotate(",null,i)-2,x:Nt(f,h)})):h&&c.push(a(c)+"rotate("+h+i)}function u(f,h,c,d){f!==h?d.push({i:c.push(a(c)+"skewX(",null,i)-2,x:Nt(f,h)}):h&&c.push(a(c)+"skewX("+h+i)}function l(f,h,c,d,g,_){if(f!==c||h!==d){var w=g.push(a(g)+"scale(",null,",",null,")");_.push({i:w-4,x:Nt(f,c)},{i:w-2,x:Nt(h,d)})}else(c!==1||d!==1)&&g.push(a(g)+"scale("+c+","+d+")")}return function(f,h){var c=[],d=[];return f=e(f),h=e(h),o(f.translateX,f.translateY,h.translateX,h.translateY,c,d),s(f.rotate,h.rotate,c,d),u(f.skewX,h.skewX,c,d),l(f.scaleX,f.scaleY,h.scaleX,h.scaleY,c,d),f=h=null,function(g){for(var _=-1,w=d.length,k;++_<w;)c[(k=d[_]).i]=k.x(g);return c.join("")}}}var lo=Zn(uo,"px, ","px)","deg)"),co=Zn(fo,", ",")",")"),ho=1e-12;function Kn(e){return((e=Math.exp(e))+1/e)/2}function go(e){return((e=Math.exp(e))-1/e)/2}function po(e){return((e=Math.exp(2*e))-1)/(e+1)}var yo=function e(n,r,i){function a(o,s){var u=o[0],l=o[1],f=o[2],h=s[0],c=s[1],d=s[2],g=h-u,_=c-l,w=g*g+_*_,k,y;if(w<ho)y=Math.log(d/f)/n,k=function(C){return[u+C*g,l+C*_,f*Math.exp(n*C*y)]};else{var S=Math.sqrt(w),z=(d*d-f*f+i*w)/(2*f*r*S),m=(d*d-f*f-i*w)/(2*d*r*S),x=Math.log(Math.sqrt(z*z+1)-z),M=Math.log(Math.sqrt(m*m+1)-m);y=(M-x)/n,k=function(C){var E=C*y,F=Kn(x),D=f/(r*S)*(F*po(n*E+x)-go(x));return[u+D*g,l+D*_,f*F/Kn(n*E+x)]}}return k.duration=y*1e3*n/Math.SQRT2,k}return a.rho=function(o){var s=Math.max(.001,+o),u=s*s,l=u*u;return e(s,u,l)},a}(Math.SQRT2,2,4),qt=0,Qt=0,Jt=0,Qn=1e3,we,te,be=0,Dt=0,ke=0,ee=typeof performance=="object"&&performance.now?performance:Date,Jn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xe(){return Dt||(Jn(vo),Dt=ee.now()+ke)}function vo(){Dt=0}function Ae(){this._call=this._time=this._next=null}Ae.prototype=Ye.prototype={constructor:Ae,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Xe():+r)+(n==null?0:+n),!this._next&&te!==this&&(te?te._next=this:we=this,te=this),this._call=e,this._time=r,We()},stop:function(){this._call&&(this._call=null,this._time=1/0,We())}};function Ye(e,n,r){var i=new Ae;return i.restart(e,n,r),i}function _o(){Xe(),++qt;for(var e=we,n;e;)(n=Dt-e._time)>=0&&e._call.call(void 0,n),e=e._next;--qt}function tr(){Dt=(be=ee.now())+ke,qt=Qt=0;try{_o()}finally{qt=0,xo(),Dt=0}}function mo(){var e=ee.now(),n=e-be;n>Qn&&(ke-=n,be=e)}function xo(){for(var e,n=we,r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:we=r);te=e,We(i)}function We(e){if(!qt){Qt&&(Qt=clearTimeout(Qt));var n=e-Dt;n>24?(e<1/0&&(Qt=setTimeout(tr,e-ee.now()-ke)),Jt&&(Jt=clearInterval(Jt))):(Jt||(be=ee.now(),Jt=setInterval(mo,Qn)),qt=1,Jn(tr))}}function er(e,n,r){var i=new Ae;return n=n==null?0:+n,i.restart(a=>{i.stop(),e(a+n)},n,r),i}var wo=Bt("start","end","cancel","interrupt"),bo=[],nr=0,rr=1,Ze=2,Ce=3,ir=4,Ke=5,ze=6;function Se(e,n,r,i,a,o){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;ko(e,r,{name:n,index:i,group:a,on:wo,tween:bo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:nr})}function Qe(e,n){var r=_t(e,n);if(r.state>nr)throw new Error("too late; already scheduled");return r}function wt(e,n){var r=_t(e,n);if(r.state>Ce)throw new Error("too late; already running");return r}function _t(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function ko(e,n,r){var i=e.__transition,a;i[n]=r,r.timer=Ye(o,0,r.time);function o(f){r.state=rr,r.timer.restart(s,r.delay,r.time),r.delay<=f&&s(f-r.delay)}function s(f){var h,c,d,g;if(r.state!==rr)return l();for(h in i)if(g=i[h],g.name===r.name){if(g.state===Ce)return er(s);g.state===ir?(g.state=ze,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete i[h]):+h<n&&(g.state=ze,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete i[h])}if(er(function(){r.state===Ce&&(r.state=ir,r.timer.restart(u,r.delay,r.time),u(f))}),r.state=Ze,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Ze){for(r.state=Ce,a=new Array(d=r.tween.length),h=0,c=-1;h<d;++h)(g=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++c]=g);a.length=c+1}}function u(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(l),r.state=Ke,1),c=-1,d=a.length;++c<d;)a[c].call(e,h);r.state===Ke&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=ze,r.timer.stop(),delete i[n];for(var f in i)return;delete e.__transition}}function Me(e,n){var r=e.__transition,i,a,o=!0,s;if(!!r){n=n==null?null:n+"";for(s in r){if((i=r[s]).name!==n){o=!1;continue}a=i.state>Ze&&i.state<Ke,i.state=ze,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[s]}o&&delete e.__transition}}function Ao(e){return this.each(function(){Me(this,e)})}function Co(e,n){var r,i;return function(){var a=wt(this,e),o=a.tween;if(o!==r){i=r=o;for(var s=0,u=i.length;s<u;++s)if(i[s].name===n){i=i.slice(),i.splice(s,1);break}}a.tween=i}}function zo(e,n,r){var i,a;if(typeof r!="function")throw new Error;return function(){var o=wt(this,e),s=o.tween;if(s!==i){a=(i=s).slice();for(var u={name:n,value:r},l=0,f=a.length;l<f;++l)if(a[l].name===n){a[l]=u;break}l===f&&a.push(u)}o.tween=a}}function So(e,n){var r=this._id;if(e+="",arguments.length<2){for(var i=_t(this.node(),r).tween,a=0,o=i.length,s;a<o;++a)if((s=i[a]).name===e)return s.value;return null}return this.each((n==null?Co:zo)(r,e,n))}function Je(e,n,r){var i=e._id;return e.each(function(){var a=wt(this,i);(a.value||(a.value={}))[n]=r.apply(this,arguments)}),function(a){return _t(a,i).value[n]}}function ar(e,n){var r;return(typeof n=="number"?Nt:n instanceof Kt?Xn:(r=Kt(n))?(n=r,Xn):so)(e,n)}function Mo(e){return function(){this.removeAttribute(e)}}function Eo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Po(e,n,r){var i,a=r+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===i?o:o=n(i=s,r)}}function To(e,n,r){var i,a=r+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===i?o:o=n(i=s,r)}}function Ro(e,n,r){var i,a,o;return function(){var s,u=r(this),l;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=u+"",s===l?null:s===i&&l===a?o:(a=l,o=n(i=s,u)))}}function No(e,n,r){var i,a,o;return function(){var s,u=r(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=u+"",s===l?null:s===i&&l===a?o:(a=l,o=n(i=s,u)))}}function Oo(e,n){var r=ge(e),i=r==="transform"?co:ar;return this.attrTween(e,typeof n=="function"?(r.local?No:Ro)(r,i,Je(this,"attr."+e,n)):n==null?(r.local?Eo:Mo)(r):(r.local?To:Po)(r,i,n))}function Io(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function Do(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function $o(e,n){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Do(e,o)),r}return a._value=n,a}function Fo(e,n){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Io(e,o)),r}return a._value=n,a}function Uo(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var i=ge(e);return this.tween(r,(i.local?$o:Fo)(i,n))}function Lo(e,n){return function(){Qe(this,e).delay=+n.apply(this,arguments)}}function qo(e,n){return n=+n,function(){Qe(this,e).delay=n}}function jo(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Lo:qo)(n,e)):_t(this.node(),n).delay}function Ho(e,n){return function(){wt(this,e).duration=+n.apply(this,arguments)}}function Vo(e,n){return n=+n,function(){wt(this,e).duration=n}}function Go(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Ho:Vo)(n,e)):_t(this.node(),n).duration}function Bo(e,n){if(typeof n!="function")throw new Error;return function(){wt(this,e).ease=n}}function Xo(e){var n=this._id;return arguments.length?this.each(Bo(n,e)):_t(this.node(),n).ease}function Yo(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;wt(this,e).ease=r}}function Wo(e){if(typeof e!="function")throw new Error;return this.each(Yo(this._id,e))}function Zo(e){typeof e!="function"&&(e=kn(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,u=i[a]=[],l,f=0;f<s;++f)(l=o[f])&&e.call(l,l.__data__,f,o)&&u.push(l);return new zt(i,this._parents,this._name,this._id)}function Ko(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l=n[u],f=r[u],h=l.length,c=s[u]=new Array(h),d,g=0;g<h;++g)(d=l[g]||f[g])&&(c[g]=d);for(;u<i;++u)s[u]=n[u];return new zt(s,this._parents,this._name,this._id)}function Qo(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function Jo(e,n,r){var i,a,o=Qo(n)?Qe:wt;return function(){var s=o(this,e),u=s.on;u!==i&&(a=(i=u).copy()).on(n,r),s.on=a}}function ts(e,n){var r=this._id;return arguments.length<2?_t(this.node(),r).on.on(e):this.each(Jo(r,e,n))}function es(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function ns(){return this.on("end.remove",es(this._id))}function rs(e){var n=this._name,r=this._id;typeof e!="function"&&(e=De(e));for(var i=this._groups,a=i.length,o=new Array(a),s=0;s<a;++s)for(var u=i[s],l=u.length,f=o[s]=new Array(l),h,c,d=0;d<l;++d)(h=u[d])&&(c=e.call(h,h.__data__,d,u))&&("__data__"in h&&(c.__data__=h.__data__),f[d]=c,Se(f[d],n,r,d,f,_t(h,r)));return new zt(o,this._parents,n,r)}function is(e){var n=this._name,r=this._id;typeof e!="function"&&(e=bn(e));for(var i=this._groups,a=i.length,o=[],s=[],u=0;u<a;++u)for(var l=i[u],f=l.length,h,c=0;c<f;++c)if(h=l[c]){for(var d=e.call(h,h.__data__,c,l),g,_=_t(h,r),w=0,k=d.length;w<k;++w)(g=d[w])&&Se(g,n,r,w,d,_);o.push(d),s.push(h)}return new zt(o,s,n,r)}var as=Gt.prototype.constructor;function os(){return new as(this._groups,this._parents)}function ss(e,n){var r,i,a;return function(){var o=Ft(this,e),s=(this.style.removeProperty(e),Ft(this,e));return o===s?null:o===r&&s===i?a:a=n(r=o,i=s)}}function or(e){return function(){this.style.removeProperty(e)}}function us(e,n,r){var i,a=r+"",o;return function(){var s=Ft(this,e);return s===a?null:s===i?o:o=n(i=s,r)}}function fs(e,n,r){var i,a,o;return function(){var s=Ft(this,e),u=r(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),Ft(this,e))),s===l?null:s===i&&l===a?o:(a=l,o=n(i=s,u))}}function ls(e,n){var r,i,a,o="style."+n,s="end."+o,u;return function(){var l=wt(this,e),f=l.on,h=l.value[o]==null?u||(u=or(n)):void 0;(f!==r||a!==h)&&(i=(r=f).copy()).on(s,a=h),l.on=i}}function cs(e,n,r){var i=(e+="")==="transform"?lo:ar;return n==null?this.styleTween(e,ss(e,i)).on("end.style."+e,or(e)):typeof n=="function"?this.styleTween(e,fs(e,i,Je(this,"style."+e,n))).each(ls(this._id,e)):this.styleTween(e,us(e,i,n),r).on("end.style."+e,null)}function hs(e,n,r){return function(i){this.style.setProperty(e,n.call(this,i),r)}}function ds(e,n,r){var i,a;function o(){var s=n.apply(this,arguments);return s!==a&&(i=(a=s)&&hs(e,s,r)),i}return o._value=n,o}function gs(e,n,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,ds(e,n,r==null?"":r))}function ps(e){return function(){this.textContent=e}}function ys(e){return function(){var n=e(this);this.textContent=n==null?"":n}}function vs(e){return this.tween("text",typeof e=="function"?ys(Je(this,"text",e)):ps(e==null?"":e+""))}function _s(e){return function(n){this.textContent=e.call(this,n)}}function ms(e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&_s(a)),n}return i._value=e,i}function xs(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,ms(e))}function ws(){for(var e=this._name,n=this._id,r=sr(),i=this._groups,a=i.length,o=0;o<a;++o)for(var s=i[o],u=s.length,l,f=0;f<u;++f)if(l=s[f]){var h=_t(l,n);Se(l,e,r,f,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new zt(i,this._parents,e,r)}function bs(){var e,n,r=this,i=r._id,a=r.size();return new Promise(function(o,s){var u={value:s},l={value:function(){--a==0&&o()}};r.each(function(){var f=wt(this,i),h=f.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(l)),f.on=n}),a===0&&o()})}var ks=0;function zt(e,n,r,i){this._groups=e,this._parents=n,this._name=r,this._id=i}function sr(){return++ks}var St=Gt.prototype;zt.prototype={constructor:zt,select:rs,selectAll:is,selectChild:St.selectChild,selectChildren:St.selectChildren,filter:Zo,merge:Ko,selection:os,transition:ws,call:St.call,nodes:St.nodes,node:St.node,size:St.size,empty:St.empty,each:St.each,on:ts,attr:Oo,attrTween:Uo,style:cs,styleTween:gs,text:vs,textTween:xs,remove:ns,tween:So,delay:jo,duration:Go,ease:Xo,easeVarying:Wo,end:bs,[Symbol.iterator]:St[Symbol.iterator]};function As(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Cs={time:null,delay:0,duration:250,ease:As};function zs(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function Ss(e){var n,r;e instanceof zt?(n=e._id,e=e._name):(n=sr(),(r=Cs).time=Xe(),e=e==null?null:e+"");for(var i=this._groups,a=i.length,o=0;o<a;++o)for(var s=i[o],u=s.length,l,f=0;f<u;++f)(l=s[f])&&Se(l,e,n,f,s,r||zs(l,n));return new zt(i,this._parents,e,n)}Gt.prototype.interrupt=Ao;Gt.prototype.transition=Ss;var Ee=e=>()=>e;function Ms(e,{sourceEvent:n,target:r,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Mt(e,n,r){this.k=e,this.x=n,this.y=r}Mt.prototype={constructor:Mt,scale:function(e){return e===1?this:new Mt(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Mt(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tn=new Mt(1,0,0);bt.prototype=Mt.prototype;function bt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return tn;return e.__zoom}function en(e){e.stopImmediatePropagation()}function ne(e){e.preventDefault(),e.stopImmediatePropagation()}function Es(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ps(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ur(){return this.__zoom||tn}function Ts(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Rs(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ns(e,n,r){var i=e.invertX(n[0][0])-r[0][0],a=e.invertX(n[1][0])-r[1][0],o=e.invertY(n[0][1])-r[0][1],s=e.invertY(n[1][1])-r[1][1];return e.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Os(){var e=Es,n=Ps,r=Ns,i=Ts,a=Rs,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,l=yo,f=Bt("start","zoom","end"),h,c,d,g=500,_=150,w=0,k=10;function y(A){A.property("__zoom",ur).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",D).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(A,N,P,U){var j=A.selection?A.selection():A;j.property("__zoom",ur),A!==j?x(A,N,P,U):j.interrupt().each(function(){M(this,arguments).event(U).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},y.scaleBy=function(A,N,P,U){y.scaleTo(A,function(){var j=this.__zoom.k,H=typeof N=="function"?N.apply(this,arguments):N;return j*H},P,U)},y.scaleTo=function(A,N,P,U){y.transform(A,function(){var j=n.apply(this,arguments),H=this.__zoom,I=P==null?m(j):typeof P=="function"?P.apply(this,arguments):P,G=H.invert(I),V=typeof N=="function"?N.apply(this,arguments):N;return r(z(S(H,V),I,G),j,s)},P,U)},y.translateBy=function(A,N,P,U){y.transform(A,function(){return r(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof P=="function"?P.apply(this,arguments):P),n.apply(this,arguments),s)},null,U)},y.translateTo=function(A,N,P,U,j){y.transform(A,function(){var H=n.apply(this,arguments),I=this.__zoom,G=U==null?m(H):typeof U=="function"?U.apply(this,arguments):U;return r(tn.translate(G[0],G[1]).scale(I.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof P=="function"?-P.apply(this,arguments):-P),H,s)},U,j)};function S(A,N){return N=Math.max(o[0],Math.min(o[1],N)),N===A.k?A:new Mt(N,A.x,A.y)}function z(A,N,P){var U=N[0]-P[0]*A.k,j=N[1]-P[1]*A.k;return U===A.x&&j===A.y?A:new Mt(A.k,U,j)}function m(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function x(A,N,P,U){A.on("start.zoom",function(){M(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(U).end()}).tween("zoom",function(){var j=this,H=arguments,I=M(j,H).event(U),G=n.apply(j,H),V=P==null?m(G):typeof P=="function"?P.apply(j,H):P,et=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),Z=j.__zoom,K=typeof N=="function"?N.apply(j,H):N,it=l(Z.invert(V).concat(et/Z.k),K.invert(V).concat(et/K.k));return function(ut){if(ut===1)ut=K;else{var ht=it(ut),at=et/ht[2];ut=new Mt(at,V[0]-ht[0]*at,V[1]-ht[1]*at)}I.zoom(null,ut)}})}function M(A,N,P){return!P&&A.__zooming||new C(A,N)}function C(A,N){this.that=A,this.args=N,this.active=0,this.sourceEvent=null,this.extent=n.apply(A,N),this.taps=0}C.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,N){return this.mouse&&A!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var N=vt(this.that).datum();f.call(A,this.that,new Ms(A,{sourceEvent:this.sourceEvent,target:y,type:A,transform:this.that.__zoom,dispatch:f}),N)}};function E(A,...N){if(!e.apply(this,arguments))return;var P=M(this,N).event(A),U=this.__zoom,j=Math.max(o[0],Math.min(o[1],U.k*Math.pow(2,i.apply(this,arguments)))),H=Ct(A);if(P.wheel)(P.mouse[0][0]!==H[0]||P.mouse[0][1]!==H[1])&&(P.mouse[1]=U.invert(P.mouse[0]=H)),clearTimeout(P.wheel);else{if(U.k===j)return;P.mouse=[H,U.invert(H)],Me(this),P.start()}ne(A),P.wheel=setTimeout(I,_),P.zoom("mouse",r(z(S(U,j),P.mouse[0],P.mouse[1]),P.extent,s));function I(){P.wheel=null,P.end()}}function F(A,...N){if(d||!e.apply(this,arguments))return;var P=A.currentTarget,U=M(this,N,!0).event(A),j=vt(A.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",et,!0),H=Ct(A,P),I=A.clientX,G=A.clientY;On(A.view),en(A),U.mouse=[H,this.__zoom.invert(H)],Me(this),U.start();function V(Z){if(ne(Z),!U.moved){var K=Z.clientX-I,it=Z.clientY-G;U.moved=K*K+it*it>w}U.event(Z).zoom("mouse",r(z(U.that.__zoom,U.mouse[0]=Ct(Z,P),U.mouse[1]),U.extent,s))}function et(Z){j.on("mousemove.zoom mouseup.zoom",null),In(Z.view,U.moved),ne(Z),U.event(Z).end()}}function D(A,...N){if(!!e.apply(this,arguments)){var P=this.__zoom,U=Ct(A.changedTouches?A.changedTouches[0]:A,this),j=P.invert(U),H=P.k*(A.shiftKey?.5:2),I=r(z(S(P,H),U,j),n.apply(this,N),s);ne(A),u>0?vt(this).transition().duration(u).call(x,I,U,A):vt(this).call(y.transform,I,U,A)}}function L(A,...N){if(!!e.apply(this,arguments)){var P=A.touches,U=P.length,j=M(this,N,A.changedTouches.length===U).event(A),H,I,G,V;for(en(A),I=0;I<U;++I)G=P[I],V=Ct(G,this),V=[V,this.__zoom.invert(V),G.identifier],j.touch0?!j.touch1&&j.touch0[2]!==V[2]&&(j.touch1=V,j.taps=0):(j.touch0=V,H=!0,j.taps=1+!!h);h&&(h=clearTimeout(h)),H&&(j.taps<2&&(c=V[0],h=setTimeout(function(){h=null},g)),Me(this),j.start())}}function q(A,...N){if(!!this.__zooming){var P=M(this,N).event(A),U=A.changedTouches,j=U.length,H,I,G,V;for(ne(A),H=0;H<j;++H)I=U[H],G=Ct(I,this),P.touch0&&P.touch0[2]===I.identifier?P.touch0[0]=G:P.touch1&&P.touch1[2]===I.identifier&&(P.touch1[0]=G);if(I=P.that.__zoom,P.touch1){var et=P.touch0[0],Z=P.touch0[1],K=P.touch1[0],it=P.touch1[1],ut=(ut=K[0]-et[0])*ut+(ut=K[1]-et[1])*ut,ht=(ht=it[0]-Z[0])*ht+(ht=it[1]-Z[1])*ht;I=S(I,Math.sqrt(ut/ht)),G=[(et[0]+K[0])/2,(et[1]+K[1])/2],V=[(Z[0]+it[0])/2,(Z[1]+it[1])/2]}else if(P.touch0)G=P.touch0[0],V=P.touch0[1];else return;P.zoom("touch",r(z(I,G,V),P.extent,s))}}function B(A,...N){if(!!this.__zooming){var P=M(this,N).event(A),U=A.changedTouches,j=U.length,H,I;for(en(A),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),H=0;H<j;++H)I=U[H],P.touch0&&P.touch0[2]===I.identifier?delete P.touch0:P.touch1&&P.touch1[2]===I.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(I=Ct(I,this),Math.hypot(c[0]-I[0],c[1]-I[1])<k)){var G=vt(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return y.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:Ee(+A),y):i},y.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Ee(!!A),y):e},y.touchable=function(A){return arguments.length?(a=typeof A=="function"?A:Ee(!!A),y):a},y.extent=function(A){return arguments.length?(n=typeof A=="function"?A:Ee([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),y):n},y.scaleExtent=function(A){return arguments.length?(o[0]=+A[0],o[1]=+A[1],y):[o[0],o[1]]},y.translateExtent=function(A){return arguments.length?(s[0][0]=+A[0][0],s[1][0]=+A[1][0],s[0][1]=+A[0][1],s[1][1]=+A[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(A){return arguments.length?(r=A,y):r},y.duration=function(A){return arguments.length?(u=+A,y):u},y.interpolate=function(A){return arguments.length?(l=A,y):l},y.on=function(){var A=f.on.apply(f,arguments);return A===f?y:A},y.clickDistance=function(A){return arguments.length?(w=(A=+A)*A,y):Math.sqrt(w)},y.tapDistance=function(A){return arguments.length?(k=+A,y):k},y}class fr extends Map{constructor(n,r=$s){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[i,a]of n)this.set(i,a)}get(n){return super.get(lr(this,n))}has(n){return super.has(lr(this,n))}set(n,r){return super.set(Is(this,n),r)}delete(n){return super.delete(Ds(this,n))}}function lr({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):r}function Is({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function Ds({_intern:e,_key:n},r){const i=n(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function $s(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cr(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function hr(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var re={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var n=1.70158;return e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return--e*e*((n+1)*e+n)+1},InOut:function(e){var n=1.70158*1.525;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}},Bounce:{In:function(e){return 1-re.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?re.Bounce.In(e*2)*.5:re.Bounce.Out(e*2-1)*.5+.5}}},ie;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?ie=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?ie=self.performance.now.bind(self.performance):Date.now!==void 0?ie=Date.now:ie=function(){return new Date().getTime()};var $t=ie,dr=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},e.prototype.remove=function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},e.prototype.update=function(n,r){n===void 0&&(n=$t()),r===void 0&&(r=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<i.length;a++){var o=this._tweens[i[a]],s=!r;o&&o.update(n,s)===!1&&!r&&delete this._tweens[i[a]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),jt={Linear:function(e,n){var r=e.length-1,i=r*n,a=Math.floor(i),o=jt.Utils.Linear;return n<0?o(e[0],e[1],i):n>1?o(e[r],e[r-1],r-i):o(e[a],e[a+1>r?r:a+1],i-a)},Bezier:function(e,n){for(var r=0,i=e.length-1,a=Math.pow,o=jt.Utils.Bernstein,s=0;s<=i;s++)r+=a(1-n,i-s)*a(n,s)*e[s]*o(i,s);return r},CatmullRom:function(e,n){var r=e.length-1,i=r*n,a=Math.floor(i),o=jt.Utils.CatmullRom;return e[0]===e[r]?(n<0&&(a=Math.floor(i=r*(1+n))),o(e[(a-1+r)%r],e[a],e[(a+1)%r],e[(a+2)%r],i-a)):n<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):n>1?e[r]-(o(e[r],e[r],e[r-1],e[r-1],i-r)-e[r]):o(e[a?a-1:0],e[a],e[r<a+1?r:a+1],e[r<a+2?r:a+2],i-a)},Utils:{Linear:function(e,n,r){return(n-e)*r+e},Bernstein:function(e,n){var r=jt.Utils.Factorial;return r(e)/r(n)/r(e-n)},Factorial:function(){var e=[1];return function(n){var r=1;if(e[n])return e[n];for(var i=n;i>1;i--)r*=i;return e[n]=r,r}}(),CatmullRom:function(e,n,r,i,a){var o=(r-e)*.5,s=(i-n)*.5,u=a*a,l=a*u;return(2*n-2*r+o+s)*l+(-3*n+3*r-2*o-s)*u+o*a+n}}},nn=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),gr=new dr,Fs=function(){function e(n,r){r===void 0&&(r=gr),this._object=n,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=re.Linear.None,this._interpolationFunction=jt.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=nn.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(n,r){return this._valuesEnd=Object.create(n),r!==void 0&&(this._duration=r),this},e.prototype.duration=function(n){return this._duration=n,this},e.prototype.start=function(n){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n!==void 0?typeof n=="string"?$t()+parseFloat(n):n:$t(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(n,r,i,a){for(var o in i){var s=n[o],u=Array.isArray(s),l=u?"array":typeof s,f=!u&&Array.isArray(i[o]);if(!(l==="undefined"||l==="function")){if(f){var h=i[o];if(h.length===0)continue;h=h.map(this._handleRelativeValue.bind(this,s)),i[o]=[s].concat(h)}if((l==="object"||u)&&s&&!f){r[o]=u?[]:{};for(var c in s)r[o][c]=s[c];a[o]=u?[]:{},this._setupProperties(s,r[o],i[o],a[o])}else typeof r[o]=="undefined"&&(r[o]=s),u||(r[o]*=1),f?a[o]=i[o].slice().reverse():a[o]=r[o]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(n){return n===void 0&&(n=$t()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this._group&&this._group.remove(this),this)},e.prototype.resume=function(n){return n===void 0&&(n=$t()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return this._group=n,this},e.prototype.delay=function(n){return this._delayTime=n,this},e.prototype.repeat=function(n){return this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return this._yoyo=n,this},e.prototype.easing=function(n){return this._easingFunction=n,this},e.prototype.interpolation=function(n){return this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){if(n===void 0&&(n=$t()),r===void 0&&(r=!0),this._isPaused)return!0;var i,a,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(n>o)return!1;r&&this.start(n)}if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),a=(n-this._startTime)/this._duration,a=this._duration===0||a>1?1:a;var s=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),a===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=n+this._repeatDelayTime:this._startTime=n+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,l=this._chainedTweens.length;u<l;u++)this._chainedTweens[u].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,i,a){for(var o in i)if(r[o]!==void 0){var s=r[o]||0,u=i[o],l=Array.isArray(n[o]),f=Array.isArray(u),h=!l&&f;h?n[o]=this._interpolationFunction(u,a):typeof u=="object"&&u?this._updateProperties(n[o],s,u,a):(u=this._handleRelativeValue(s,u),typeof u=="number"&&(n[o]=s+(u-s)*a))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e}(),Us="18.6.4",Ls=nn.nextId,kt=gr,qs=kt.getAll.bind(kt),js=kt.removeAll.bind(kt),Hs=kt.add.bind(kt),Vs=kt.remove.bind(kt),Gs=kt.update.bind(kt),ae={Easing:re,Group:dr,Interpolation:jt,now:$t,Sequence:nn,nextId:Ls,Tween:Fs,VERSION:Us,getAll:qs,removeAll:js,add:Hs,remove:Vs,update:Gs};function rn(e,n,r){var i,a,o,s,u;n==null&&(n=100);function l(){var h=Date.now()-s;h<n&&h>=0?i=setTimeout(l,n-h):(i=null,r||(u=e.apply(o,a),o=a=null))}var f=function(){o=this,a=arguments,s=Date.now();var h=r&&!i;return i||(i=setTimeout(l,n)),h&&(u=e.apply(o,a),o=a=null),u};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(u=e.apply(o,a),o=a=null,clearTimeout(i),i=null)},f}rn.debounce=rn;var Bs=rn;function Xs(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ys(e,n){return Ws(e)||Zs(e,n)||Ks(e,n)||Qs()}function Ws(e){if(Array.isArray(e))return e}function Zs(e,n){var r=e&&(typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var i=[],a=!0,o=!1,s,u;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(i.push(s.value),!(n&&i.length===n));a=!0);}catch(l){o=!0,u=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}return i}}function Ks(e,n){if(!!e){if(typeof e=="string")return pr(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pr(e,n)}}function pr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function Qs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Js=function e(n,r){var i=r.default,a=i===void 0?null:i,o=r.triggerUpdate,s=o===void 0?!0:o,u=r.onChange,l=u===void 0?function(f,h){}:u;Xs(this,e),this.name=n,this.defaultVal=a,this.triggerUpdate=s,this.onChange=l};function yr(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,i=e.props,a=i===void 0?{}:i,o=e.methods,s=o===void 0?{}:o,u=e.aliases,l=u===void 0?{}:u,f=e.init,h=f===void 0?function(){}:f,c=e.update,d=c===void 0?function(){}:c,g=Object.keys(a).map(function(_){return new Js(_,a[_])});return function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=Object.assign({},r instanceof Function?r(_):r,{initialised:!1}),k={};function y(m){return S(m,_),z(),y}var S=function(x,M){h.call(y,x,w,M),w.initialised=!0},z=Bs(function(){!w.initialised||(d.call(y,w,k),k={})},1);return g.forEach(function(m){y[m.name]=x(m);function x(M){var C=M.name,E=M.triggerUpdate,F=E===void 0?!1:E,D=M.onChange,L=D===void 0?function(A,N){}:D,q=M.defaultVal,B=q===void 0?null:q;return function(A){var N=w[C];if(!arguments.length)return N;var P=A===void 0?B:A;return w[C]=P,L.call(y,P,w,N),!k.hasOwnProperty(C)&&(k[C]=N),F&&z(),y}}}),Object.keys(s).forEach(function(m){y[m]=function(){for(var x,M=arguments.length,C=new Array(M),E=0;E<M;E++)C[E]=arguments[E];return(x=s[m]).call.apply(x,[y,w].concat(C))}}),Object.entries(l).forEach(function(m){var x=Ys(m,2),M=x[0],C=x[1];return y[M]=y[C]}),y.resetProps=function(){return g.forEach(function(m){y[m.name](m.defaultVal)}),y},y.resetProps(),w._rerender=z,y}}var W=function(e){return e instanceof Function?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}},vr={exports:{}};(function(e){(function(n){var r=/^\s+/,i=/\s+$/,a=0,o=n.round,s=n.min,u=n.max,l=n.random;function f(p,b){if(p=p||"",b=b||{},p instanceof f)return p;if(!(this instanceof f))return new f(p,b);var v=h(p);this._originalInput=p,this._r=v.r,this._g=v.g,this._b=v.b,this._a=v.a,this._roundA=o(100*this._a)/100,this._format=b.format||v.format,this._gradientType=b.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=v.ok,this._tc_id=a++}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var p=this.toRgb();return(p.r*299+p.g*587+p.b*114)/1e3},getLuminance:function(){var p=this.toRgb(),b,v,T,$,O,X;return b=p.r/255,v=p.g/255,T=p.b/255,b<=.03928?$=b/12.92:$=n.pow((b+.055)/1.055,2.4),v<=.03928?O=v/12.92:O=n.pow((v+.055)/1.055,2.4),T<=.03928?X=T/12.92:X=n.pow((T+.055)/1.055,2.4),.2126*$+.7152*O+.0722*X},setAlpha:function(p){return this._a=H(p),this._roundA=o(100*this._a)/100,this},toHsv:function(){var p=_(this._r,this._g,this._b);return{h:p.h*360,s:p.s,v:p.v,a:this._a}},toHsvString:function(){var p=_(this._r,this._g,this._b),b=o(p.h*360),v=o(p.s*100),T=o(p.v*100);return this._a==1?"hsv("+b+", "+v+"%, "+T+"%)":"hsva("+b+", "+v+"%, "+T+"%, "+this._roundA+")"},toHsl:function(){var p=d(this._r,this._g,this._b);return{h:p.h*360,s:p.s,l:p.l,a:this._a}},toHslString:function(){var p=d(this._r,this._g,this._b),b=o(p.h*360),v=o(p.s*100),T=o(p.l*100);return this._a==1?"hsl("+b+", "+v+"%, "+T+"%)":"hsla("+b+", "+v+"%, "+T+"%, "+this._roundA+")"},toHex:function(p){return k(this._r,this._g,this._b,p)},toHexString:function(p){return"#"+this.toHex(p)},toHex8:function(p){return y(this._r,this._g,this._b,this._a,p)},toHex8String:function(p){return"#"+this.toHex8(p)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(I(this._r,255)*100)+"%",g:o(I(this._g,255)*100)+"%",b:o(I(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(I(this._r,255)*100)+"%, "+o(I(this._g,255)*100)+"%, "+o(I(this._b,255)*100)+"%)":"rgba("+o(I(this._r,255)*100)+"%, "+o(I(this._g,255)*100)+"%, "+o(I(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:U[k(this._r,this._g,this._b,!0)]||!1},toFilter:function(p){var b="#"+S(this._r,this._g,this._b,this._a),v=b,T=this._gradientType?"GradientType = 1, ":"";if(p){var $=f(p);v="#"+S($._r,$._g,$._b,$._a)}return"progid:DXImageTransform.Microsoft.gradient("+T+"startColorstr="+b+",endColorstr="+v+")"},toString:function(p){var b=!!p;p=p||this._format;var v=!1,T=this._a<1&&this._a>=0,$=!b&&T&&(p==="hex"||p==="hex6"||p==="hex3"||p==="hex4"||p==="hex8"||p==="name");return $?p==="name"&&this._a===0?this.toName():this.toRgbString():(p==="rgb"&&(v=this.toRgbString()),p==="prgb"&&(v=this.toPercentageRgbString()),(p==="hex"||p==="hex6")&&(v=this.toHexString()),p==="hex3"&&(v=this.toHexString(!0)),p==="hex4"&&(v=this.toHex8String(!0)),p==="hex8"&&(v=this.toHex8String()),p==="name"&&(v=this.toName()),p==="hsl"&&(v=this.toHslString()),p==="hsv"&&(v=this.toHsvString()),v||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(p,b){var v=p.apply(null,[this].concat([].slice.call(b)));return this._r=v._r,this._g=v._g,this._b=v._b,this.setAlpha(v._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(z,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(F,arguments)},_applyCombination:function(p,b){return p.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(D,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(q,arguments)}},f.fromRatio=function(p,b){if(typeof p=="object"){var v={};for(var T in p)p.hasOwnProperty(T)&&(T==="a"?v[T]=p[T]:v[T]=it(p[T]));p=v}return f(p,b)};function h(p){var b={r:0,g:0,b:0},v=1,T=null,$=null,O=null,X=!1,Q=!1;return typeof p=="string"&&(p=Yr(p)),typeof p=="object"&&(At(p.r)&&At(p.g)&&At(p.b)?(b=c(p.r,p.g,p.b),X=!0,Q=String(p.r).substr(-1)==="%"?"prgb":"rgb"):At(p.h)&&At(p.s)&&At(p.v)?(T=it(p.s),$=it(p.v),b=w(p.h,T,$),X=!0,Q="hsv"):At(p.h)&&At(p.s)&&At(p.l)&&(T=it(p.s),O=it(p.l),b=g(p.h,T,O),X=!0,Q="hsl"),p.hasOwnProperty("a")&&(v=p.a)),v=H(v),{ok:X,format:p.format||Q,r:s(255,u(b.r,0)),g:s(255,u(b.g,0)),b:s(255,u(b.b,0)),a:v}}function c(p,b,v){return{r:I(p,255)*255,g:I(b,255)*255,b:I(v,255)*255}}function d(p,b,v){p=I(p,255),b=I(b,255),v=I(v,255);var T=u(p,b,v),$=s(p,b,v),O,X,Q=(T+$)/2;if(T==$)O=X=0;else{var tt=T-$;switch(X=Q>.5?tt/(2-T-$):tt/(T+$),T){case p:O=(b-v)/tt+(b<v?6:0);break;case b:O=(v-p)/tt+2;break;case v:O=(p-b)/tt+4;break}O/=6}return{h:O,s:X,l:Q}}function g(p,b,v){var T,$,O;p=I(p,360),b=I(b,100),v=I(v,100);function X(dt,Vt,yt){return yt<0&&(yt+=1),yt>1&&(yt-=1),yt<1/6?dt+(Vt-dt)*6*yt:yt<1/2?Vt:yt<2/3?dt+(Vt-dt)*(2/3-yt)*6:dt}if(b===0)T=$=O=v;else{var Q=v<.5?v*(1+b):v+b-v*b,tt=2*v-Q;T=X(tt,Q,p+1/3),$=X(tt,Q,p),O=X(tt,Q,p-1/3)}return{r:T*255,g:$*255,b:O*255}}function _(p,b,v){p=I(p,255),b=I(b,255),v=I(v,255);var T=u(p,b,v),$=s(p,b,v),O,X,Q=T,tt=T-$;if(X=T===0?0:tt/T,T==$)O=0;else{switch(T){case p:O=(b-v)/tt+(b<v?6:0);break;case b:O=(v-p)/tt+2;break;case v:O=(p-b)/tt+4;break}O/=6}return{h:O,s:X,v:Q}}function w(p,b,v){p=I(p,360)*6,b=I(b,100),v=I(v,100);var T=n.floor(p),$=p-T,O=v*(1-b),X=v*(1-$*b),Q=v*(1-(1-$)*b),tt=T%6,dt=[v,X,O,O,Q,v][tt],Vt=[Q,v,v,X,O,O][tt],yt=[O,O,Q,v,v,X][tt];return{r:dt*255,g:Vt*255,b:yt*255}}function k(p,b,v,T){var $=[K(o(p).toString(16)),K(o(b).toString(16)),K(o(v).toString(16))];return T&&$[0].charAt(0)==$[0].charAt(1)&&$[1].charAt(0)==$[1].charAt(1)&&$[2].charAt(0)==$[2].charAt(1)?$[0].charAt(0)+$[1].charAt(0)+$[2].charAt(0):$.join("")}function y(p,b,v,T,$){var O=[K(o(p).toString(16)),K(o(b).toString(16)),K(o(v).toString(16)),K(ut(T))];return $&&O[0].charAt(0)==O[0].charAt(1)&&O[1].charAt(0)==O[1].charAt(1)&&O[2].charAt(0)==O[2].charAt(1)&&O[3].charAt(0)==O[3].charAt(1)?O[0].charAt(0)+O[1].charAt(0)+O[2].charAt(0)+O[3].charAt(0):O.join("")}function S(p,b,v,T){var $=[K(ut(T)),K(o(p).toString(16)),K(o(b).toString(16)),K(o(v).toString(16))];return $.join("")}f.equals=function(p,b){return!p||!b?!1:f(p).toRgbString()==f(b).toRgbString()},f.random=function(){return f.fromRatio({r:l(),g:l(),b:l()})};function z(p,b){b=b===0?0:b||10;var v=f(p).toHsl();return v.s-=b/100,v.s=G(v.s),f(v)}function m(p,b){b=b===0?0:b||10;var v=f(p).toHsl();return v.s+=b/100,v.s=G(v.s),f(v)}function x(p){return f(p).desaturate(100)}function M(p,b){b=b===0?0:b||10;var v=f(p).toHsl();return v.l+=b/100,v.l=G(v.l),f(v)}function C(p,b){b=b===0?0:b||10;var v=f(p).toRgb();return v.r=u(0,s(255,v.r-o(255*-(b/100)))),v.g=u(0,s(255,v.g-o(255*-(b/100)))),v.b=u(0,s(255,v.b-o(255*-(b/100)))),f(v)}function E(p,b){b=b===0?0:b||10;var v=f(p).toHsl();return v.l-=b/100,v.l=G(v.l),f(v)}function F(p,b){var v=f(p).toHsl(),T=(v.h+b)%360;return v.h=T<0?360+T:T,f(v)}function D(p){var b=f(p).toHsl();return b.h=(b.h+180)%360,f(b)}function L(p){var b=f(p).toHsl(),v=b.h;return[f(p),f({h:(v+120)%360,s:b.s,l:b.l}),f({h:(v+240)%360,s:b.s,l:b.l})]}function q(p){var b=f(p).toHsl(),v=b.h;return[f(p),f({h:(v+90)%360,s:b.s,l:b.l}),f({h:(v+180)%360,s:b.s,l:b.l}),f({h:(v+270)%360,s:b.s,l:b.l})]}function B(p){var b=f(p).toHsl(),v=b.h;return[f(p),f({h:(v+72)%360,s:b.s,l:b.l}),f({h:(v+216)%360,s:b.s,l:b.l})]}function A(p,b,v){b=b||6,v=v||30;var T=f(p).toHsl(),$=360/v,O=[f(p)];for(T.h=(T.h-($*b>>1)+720)%360;--b;)T.h=(T.h+$)%360,O.push(f(T));return O}function N(p,b){b=b||6;for(var v=f(p).toHsv(),T=v.h,$=v.s,O=v.v,X=[],Q=1/b;b--;)X.push(f({h:T,s:$,v:O})),O=(O+Q)%1;return X}f.mix=function(p,b,v){v=v===0?0:v||50;var T=f(p).toRgb(),$=f(b).toRgb(),O=v/100,X={r:($.r-T.r)*O+T.r,g:($.g-T.g)*O+T.g,b:($.b-T.b)*O+T.b,a:($.a-T.a)*O+T.a};return f(X)},f.readability=function(p,b){var v=f(p),T=f(b);return(n.max(v.getLuminance(),T.getLuminance())+.05)/(n.min(v.getLuminance(),T.getLuminance())+.05)},f.isReadable=function(p,b,v){var T=f.readability(p,b),$,O;switch(O=!1,$=Wr(v),$.level+$.size){case"AAsmall":case"AAAlarge":O=T>=4.5;break;case"AAlarge":O=T>=3;break;case"AAAsmall":O=T>=7;break}return O},f.mostReadable=function(p,b,v){var T=null,$=0,O,X,Q,tt;v=v||{},X=v.includeFallbackColors,Q=v.level,tt=v.size;for(var dt=0;dt<b.length;dt++)O=f.readability(p,b[dt]),O>$&&($=O,T=f(b[dt]));return f.isReadable(p,T,{level:Q,size:tt})||!X?T:(v.includeFallbackColors=!1,f.mostReadable(p,["#fff","#000"],v))};var P=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=f.hexNames=j(P);function j(p){var b={};for(var v in p)p.hasOwnProperty(v)&&(b[p[v]]=v);return b}function H(p){return p=parseFloat(p),(isNaN(p)||p<0||p>1)&&(p=1),p}function I(p,b){et(p)&&(p="100%");var v=Z(p);return p=s(b,u(0,parseFloat(p))),v&&(p=parseInt(p*b,10)/100),n.abs(p-b)<1e-6?1:p%b/parseFloat(b)}function G(p){return s(1,u(0,p))}function V(p){return parseInt(p,16)}function et(p){return typeof p=="string"&&p.indexOf(".")!=-1&&parseFloat(p)===1}function Z(p){return typeof p=="string"&&p.indexOf("%")!=-1}function K(p){return p.length==1?"0"+p:""+p}function it(p){return p<=1&&(p=p*100+"%"),p}function ut(p){return n.round(parseFloat(p)*255).toString(16)}function ht(p){return V(p)/255}var at=function(){var p="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",v="(?:"+b+")|(?:"+p+")",T="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?",$="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?";return{CSS_UNIT:new RegExp(v),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+$),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function At(p){return!!at.CSS_UNIT.exec(p)}function Yr(p){p=p.replace(r,"").replace(i,"").toLowerCase();var b=!1;if(P[p])p=P[p],b=!0;else if(p=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var v;return(v=at.rgb.exec(p))?{r:v[1],g:v[2],b:v[3]}:(v=at.rgba.exec(p))?{r:v[1],g:v[2],b:v[3],a:v[4]}:(v=at.hsl.exec(p))?{h:v[1],s:v[2],l:v[3]}:(v=at.hsla.exec(p))?{h:v[1],s:v[2],l:v[3],a:v[4]}:(v=at.hsv.exec(p))?{h:v[1],s:v[2],v:v[3]}:(v=at.hsva.exec(p))?{h:v[1],s:v[2],v:v[3],a:v[4]}:(v=at.hex8.exec(p))?{r:V(v[1]),g:V(v[2]),b:V(v[3]),a:ht(v[4]),format:b?"name":"hex8"}:(v=at.hex6.exec(p))?{r:V(v[1]),g:V(v[2]),b:V(v[3]),format:b?"name":"hex"}:(v=at.hex4.exec(p))?{r:V(v[1]+""+v[1]),g:V(v[2]+""+v[2]),b:V(v[3]+""+v[3]),a:ht(v[4]+""+v[4]),format:b?"name":"hex8"}:(v=at.hex3.exec(p))?{r:V(v[1]+""+v[1]),g:V(v[2]+""+v[2]),b:V(v[3]+""+v[3]),format:b?"name":"hex"}:!1}function Wr(p){var b,v;return p=p||{level:"AA",size:"small"},b=(p.level||"AA").toUpperCase(),v=(p.size||"small").toLowerCase(),b!=="AA"&&b!=="AAA"&&(b="AA"),v!=="small"&&v!=="large"&&(v="small"),{level:b,size:v}}e.exports?e.exports=f:window.tinycolor=f})(Math)})(vr);var tu=vr.exports;function eu(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _r(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nu(e,n,r){return n&&_r(e.prototype,n),r&&_r(e,r),e}function ru(e){return iu(e)||au(e)||ou(e)||su()}function iu(e){if(Array.isArray(e))return an(e)}function au(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function ou(e,n){if(!!e){if(typeof e=="string")return an(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return an(e,n)}}function an(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function su(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var uu=123,fu=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},mr=function(n,r,i){return(n<<16)+(r<<8)+i},lu=function(n){var r=tu(n).toRgb(),i=r.r,a=r.g,o=r.b;return mr(i,a,o)},xr=function(n,r){return n*uu%Math.pow(2,r)},cu=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;eu(this,e),this.csBits=n,this.registry=["__reserved for background__"]}return nu(e,[{key:"register",value:function(r){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,a=xr(i,this.csBits),o=fu(i+(a<<24-this.csBits));return this.registry.push(r),o}},{key:"lookup",value:function(r){var i=typeof r=="string"?lu(r):mr.apply(void 0,ru(r));if(!i)return null;var a=i&Math.pow(2,24-this.csBits)-1,o=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return xr(a,this.csBits)!==o||a>=this.registry.length?null:this.registry[a]}}]),e}();function hu(e,n,r){var i,a=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function o(){var s,u=i.length,l,f=0,h=0,c=0;for(s=0;s<u;++s)l=i[s],f+=l.x||0,h+=l.y||0,c+=l.z||0;for(f=(f/u-e)*a,h=(h/u-n)*a,c=(c/u-r)*a,s=0;s<u;++s)l=i[s],f&&(l.x-=f),h&&(l.y-=h),c&&(l.z-=c)}return o.initialize=function(s){i=s},o.x=function(s){return arguments.length?(e=+s,o):e},o.y=function(s){return arguments.length?(n=+s,o):n},o.z=function(s){return arguments.length?(r=+s,o):r},o.strength=function(s){return arguments.length?(a=+s,o):a},o}function du(e){var n=+this._x.call(null,e);return wr(this.cover(n),n,e)}function wr(e,n,r){if(isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,u=e._x1,l,f,h,c,d;if(!a)return e._root=o,e;for(;a.length;)if((h=n>=(l=(s+u)/2))?s=l:u=l,i=a,!(a=a[c=+h]))return i[c]=o,e;if(f=+e._x.call(null,a.data),n===f)return o.next=a,i?i[c]=o:e._root=o,e;do i=i?i[c]=new Array(2):e._root=new Array(2),(h=n>=(l=(s+u)/2))?s=l:u=l;while((c=+h)==(d=+(f>=l)));return i[d]=a,i[c]=o,e}function gu(e){var n,r=e.length,i,a=new Array(r),o=1/0,s=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e[n]))||(a[n]=i,i<o&&(o=i),i>s&&(s=i));if(o>s)return this;for(this.cover(o).cover(s),n=0;n<r;++n)wr(this,a[n],e[n]);return this}function pu(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var i=r-n||1,a=this._root,o,s;n>e||e>=r;)switch(s=+(e<n),o=new Array(2),o[s]=a,a=o,i*=2,s){case 0:r=n+i;break;case 1:n=r-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._x1=r,this}function yu(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function vu(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Et(e,n,r){this.node=e,this.x0=n,this.x1=r}function _u(e,n){var r,i=this._x0,a,o,s=this._x1,u=[],l=this._root,f,h;for(l&&u.push(new Et(l,i,s)),n==null?n=1/0:(i=e-n,s=e+n);f=u.pop();)if(!(!(l=f.node)||(a=f.x0)>s||(o=f.x1)<i))if(l.length){var c=(a+o)/2;u.push(new Et(l[1],c,o),new Et(l[0],a,c)),(h=+(e>=c))&&(f=u[u.length-1],u[u.length-1]=u[u.length-1-h],u[u.length-1-h]=f)}else{var d=Math.abs(e-+this._x.call(null,l.data));d<n&&(n=d,i=e-d,s=e+d,r=l.data)}return r}function mu(e){if(isNaN(l=+this._x.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,u=this._x1,l,f,h,c,d;if(!r)return this;if(r.length)for(;;){if((h=l>=(f=(s+u)/2))?s=f:u=f,n=r,!(r=r[c=+h]))return this;if(!r.length)break;n[c+1&1]&&(i=n,d=c)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[c]=o:delete n[c],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(i?i[d]=r:this._root=r),this):(this._root=o,this)}function xu(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function wu(){return this._root}function bu(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function ku(e){var n=[],r,i=this._root,a,o,s;for(i&&n.push(new Et(i,this._x0,this._x1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.x1)&&i.length){var u=(o+s)/2;(a=i[1])&&n.push(new Et(a,u,s)),(a=i[0])&&n.push(new Et(a,o,u))}return this}function Au(e){var n=[],r=[],i;for(this._root&&n.push(new Et(this._root,this._x0,this._x1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.x1,l=(s+u)/2;(o=a[0])&&n.push(new Et(o,s,l)),(o=a[1])&&n.push(new Et(o,l,u))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.x1);return this}function Cu(e){return e[0]}function zu(e){return arguments.length?(this._x=e,this):this._x}function br(e,n){var r=new on(n==null?Cu:n,NaN,NaN);return e==null?r:r.addAll(e)}function on(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function kr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var ft=br.prototype=on.prototype;ft.copy=function(){var e=new on(this._x,this._x0,this._x1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=kr(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var a=0;a<2;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(2)}):n.target[a]=kr(i));return e};ft.add=du;ft.addAll=gu;ft.cover=pu;ft.data=yu;ft.extent=vu;ft.find=_u;ft.remove=mu;ft.removeAll=xu;ft.root=wu;ft.size=bu;ft.visit=ku;ft.visitAfter=Au;ft.x=zu;function Su(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return Ar(this.cover(n,r),n,r,e)}function Ar(e,n,r,i){if(isNaN(n)||isNaN(r))return e;var a,o=e._root,s={data:i},u=e._x0,l=e._y0,f=e._x1,h=e._y1,c,d,g,_,w,k,y,S;if(!o)return e._root=s,e;for(;o.length;)if((w=n>=(c=(u+f)/2))?u=c:f=c,(k=r>=(d=(l+h)/2))?l=d:h=d,a=o,!(o=o[y=k<<1|w]))return a[y]=s,e;if(g=+e._x.call(null,o.data),_=+e._y.call(null,o.data),n===g&&r===_)return s.next=o,a?a[y]=s:e._root=s,e;do a=a?a[y]=new Array(4):e._root=new Array(4),(w=n>=(c=(u+f)/2))?u=c:f=c,(k=r>=(d=(l+h)/2))?l=d:h=d;while((y=k<<1|w)==(S=(_>=d)<<1|g>=c));return a[S]=o,a[y]=s,e}function Mu(e){var n,r,i=e.length,a,o,s=new Array(i),u=new Array(i),l=1/0,f=1/0,h=-1/0,c=-1/0;for(r=0;r<i;++r)isNaN(a=+this._x.call(null,n=e[r]))||isNaN(o=+this._y.call(null,n))||(s[r]=a,u[r]=o,a<l&&(l=a),a>h&&(h=a),o<f&&(f=o),o>c&&(c=o));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),r=0;r<i;++r)Ar(this,s[r],u[r],e[r]);return this}function Eu(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,a=this._x1,o=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,o=(i=Math.floor(n))+1;else{for(var s=a-r||1,u=this._root,l,f;r>e||e>=a||i>n||n>=o;)switch(f=(n<i)<<1|e<r,l=new Array(4),l[f]=u,u=l,s*=2,f){case 0:a=r+s,o=i+s;break;case 1:r=a-s,o=i+s;break;case 2:a=r+s,i=o-s;break;case 3:r=a-s,i=o-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._x1=a,this._y1=o,this}function Pu(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Tu(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ot(e,n,r,i,a){this.node=e,this.x0=n,this.y0=r,this.x1=i,this.y1=a}function Ru(e,n,r){var i,a=this._x0,o=this._y0,s,u,l,f,h=this._x1,c=this._y1,d=[],g=this._root,_,w;for(g&&d.push(new ot(g,a,o,h,c)),r==null?r=1/0:(a=e-r,o=n-r,h=e+r,c=n+r,r*=r);_=d.pop();)if(!(!(g=_.node)||(s=_.x0)>h||(u=_.y0)>c||(l=_.x1)<a||(f=_.y1)<o))if(g.length){var k=(s+l)/2,y=(u+f)/2;d.push(new ot(g[3],k,y,l,f),new ot(g[2],s,y,k,f),new ot(g[1],k,u,l,y),new ot(g[0],s,u,k,y)),(w=(n>=y)<<1|e>=k)&&(_=d[d.length-1],d[d.length-1]=d[d.length-1-w],d[d.length-1-w]=_)}else{var S=e-+this._x.call(null,g.data),z=n-+this._y.call(null,g.data),m=S*S+z*z;if(m<r){var x=Math.sqrt(r=m);a=e-x,o=n-x,h=e+x,c=n+x,i=g.data}}return i}function Nu(e){if(isNaN(h=+this._x.call(null,e))||isNaN(c=+this._y.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,u=this._y0,l=this._x1,f=this._y1,h,c,d,g,_,w,k,y;if(!r)return this;if(r.length)for(;;){if((_=h>=(d=(s+l)/2))?s=d:l=d,(w=c>=(g=(u+f)/2))?u=g:f=g,n=r,!(r=r[k=w<<1|_]))return this;if(!r.length)break;(n[k+1&3]||n[k+2&3]||n[k+3&3])&&(i=n,y=k)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[k]=o:delete n[k],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[y]=r:this._root=r),this):(this._root=o,this)}function Ou(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Iu(){return this._root}function Du(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function $u(e){var n=[],r,i=this._root,a,o,s,u,l;for(i&&n.push(new ot(i,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.y0,u=r.x1,l=r.y1)&&i.length){var f=(o+u)/2,h=(s+l)/2;(a=i[3])&&n.push(new ot(a,f,h,u,l)),(a=i[2])&&n.push(new ot(a,o,h,f,l)),(a=i[1])&&n.push(new ot(a,f,s,u,h)),(a=i[0])&&n.push(new ot(a,o,s,f,h))}return this}function Fu(e){var n=[],r=[],i;for(this._root&&n.push(new ot(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.y0,l=i.x1,f=i.y1,h=(s+l)/2,c=(u+f)/2;(o=a[0])&&n.push(new ot(o,s,u,h,c)),(o=a[1])&&n.push(new ot(o,h,u,l,c)),(o=a[2])&&n.push(new ot(o,s,c,h,f)),(o=a[3])&&n.push(new ot(o,h,c,l,f))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Uu(e){return e[0]}function Lu(e){return arguments.length?(this._x=e,this):this._x}function qu(e){return e[1]}function ju(e){return arguments.length?(this._y=e,this):this._y}function Cr(e,n,r){var i=new sn(n==null?Uu:n,r==null?qu:r,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function sn(e,n,r,i,a,o){this._x=e,this._y=n,this._x0=r,this._y0=i,this._x1=a,this._y1=o,this._root=void 0}function zr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var st=Cr.prototype=sn.prototype;st.copy=function(){var e=new sn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=zr(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var a=0;a<4;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(4)}):n.target[a]=zr(i));return e};st.add=Su;st.addAll=Mu;st.cover=Eu;st.data=Pu;st.extent=Tu;st.find=Ru;st.remove=Nu;st.removeAll=Ou;st.root=Iu;st.size=Du;st.visit=$u;st.visitAfter=Fu;st.x=Lu;st.y=ju;function Hu(e){var n=+this._x.call(null,e),r=+this._y.call(null,e),i=+this._z.call(null,e);return Sr(this.cover(n,r,i),n,r,i,e)}function Sr(e,n,r,i,a){if(isNaN(n)||isNaN(r)||isNaN(i))return e;var o,s=e._root,u={data:a},l=e._x0,f=e._y0,h=e._z0,c=e._x1,d=e._y1,g=e._z1,_,w,k,y,S,z,m,x,M,C,E;if(!s)return e._root=u,e;for(;s.length;)if((m=n>=(_=(l+c)/2))?l=_:c=_,(x=r>=(w=(f+d)/2))?f=w:d=w,(M=i>=(k=(h+g)/2))?h=k:g=k,o=s,!(s=s[C=M<<2|x<<1|m]))return o[C]=u,e;if(y=+e._x.call(null,s.data),S=+e._y.call(null,s.data),z=+e._z.call(null,s.data),n===y&&r===S&&i===z)return u.next=s,o?o[C]=u:e._root=u,e;do o=o?o[C]=new Array(8):e._root=new Array(8),(m=n>=(_=(l+c)/2))?l=_:c=_,(x=r>=(w=(f+d)/2))?f=w:d=w,(M=i>=(k=(h+g)/2))?h=k:g=k;while((C=M<<2|x<<1|m)==(E=(z>=k)<<2|(S>=w)<<1|y>=_));return o[E]=s,o[C]=u,e}function Vu(e){var n,r,i=e.length,a,o,s,u=new Array(i),l=new Array(i),f=new Array(i),h=1/0,c=1/0,d=1/0,g=-1/0,_=-1/0,w=-1/0;for(r=0;r<i;++r)isNaN(a=+this._x.call(null,n=e[r]))||isNaN(o=+this._y.call(null,n))||isNaN(s=+this._z.call(null,n))||(u[r]=a,l[r]=o,f[r]=s,a<h&&(h=a),a>g&&(g=a),o<c&&(c=o),o>_&&(_=o),s<d&&(d=s),s>w&&(w=s));if(h>g||c>_||d>w)return this;for(this.cover(h,c,d).cover(g,_,w),r=0;r<i;++r)Sr(this,u[r],l[r],f[r],e[r]);return this}function Gu(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var i=this._x0,a=this._y0,o=this._z0,s=this._x1,u=this._y1,l=this._z1;if(isNaN(i))s=(i=Math.floor(e))+1,u=(a=Math.floor(n))+1,l=(o=Math.floor(r))+1;else{for(var f=s-i||1,h=this._root,c,d;i>e||e>=s||a>n||n>=u||o>r||r>=l;)switch(d=(r<o)<<2|(n<a)<<1|e<i,c=new Array(8),c[d]=h,h=c,f*=2,d){case 0:s=i+f,u=a+f,l=o+f;break;case 1:i=s-f,u=a+f,l=o+f;break;case 2:s=i+f,a=u-f,l=o+f;break;case 3:i=s-f,a=u-f,l=o+f;break;case 4:s=i+f,u=a+f,o=l-f;break;case 5:i=s-f,u=a+f,o=l-f;break;case 6:s=i+f,a=u-f,o=l-f;break;case 7:i=s-f,a=u-f,o=l-f;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=a,this._z0=o,this._x1=s,this._y1=u,this._z1=l,this}function Bu(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Xu(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Y(e,n,r,i,a,o,s){this.node=e,this.x0=n,this.y0=r,this.z0=i,this.x1=a,this.y1=o,this.z1=s}function Yu(e,n,r,i){var a,o=this._x0,s=this._y0,u=this._z0,l,f,h,c,d,g,_=this._x1,w=this._y1,k=this._z1,y=[],S=this._root,z,m;for(S&&y.push(new Y(S,o,s,u,_,w,k)),i==null?i=1/0:(o=e-i,s=n-i,u=r-i,_=e+i,w=n+i,k=r+i,i*=i);z=y.pop();)if(!(!(S=z.node)||(l=z.x0)>_||(f=z.y0)>w||(h=z.z0)>k||(c=z.x1)<o||(d=z.y1)<s||(g=z.z1)<u))if(S.length){var x=(l+c)/2,M=(f+d)/2,C=(h+g)/2;y.push(new Y(S[7],x,M,C,c,d,g),new Y(S[6],l,M,C,x,d,g),new Y(S[5],x,f,C,c,M,g),new Y(S[4],l,f,C,x,M,g),new Y(S[3],x,M,h,c,d,C),new Y(S[2],l,M,h,x,d,C),new Y(S[1],x,f,h,c,M,C),new Y(S[0],l,f,h,x,M,C)),(m=(r>=C)<<2|(n>=M)<<1|e>=x)&&(z=y[y.length-1],y[y.length-1]=y[y.length-1-m],y[y.length-1-m]=z)}else{var E=e-+this._x.call(null,S.data),F=n-+this._y.call(null,S.data),D=r-+this._z.call(null,S.data),L=E*E+F*F+D*D;if(L<i){var q=Math.sqrt(i=L);o=e-q,s=n-q,u=r-q,_=e+q,w=n+q,k=r+q,a=S.data}}return a}function Wu(e){if(isNaN(d=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e))||isNaN(_=+this._z.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,u=this._y0,l=this._z0,f=this._x1,h=this._y1,c=this._z1,d,g,_,w,k,y,S,z,m,x,M;if(!r)return this;if(r.length)for(;;){if((S=d>=(w=(s+f)/2))?s=w:f=w,(z=g>=(k=(u+h)/2))?u=k:h=k,(m=_>=(y=(l+c)/2))?l=y:c=y,n=r,!(r=r[x=m<<2|z<<1|S]))return this;if(!r.length)break;(n[x+1&7]||n[x+2&7]||n[x+3&7]||n[x+4&7]||n[x+5&7]||n[x+6&7]||n[x+7&7])&&(i=n,M=x)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[x]=o:delete n[x],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[M]=r:this._root=r),this):(this._root=o,this)}function Zu(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Ku(){return this._root}function Qu(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Ju(e){var n=[],r,i=this._root,a,o,s,u,l,f,h;for(i&&n.push(new Y(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.y0,u=r.z0,l=r.x1,f=r.y1,h=r.z1)&&i.length){var c=(o+l)/2,d=(s+f)/2,g=(u+h)/2;(a=i[7])&&n.push(new Y(a,c,d,g,l,f,h)),(a=i[6])&&n.push(new Y(a,o,d,g,c,f,h)),(a=i[5])&&n.push(new Y(a,c,s,g,l,d,h)),(a=i[4])&&n.push(new Y(a,o,s,g,c,d,h)),(a=i[3])&&n.push(new Y(a,c,d,u,l,f,g)),(a=i[2])&&n.push(new Y(a,o,d,u,c,f,g)),(a=i[1])&&n.push(new Y(a,c,s,u,l,d,g)),(a=i[0])&&n.push(new Y(a,o,s,u,c,d,g))}return this}function tf(e){var n=[],r=[],i;for(this._root&&n.push(new Y(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.y0,l=i.z0,f=i.x1,h=i.y1,c=i.z1,d=(s+f)/2,g=(u+h)/2,_=(l+c)/2;(o=a[0])&&n.push(new Y(o,s,u,l,d,g,_)),(o=a[1])&&n.push(new Y(o,d,u,l,f,g,_)),(o=a[2])&&n.push(new Y(o,s,g,l,d,h,_)),(o=a[3])&&n.push(new Y(o,d,g,l,f,h,_)),(o=a[4])&&n.push(new Y(o,s,u,_,d,g,c)),(o=a[5])&&n.push(new Y(o,d,u,_,f,g,c)),(o=a[6])&&n.push(new Y(o,s,g,_,d,h,c)),(o=a[7])&&n.push(new Y(o,d,g,_,f,h,c))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function ef(e){return e[0]}function nf(e){return arguments.length?(this._x=e,this):this._x}function rf(e){return e[1]}function af(e){return arguments.length?(this._y=e,this):this._y}function of(e){return e[2]}function sf(e){return arguments.length?(this._z=e,this):this._z}function Mr(e,n,r,i){var a=new un(n==null?ef:n,r==null?rf:r,i==null?of:i,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function un(e,n,r,i,a,o,s,u,l){this._x=e,this._y=n,this._z=r,this._x0=i,this._y0=a,this._z0=o,this._x1=s,this._y1=u,this._z1=l,this._root=void 0}function Er(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var nt=Mr.prototype=un.prototype;nt.copy=function(){var e=new un(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=Er(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var a=0;a<8;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(8)}):n.target[a]=Er(i));return e};nt.add=Hu;nt.addAll=Vu;nt.cover=Gu;nt.data=Bu;nt.extent=Xu;nt.find=Yu;nt.remove=Wu;nt.removeAll=Zu;nt.root=Ku;nt.size=Qu;nt.visit=Ju;nt.visitAfter=tf;nt.x=nf;nt.y=af;nt.z=sf;function Pt(e){return function(){return e}}function Tt(e){return(e()-.5)*1e-6}function uf(e){return e.index}function Pr(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function ff(e){var n=uf,r=d,i,a=Pt(30),o,s,u,l,f,h,c=1;e==null&&(e=[]);function d(y){return 1/Math.min(l[y.source.index],l[y.target.index])}function g(y){for(var S=0,z=e.length;S<c;++S)for(var m=0,x,M,C,E=0,F=0,D=0,L,q;m<z;++m)x=e[m],M=x.source,C=x.target,E=C.x+C.vx-M.x-M.vx||Tt(h),u>1&&(F=C.y+C.vy-M.y-M.vy||Tt(h)),u>2&&(D=C.z+C.vz-M.z-M.vz||Tt(h)),L=Math.sqrt(E*E+F*F+D*D),L=(L-o[m])/L*y*i[m],E*=L,F*=L,D*=L,C.vx-=E*(q=f[m]),u>1&&(C.vy-=F*q),u>2&&(C.vz-=D*q),M.vx+=E*(q=1-q),u>1&&(M.vy+=F*q),u>2&&(M.vz+=D*q)}function _(){if(!!s){var y,S=s.length,z=e.length,m=new Map(s.map((M,C)=>[n(M,C,s),M])),x;for(y=0,l=new Array(S);y<z;++y)x=e[y],x.index=y,typeof x.source!="object"&&(x.source=Pr(m,x.source)),typeof x.target!="object"&&(x.target=Pr(m,x.target)),l[x.source.index]=(l[x.source.index]||0)+1,l[x.target.index]=(l[x.target.index]||0)+1;for(y=0,f=new Array(z);y<z;++y)x=e[y],f[y]=l[x.source.index]/(l[x.source.index]+l[x.target.index]);i=new Array(z),w(),o=new Array(z),k()}}function w(){if(!!s)for(var y=0,S=e.length;y<S;++y)i[y]=+r(e[y],y,e)}function k(){if(!!s)for(var y=0,S=e.length;y<S;++y)o[y]=+a(e[y],y,e)}return g.initialize=function(y,...S){s=y,h=S.find(z=>typeof z=="function")||Math.random,u=S.find(z=>[1,2,3].includes(z))||2,_()},g.links=function(y){return arguments.length?(e=y,_(),g):e},g.id=function(y){return arguments.length?(n=y,g):n},g.iterations=function(y){return arguments.length?(c=+y,g):c},g.strength=function(y){return arguments.length?(r=typeof y=="function"?y:Pt(+y),w(),g):r},g.distance=function(y){return arguments.length?(a=typeof y=="function"?y:Pt(+y),k(),g):a},g}const lf=1664525,cf=1013904223,Tr=4294967296;function hf(){let e=1;return()=>(e=(lf*e+cf)%Tr)/Tr}var Rr=3;function fn(e){return e.x}function Nr(e){return e.y}function df(e){return e.z}var gf=10,pf=Math.PI*(3-Math.sqrt(5)),yf=Math.PI*20/(9+Math.sqrt(221));function vf(e,n){n=n||2;var r=Math.min(Rr,Math.max(1,Math.round(n))),i,a=1,o=.001,s=1-Math.pow(o,1/300),u=0,l=.6,f=new Map,h=Ye(g),c=Bt("tick","end"),d=hf();e==null&&(e=[]);function g(){_(),c.call("tick",i),a<o&&(h.stop(),c.call("end",i))}function _(y){var S,z=e.length,m;y===void 0&&(y=1);for(var x=0;x<y;++x)for(a+=(u-a)*s,f.forEach(function(M){M(a)}),S=0;S<z;++S)m=e[S],m.fx==null?m.x+=m.vx*=l:(m.x=m.fx,m.vx=0),r>1&&(m.fy==null?m.y+=m.vy*=l:(m.y=m.fy,m.vy=0)),r>2&&(m.fz==null?m.z+=m.vz*=l:(m.z=m.fz,m.vz=0));return i}function w(){for(var y=0,S=e.length,z;y<S;++y){if(z=e[y],z.index=y,z.fx!=null&&(z.x=z.fx),z.fy!=null&&(z.y=z.fy),z.fz!=null&&(z.z=z.fz),isNaN(z.x)||r>1&&isNaN(z.y)||r>2&&isNaN(z.z)){var m=gf*(r>2?Math.cbrt(.5+y):r>1?Math.sqrt(.5+y):y),x=y*pf,M=y*yf;r===1?z.x=m:r===2?(z.x=m*Math.cos(x),z.y=m*Math.sin(x)):(z.x=m*Math.sin(x)*Math.cos(M),z.y=m*Math.cos(x),z.z=m*Math.sin(x)*Math.sin(M))}(isNaN(z.vx)||r>1&&isNaN(z.vy)||r>2&&isNaN(z.vz))&&(z.vx=0,r>1&&(z.vy=0),r>2&&(z.vz=0))}}function k(y){return y.initialize&&y.initialize(e,d,r),y}return w(),i={tick:_,restart:function(){return h.restart(g),i},stop:function(){return h.stop(),i},numDimensions:function(y){return arguments.length?(r=Math.min(Rr,Math.max(1,Math.round(y))),f.forEach(k),i):r},nodes:function(y){return arguments.length?(e=y,w(),f.forEach(k),i):e},alpha:function(y){return arguments.length?(a=+y,i):a},alphaMin:function(y){return arguments.length?(o=+y,i):o},alphaDecay:function(y){return arguments.length?(s=+y,i):+s},alphaTarget:function(y){return arguments.length?(u=+y,i):u},velocityDecay:function(y){return arguments.length?(l=1-y,i):1-l},randomSource:function(y){return arguments.length?(d=y,f.forEach(k),i):d},force:function(y,S){return arguments.length>1?(S==null?f.delete(y):f.set(y,k(S)),i):f.get(y)},find:function(){var y=Array.prototype.slice.call(arguments),S=y.shift()||0,z=(r>1?y.shift():null)||0,m=(r>2?y.shift():null)||0,x=y.shift()||1/0,M=0,C=e.length,E,F,D,L,q,B;for(x*=x,M=0;M<C;++M)q=e[M],E=S-q.x,F=z-(q.y||0),D=m-(q.z||0),L=E*E+F*F+D*D,L<x&&(B=q,x=L);return B},on:function(y,S){return arguments.length>1?(c.on(y,S),i):c.on(y)}}}function _f(){var e,n,r,i,a,o=Pt(-30),s,u=1,l=1/0,f=.81;function h(_){var w,k=e.length,y=(n===1?br(e,fn):n===2?Cr(e,fn,Nr):n===3?Mr(e,fn,Nr,df):null).visitAfter(d);for(a=_,w=0;w<k;++w)r=e[w],y.visit(g)}function c(){if(!!e){var _,w=e.length,k;for(s=new Array(w),_=0;_<w;++_)k=e[_],s[k.index]=+o(k,_,e)}}function d(_){var w=0,k,y,S=0,z,m,x,M,C=_.length;if(C){for(z=m=x=M=0;M<C;++M)(k=_[M])&&(y=Math.abs(k.value))&&(w+=k.value,S+=y,z+=y*(k.x||0),m+=y*(k.y||0),x+=y*(k.z||0));w*=Math.sqrt(4/C),_.x=z/S,n>1&&(_.y=m/S),n>2&&(_.z=x/S)}else{k=_,k.x=k.data.x,n>1&&(k.y=k.data.y),n>2&&(k.z=k.data.z);do w+=s[k.data.index];while(k=k.next)}_.value=w}function g(_,w,k,y,S){if(!_.value)return!0;var z=[k,y,S][n-1],m=_.x-r.x,x=n>1?_.y-r.y:0,M=n>2?_.z-r.z:0,C=z-w,E=m*m+x*x+M*M;if(C*C/f<E)return E<l&&(m===0&&(m=Tt(i),E+=m*m),n>1&&x===0&&(x=Tt(i),E+=x*x),n>2&&M===0&&(M=Tt(i),E+=M*M),E<u&&(E=Math.sqrt(u*E)),r.vx+=m*_.value*a/E,n>1&&(r.vy+=x*_.value*a/E),n>2&&(r.vz+=M*_.value*a/E)),!0;if(_.length||E>=l)return;(_.data!==r||_.next)&&(m===0&&(m=Tt(i),E+=m*m),n>1&&x===0&&(x=Tt(i),E+=x*x),n>2&&M===0&&(M=Tt(i),E+=M*M),E<u&&(E=Math.sqrt(u*E)));do _.data!==r&&(C=s[_.data.index]*a/E,r.vx+=m*C,n>1&&(r.vy+=x*C),n>2&&(r.vz+=M*C));while(_=_.next)}return h.initialize=function(_,...w){e=_,i=w.find(k=>typeof k=="function")||Math.random,n=w.find(k=>[1,2,3].includes(k))||2,c()},h.strength=function(_){return arguments.length?(o=typeof _=="function"?_:Pt(+_),c(),h):o},h.distanceMin=function(_){return arguments.length?(u=_*_,h):Math.sqrt(u)},h.distanceMax=function(_){return arguments.length?(l=_*_,h):Math.sqrt(l)},h.theta=function(_){return arguments.length?(f=_*_,h):Math.sqrt(f)},h}function mf(e,n,r,i){var a,o,s=Pt(.1),u,l;typeof e!="function"&&(e=Pt(+e)),n==null&&(n=0),r==null&&(r=0),i==null&&(i=0);function f(c){for(var d=0,g=a.length;d<g;++d){var _=a[d],w=_.x-n||1e-6,k=(_.y||0)-r||1e-6,y=(_.z||0)-i||1e-6,S=Math.sqrt(w*w+k*k+y*y),z=(l[d]-S)*u[d]*c/S;_.vx+=w*z,o>1&&(_.vy+=k*z),o>2&&(_.vz+=y*z)}}function h(){if(!!a){var c,d=a.length;for(u=new Array(d),l=new Array(d),c=0;c<d;++c)l[c]=+e(a[c],c,a),u[c]=isNaN(l[c])?0:+s(a[c],c,a)}}return f.initialize=function(c,...d){a=c,o=d.find(g=>[1,2,3].includes(g))||2,h()},f.strength=function(c){return arguments.length?(s=typeof c=="function"?c:Pt(+c),h(),f):s},f.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Pt(+c),h(),f):e},f.x=function(c){return arguments.length?(n=+c,f):n},f.y=function(c){return arguments.length?(r=+c,f):r},f.z=function(c){return arguments.length?(i=+c,f):i},f}const{abs:oe,cos:Rt,sin:Ht,acos:xf,atan2:se,sqrt:Ot,pow:gt}=Math;function ue(e){return e<0?-gt(-e,1/3):gt(e,1/3)}const Or=Math.PI,Pe=2*Or,It=Or/2,wf=1e-6,ln=Number.MAX_SAFE_INTEGER||9007199254740991,cn=Number.MIN_SAFE_INTEGER||-9007199254740991,bf={x:0,y:0,z:0},R={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let i=r.x*r.x+r.y*r.y;return typeof r.z!="undefined"&&(i+=r.z*r.z),Ot(i)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const i=n.length-1;if(e===1)return n[i].t=1,n[i];const a=1-e;let o=n;if(i===0)return n[0].t=e,n[0];if(i===1){const u={x:a*o[0].x+e*o[1].x,y:a*o[0].y+e*o[1].y,t:e};return r&&(u.z=a*o[0].z+e*o[1].z),u}if(i<4){let u=a*a,l=e*e,f,h,c,d=0;i===2?(o=[o[0],o[1],o[2],bf],f=u,h=a*e*2,c=l):i===3&&(f=u*a,h=u*e*3,c=a*l*3,d=e*l);const g={x:f*o[0].x+h*o[1].x+c*o[2].x+d*o[3].x,y:f*o[0].y+h*o[1].y+c*o[2].y+d*o[3].y,t:e};return r&&(g.z=f*o[0].z+h*o[1].z+c*o[2].z+d*o[3].z),g}const s=JSON.parse(JSON.stringify(n));for(;s.length>1;){for(let u=0;u<s.length-1;u++)s[u]={x:s[u].x+(s[u+1].x-s[u].x)*e,y:s[u].y+(s[u+1].y-s[u].y)*e},typeof s[u].z!="undefined"&&(s[u]=s[u].z+(s[u+1].z-s[u].z)*e);s.splice(s.length-1,1)}return s[0].t=e,s[0]},computeWithRatios:function(e,n,r,i){const a=1-e,o=r,s=n;let u=o[0],l=o[1],f=o[2],h=o[3],c;if(u*=a,l*=e,s.length===2)return c=u+l,{x:(u*s[0].x+l*s[1].x)/c,y:(u*s[0].y+l*s[1].y)/c,z:i?(u*s[0].z+l*s[1].z)/c:!1,t:e};if(u*=a,l*=2*a,f*=e*e,s.length===3)return c=u+l+f,{x:(u*s[0].x+l*s[1].x+f*s[2].x)/c,y:(u*s[0].y+l*s[1].y+f*s[2].y)/c,z:i?(u*s[0].z+l*s[1].z+f*s[2].z)/c:!1,t:e};if(u*=a,l*=1.5*a,f*=3*a,h*=e*e*e,s.length===4)return c=u+l+f+h,{x:(u*s[0].x+l*s[1].x+f*s[2].x+h*s[3].x)/c,y:(u*s[0].y+l*s[1].y+f*s[2].y+h*s[3].y)/c,z:i?(u*s[0].z+l*s[1].z+f*s[2].z+h*s[3].z)/c:!1,t:e}},derive:function(e,n){const r=[];for(let i=e,a=i.length,o=a-1;a>1;a--,o--){const s=[];for(let u=0,l;u<o;u++)l={x:o*(i[u+1].x-i[u].x),y:o*(i[u+1].y-i[u].y)},n&&(l.z=o*(i[u+1].z-i[u].z)),s.push(l);r.push(s),i=s}return r},between:function(e,n,r){return n<=e&&e<=r||R.approximately(e,n)||R.approximately(e,r)},approximately:function(e,n,r){return oe(e-n)<=(r||wf)},length:function(e){const n=.5,r=R.Tvalues.length;let i=0;for(let a=0,o;a<r;a++)o=n*R.Tvalues[a]+n,i+=R.Cvalues[a]*R.arcfn(o,e);return n*i},map:function(e,n,r,i,a){const o=r-n,s=a-i,u=e-n,l=u/o;return i+s*l},lerp:function(e,n,r){const i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z!="undefined"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(R.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const i=n.x-e.x,a=n.y-e.y,o=r.x-e.x,s=r.y-e.y,u=i*s-a*o,l=i*o+a*s;return se(u,l)},round:function(e,n){const r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){const r=e.x-n.x,i=e.y-n.y;return Ot(r*r+i*i)},closest:function(e,n){let r=gt(2,63),i,a;return e.forEach(function(o,s){a=R.dist(n,o),a<r&&(r=a,i=s)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e=="undefined")e=.5;else if(e===0||e===1)return e;const r=gt(e,n)+gt(1-e,n),i=r-1;return oe(i/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e=="undefined")e=.5;else if(e===0||e===1)return e;const r=gt(1-e,n),i=gt(e,n)+r;return r/i},lli8:function(e,n,r,i,a,o,s,u){const l=(e*i-n*r)*(a-s)-(e-r)*(a*u-o*s),f=(e*i-n*r)*(o-u)-(n-i)*(a*u-o*s),h=(e-r)*(o-u)-(n-i)*(a-s);return h==0?!1:{x:l/h,y:f/h}},lli4:function(e,n,r,i){const a=e.x,o=e.y,s=n.x,u=n.y,l=r.x,f=r.y,h=i.x,c=i.y;return R.lli8(a,o,s,u,l,f,h,c)},lli:function(e,n){return R.lli4(e,e.c,n,n.c)},makeline:function(e,n){const r=e.x,i=e.y,a=n.x,o=n.y,s=(a-r)/3,u=(o-i)/3;return new J(r,i,r+s,i+u,r+2*s,i+2*u,a,o)},findbbox:function(e){let n=ln,r=ln,i=cn,a=cn;return e.forEach(function(o){const s=o.bbox();n>s.x.min&&(n=s.x.min),r>s.y.min&&(r=s.y.min),i<s.x.max&&(i=s.x.max),a<s.y.max&&(a=s.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+a)/2,max:a,size:a-r}}},shapeintersections:function(e,n,r,i,a){if(!R.bboxoverlap(n,i))return[];const o=[],s=[e.startcap,e.forward,e.back,e.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return s.forEach(function(l){l.virtual||u.forEach(function(f){if(f.virtual)return;const h=l.intersects(f,a);h.length>0&&(h.c1=l,h.c2=f,h.s1=e,h.s2=r,o.push(h))})}),o},makeshape:function(e,n,r){const i=n.points.length,a=e.points.length,o=R.makeline(n.points[i-1],e.points[0]),s=R.makeline(e.points[a-1],n.points[0]),u={startcap:o,forward:e,back:n,endcap:s,bbox:R.findbbox([o,e,n,s])};return u.intersections=function(l){return R.shapeintersections(u,u.bbox,l,l.bbox,r)},u},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=ln,a=cn,o,s;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let u=0,l=r.length;u<l;u++)o=r[u],s=e.get(o),s[n]<i&&(i=s[n]),s[n]>a&&(a=s[n]);return{min:i,mid:(i+a)/2,max:a,size:a-i}},align:function(e,n){const r=n.p1.x,i=n.p1.y,a=-se(n.p2.y-i,n.p2.x-r),o=function(s){return{x:(s.x-r)*Rt(a)-(s.y-i)*Ht(a),y:(s.x-r)*Ht(a)+(s.y-i)*Rt(a)}};return e.map(o)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,i=R.align(e,n),a=function(C){return 0<=C&&C<=1};if(r===2){const C=i[0].y,E=i[1].y,F=i[2].y,D=C-2*E+F;if(D!==0){const L=-Ot(E*E-C*F),q=-C+E,B=-(L+q)/D,A=-(-L+q)/D;return[B,A].filter(a)}else if(E!==F&&D===0)return[(2*E-F)/(2*E-2*F)].filter(a);return[]}const o=i[0].y,s=i[1].y,u=i[2].y,l=i[3].y;let f=-o+3*s-3*u+l,h=3*o-6*s+3*u,c=-3*o+3*s,d=o;if(R.approximately(f,0)){if(R.approximately(h,0))return R.approximately(c,0)?[]:[-d/c].filter(a);const C=Ot(c*c-4*h*d),E=2*h;return[(C-c)/E,(-c-C)/E].filter(a)}h/=f,c/=f,d/=f;const g=(3*c-h*h)/3,_=g/3,w=(2*h*h*h-9*h*c+27*d)/27,k=w/2,y=k*k+_*_*_;let S,z,m,x,M;if(y<0){const C=-g/3,E=C*C*C,F=Ot(E),D=-w/(2*F),L=D<-1?-1:D>1?1:D,q=xf(L),B=ue(F),A=2*B;return m=A*Rt(q/3)-h/3,x=A*Rt((q+Pe)/3)-h/3,M=A*Rt((q+2*Pe)/3)-h/3,[m,x,M].filter(a)}else{if(y===0)return S=k<0?ue(-k):-ue(k),m=2*S-h/3,x=-S-h/3,[m,x].filter(a);{const C=Ot(y);return S=ue(-k+C),z=ue(k+C),[S-z-h/3].filter(a)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],i=e[2],a=n-2*r+i;if(a!==0){const o=-Ot(r*r-n*i),s=-n+r,u=-(o+s)/a,l=-(-o+s)/a;return[u,l]}else if(r!==i&&a===0)return[(2*r-i)/(2*(r-i))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,i,a){let o,s,u,l,f=0,h=0;const c=R.compute(e,n),d=R.compute(e,r),g=c.x*c.x+c.y*c.y;if(i?(o=Ot(gt(c.y*d.z-d.y*c.z,2)+gt(c.z*d.x-d.z*c.x,2)+gt(c.x*d.y-d.x*c.y,2)),s=gt(g+c.z*c.z,3/2)):(o=c.x*d.y-c.y*d.x,s=gt(g,3/2)),o===0||s===0)return{k:0,r:0};if(f=o/s,h=s/o,!a){const _=R.curvature(e-.001,n,r,i,!0).k,w=R.curvature(e+.001,n,r,i,!0).k;l=(w-f+(f-_))/2,u=(oe(w-f)+oe(f-_))/2}return{k:f,r:h,dk:l,adk:u}},inflections:function(e){if(e.length<4)return[];const n=R.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,a=n[1].x*n[2].y,o=n[3].x*n[2].y,s=18*(-3*r+2*i+3*a-o),u=18*(3*r-i-3*a),l=18*(a-r);if(R.approximately(s,0)){if(!R.approximately(u,0)){let d=-l/u;if(0<=d&&d<=1)return[d]}return[]}const f=u*u-4*s*l,h=Math.sqrt(f),c=2*s;return R.approximately(c,0)?[]:[(h-u)/c,-(u+h)/c].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(e,n){const r=["x","y"],i=r.length;for(let a=0,o,s,u,l;a<i;a++)if(o=r[a],s=e[o].mid,u=n[o].mid,l=(e[o].size+n[o].size)/2,oe(s-u)>=l)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const i=e.bbox(),a=n.bbox(),o=1e5,s=r||.5;if(i.x.size+i.y.size<s&&a.x.size+a.y.size<s)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(n._t1+n._t2)/2|0)/o];let u=e.split(.5),l=n.split(.5),f=[{left:u.left,right:l.left},{left:u.left,right:l.right},{left:u.right,right:l.right},{left:u.right,right:l.left}];f=f.filter(function(c){return R.bboxoverlap(c.left.bbox(),c.right.bbox())});let h=[];return f.length===0||(f.forEach(function(c){h=h.concat(R.pairiteration(c.left,c.right,s))}),h=h.filter(function(c,d){return h.indexOf(c)===d})),h},getccenter:function(e,n,r){const i=n.x-e.x,a=n.y-e.y,o=r.x-n.x,s=r.y-n.y,u=i*Rt(It)-a*Ht(It),l=i*Ht(It)+a*Rt(It),f=o*Rt(It)-s*Ht(It),h=o*Ht(It)+s*Rt(It),c=(e.x+n.x)/2,d=(e.y+n.y)/2,g=(n.x+r.x)/2,_=(n.y+r.y)/2,w=c+u,k=d+l,y=g+f,S=_+h,z=R.lli8(c,d,w,k,g,_,y,S),m=R.dist(z,e);let x=se(e.y-z.y,e.x-z.x),M=se(n.y-z.y,n.x-z.x),C=se(r.y-z.y,r.x-z.x),E;return x<C?((x>M||M>C)&&(x+=Pe),x>C&&(E=C,C=x,x=E)):C<M&&M<x?(E=C,C=x,x=E):C+=Pe,z.s=x,z.e=C,z.r=m,z},numberSort:function(e,n){return e-n}};class Te{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return R.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),i=1;i<n.length;i++)R.expandbox(r,n[i].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(n))}),new Te(r)}}const{abs:fe,min:Ir,max:Dr,cos:kf,sin:Af,acos:Cf,sqrt:le}=Math,zf=Math.PI;class J{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const d=[];r.forEach(function(g){["x","y","z"].forEach(function(_){typeof g[_]!="undefined"&&d.push(g[_])})}),r=d}let a=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const s=this._3d=!a&&(o===9||o===12)||n&&n[0]&&typeof n[0].z!="undefined",u=this.points=[];for(let d=0,g=s?3:2;d<o;d+=g){var l={x:r[d],y:r[d+1]};s&&(l.z=r[d+2]),u.push(l)}const f=this.order=u.length-1,h=this.dims=["x","y"];s&&h.push("z"),this.dimlen=h.length;const c=R.align(u,{p1:u[0],p2:u[f]});this._linear=!c.some(d=>fe(d.y)>1e-4),this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,i,a){if(typeof a=="undefined"&&(a=.5),a===0)return new J(r,r,i);if(a===1)return new J(n,r,r);const o=J.getABC(2,n,r,i,a);return new J(n,o.A,i)}static cubicFromPoints(n,r,i,a,o){typeof a=="undefined"&&(a=.5);const s=J.getABC(3,n,r,i,a);typeof o=="undefined"&&(o=R.dist(r,s.C));const u=o*(1-a)/a,l=R.dist(n,i),f=(i.x-n.x)/l,h=(i.y-n.y)/l,c=o*f,d=o*h,g=u*f,_=u*h,w={x:r.x-c,y:r.y-d},k={x:r.x+g,y:r.y+_},y=s.A,S={x:y.x+(w.x-y.x)/(1-a),y:y.y+(w.y-y.y)/(1-a)},z={x:y.x+(k.x-y.x)/a,y:y.y+(k.y-y.y)/a},m={x:n.x+(S.x-n.x)/a,y:n.y+(S.y-n.y)/a},x={x:i.x+(z.x-i.x)/(1-a),y:i.y+(z.y-i.y)/(1-a)};return new J(n,m,x,i)}static getUtils(){return R}getUtils(){return J.getUtils()}static get PolyBezier(){return Te}valueOf(){return this.toString()}toString(){return R.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,i=n[0].y,a=["M",r,i,this.order===2?"Q":"C"];for(let o=1,s=n.length;o<s;o++)a.push(n[o].x),a.push(n[o].y);return a.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=R.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=R.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return R.length(this.derivative.bind(this))}static getABC(n=2,r,i,a,o=.5){const s=R.projectionratio(o,n),u=1-s,l={x:s*r.x+u*a.x,y:s*r.y+u*a.y},f=R.abcratio(o,n);return{A:{x:i.x+(i.x-l.x)/f,y:i.y+(i.y-l.y)/f},B:i,C:l,S:r,E:a}}getABC(n,r){r=r||this.get(n);let i=this.points[0],a=this.points[this.order];return J.getABC(this.order,i,r,a,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n)return this._lut;this._lut=[],n--;for(let r=0,i,a;r<n;r++)a=r/(n-1),i=this.compute(a),i.t=a,this._lut.push(i);return this._lut}on(n,r){r=r||5;const i=this.getLUT(),a=[];for(let o=0,s,u=0;o<i.length;o++)s=i[o],R.dist(s,n)<r&&(a.push(s),u+=o/i.length);return a.length?t/=a.length:!1}project(n){const r=this.getLUT(),i=r.length-1,a=R.closest(r,n),o=a.mpos,s=(o-1)/i,u=(o+1)/i,l=.1/i;let f=a.mdist,h=s,c=h,d;f+=1;for(let g;h<u+l;h+=l)d=this.compute(h),g=R.dist(n,d),g<f&&(f=g,c=h);return c=c<0?0:c>1?1:c,d=this.compute(c),d.t=c,d.d=f,d}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?R.computeWithRatios(n,this.points,this.ratios,this._3d):R.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],i=n.length;for(let a=1,o,s;a<i;a++)o=n[a],s=n[a-1],r[a]={x:(i-a)/i*o.x+a/i*s.x,y:(i-a)/i*o.y+a/i*s.y};return r[i]=n[i-1],new J(r)}derivative(n){return R.compute(n,this.dpoints[0],this._3d)}dderivative(n){return R.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new J(R.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return R.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return R.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),i=le(r.x*r.x+r.y*r.y);return{x:-r.y/i,y:r.x/i}}__normal3(n){const r=this.derivative(n),i=this.derivative(n+.01),a=le(r.x*r.x+r.y*r.y+r.z*r.z),o=le(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=a,r.y/=a,r.z/=a,i.x/=o,i.y/=o,i.z/=o;const s={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},u=le(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=u,s.y/=u,s.z/=u;const l=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{x:l[0]*r.x+l[1]*r.y+l[2]*r.z,y:l[3]*r.x+l[4]*r.y+l[5]*r.z,z:l[6]*r.x+l[7]*r.y+l[8]*r.z}}hull(n){let r=this.points,i=[],a=[],o=0;for(a[o++]=r[0],a[o++]=r[1],a[o++]=r[2],this.order===3&&(a[o++]=r[3]);r.length>1;){i=[];for(let s=0,u,l=r.length-1;s<l;s++)u=R.lerp(n,r[s],r[s+1]),a[o++]=u,i.push(u);r=i}return a}split(n,r){if(n===0&&!!r)return this.split(r).left;if(r===1)return this.split(n).right;const i=this.hull(n),a={left:this.order===2?new J([i[0],i[3],i[5]]):new J([i[0],i[4],i[7],i[9]]),right:this.order===2?new J([i[5],i[4],i[2]]):new J([i[9],i[8],i[6],i[3]]),span:i};return a.left._t1=R.map(0,0,1,this._t1,this._t2),a.left._t2=R.map(n,0,1,this._t1,this._t2),a.right._t1=R.map(n,0,1,this._t1,this._t2),a.right._t2=R.map(1,0,1,this._t1,this._t2),r?(r=R.map(r,n,1,0,1),a.right.split(r).left):a}extrema(){const n={};let r=[];return this.dims.forEach(function(i){let a=function(s){return s[i]},o=this.dpoints[0].map(a);n[i]=R.droots(o),this.order===3&&(o=this.dpoints[1].map(a),n[i]=n[i].concat(R.droots(o))),n[i]=n[i].filter(function(s){return s>=0&&s<=1}),r=r.concat(n[i].sort(R.numberSort))}.bind(this)),n.values=r.sort(R.numberSort).filter(function(i,a){return r.indexOf(i)===a}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach(function(i){r[i]=R.getminmax(this,i,n[i])}.bind(this)),r}overlaps(n){const r=this.bbox(),i=n.bbox();return R.bboxoverlap(r,i)}offset(n,r){if(typeof r!="undefined"){const i=this.get(n),a=this.normal(n),o={c:i,n:a,x:i.x+a.x*r,y:i.y+a.y*r};return this._3d&&(o.z=i.z+a.z*r),o}if(this._linear){const i=this.normal(0),a=this.points.map(function(o){const s={x:o.x+n*i.x,y:o.y+n*i.y};return o.z&&i.z&&(s.z=o.z+n*i.z),s});return[new J(a)]}return this.reduce().map(function(i){return i._linear?i.offset(n)[0]:i.scale(n)})}simple(){if(this.order===3){const a=R.angle(this.points[0],this.points[3],this.points[1]),o=R.angle(this.points[0],this.points[3],this.points[2]);if(a>0&&o<0||a<0&&o>0)return!1}const n=this.normal(0),r=this.normal(1);let i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),fe(Cf(i))<zf/3}reduce(){let n,r=0,i=0,a=.01,o,s=[],u=[],l=this.extrema().values;for(l.indexOf(0)===-1&&(l=[0].concat(l)),l.indexOf(1)===-1&&l.push(1),r=l[0],n=1;n<l.length;n++)i=l[n],o=this.split(r,i),o._t1=r,o._t2=i,s.push(o),r=i;return s.forEach(function(f){for(r=0,i=0;i<=1;)for(i=r+a;i<=1+a;i+=a)if(o=f.split(r,i),!o.simple()){if(i-=a,fe(r-i)<a)return[];o=f.split(r,i),o._t1=R.map(r,0,1,f._t1,f._t2),o._t2=R.map(i,0,1,f._t1,f._t2),u.push(o),r=i;break}r<1&&(o=f.split(r,1),o._t1=R.map(r,0,1,f._t1,f._t2),o._t2=f._t2,u.push(o))}),u}scale(n){const r=this.order;let i=!1;if(typeof n=="function"&&(i=n),i&&r===2)return this.raise().scale(i);const a=this.clockwise,o=i?i(0):n,s=i?i(1):n,u=[this.offset(0,10),this.offset(1,10)],l=this.points,f=[],h=R.lli4(u[0],u[0].c,u[1],u[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(c){const d=f[c*r]=R.copy(l[c*r]);d.x+=(c?s:o)*u[c].n.x,d.y+=(c?s:o)*u[c].n.y}),i?([0,1].forEach(function(c){if(!(r===2&&!!c)){var d=l[c+1],g={x:d.x-h.x,y:d.y-h.y},_=i?i((c+1)/r):n;i&&!a&&(_=-_);var w=le(g.x*g.x+g.y*g.y);g.x/=w,g.y/=w,f[c+1]={x:d.x+_*g.x,y:d.y+_*g.y}}}),new J(f)):([0,1].forEach(c=>{if(r===2&&!!c)return;const d=f[c*r],g=this.derivative(c),_={x:d.x+g.x,y:d.y+g.y};f[c+1]=R.lli4(d,_,h,l[c+1])}),new J(f))}outline(n,r,i,a){r=typeof r=="undefined"?n:r;const o=this.reduce(),s=o.length,u=[];let l=[],f,h=0,c=this.length();const d=typeof i!="undefined"&&typeof a!="undefined";function g(x,M,C,E,F){return function(D){const L=E/C,q=(E+F)/C,B=M-x;return R.map(D,0,1,x+L*B,x+q*B)}}o.forEach(function(x){const M=x.length();d?(u.push(x.scale(g(n,i,c,h,M))),l.push(x.scale(g(-r,-a,c,h,M)))):(u.push(x.scale(n)),l.push(x.scale(-r))),h+=M}),l=l.map(function(x){return f=x.points,f[3]?x.points=[f[3],f[2],f[1],f[0]]:x.points=[f[2],f[1],f[0]],x}).reverse();const _=u[0].points[0],w=u[s-1].points[u[s-1].points.length-1],k=l[s-1].points[l[s-1].points.length-1],y=l[0].points[0],S=R.makeline(k,_),z=R.makeline(w,y),m=[S].concat(u).concat([z]).concat(l);return m.length,new Te(m)}outlineshapes(n,r,i){r=r||n;const a=this.outline(n,r).curves,o=[];for(let s=1,u=a.length;s<u/2;s++){const l=R.makeshape(a[s],a[u-s],i);l.startcap.virtual=s>1,l.endcap.virtual=s<u/2-1,o.push(l)}return o}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof J&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=Ir(n.p1.x,n.p2.x),i=Ir(n.p1.y,n.p2.y),a=Dr(n.p1.x,n.p2.x),o=Dr(n.p1.y,n.p2.y);return R.roots(this.points,n).filter(s=>{var u=this.get(s);return R.between(u.x,r,a)&&R.between(u.y,i,o)})}selfintersects(n){const r=this.reduce(),i=r.length-2,a=[];for(let o=0,s,u,l;o<i;o++)u=r.slice(o,o+1),l=r.slice(o+2),s=this.curveintersects(u,l,n),a.push(...s);return a}curveintersects(n,r,i){const a=[];n.forEach(function(s){r.forEach(function(u){s.overlaps(u)&&a.push({left:s,right:u})})});let o=[];return a.forEach(function(s){const u=R.pairiteration(s.left,s.right,i);u.length>0&&(o=o.concat(u))}),o}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,i,a){const o=(a-i)/4,s=this.get(i+o),u=this.get(a-o),l=R.dist(n,r),f=R.dist(n,s),h=R.dist(n,u);return fe(f-l)+fe(h-l)}_iterate(n,r){let i=0,a=1,o;do{o=0,a=1;let s=this.get(i),u,l,f,h,c=!1,d=!1,g,_=a,w=1;do if(d=c,h=f,_=(i+a)/2,u=this.get(_),l=this.get(a),f=R.getccenter(s,u,l),f.interval={start:i,end:a},c=this._error(f,s,i,a)<=n,g=d&&!c,g||(w=a),c){if(a>=1){if(f.interval.end=w=1,h=f,a>1){let y={x:f.x+f.r*kf(f.e),y:f.y+f.r*Af(f.e)};f.e+=R.angle({x:f.x,y:f.y},y,this.get(1))}break}a=a+(a-i)/2}else a=_;while(!g&&o++<100);if(o>=100)break;h=h||f,r.push(h),i=w}while(a<1);return r}}function Sf(e,n){if(e==null)return{};var r={},i=Object.keys(e),a,o;for(o=0;o<i.length;o++)a=i[o],!(n.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Mf(e,n){if(e==null)return{};var r=Sf(e,n),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],!(n.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(r[i]=e[i]))}return r}function Ef(e,n){return Rf(e)||Of(e,n)||$r(e,n)||Df()}function Pf(e){return Tf(e)||Nf(e)||$r(e)||If()}function Tf(e){if(Array.isArray(e))return hn(e)}function Rf(e){if(Array.isArray(e))return e}function Nf(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Of(e,n){var r=e&&(typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var i=[],a=!0,o=!1,s,u;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(i.push(s.value),!(n&&i.length===n));a=!0);}catch(l){o=!0,u=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}return i}}function $r(e,n){if(!!e){if(typeof e=="string")return hn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hn(e,n)}}function hn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function If(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Df(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $f(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Ff(e){var n=$f(e,"string");return typeof n=="symbol"?n:String(n)}var Uf=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),o=e.reduce(function(u,l){var f=u,h=l;return a.forEach(function(c,d){var g=c.keyAccessor,_=c.isProp,w;if(_){var k=h,y=k[g],S=Mf(k,[g].map(Ff));w=y,h=S}else w=g(h,d);d+1<a.length?(f.hasOwnProperty(w)||(f[w]={}),f=f[w]):r?(f.hasOwnProperty(w)||(f[w]=[]),f[w].push(h)):f[w]=h}),u},{});r instanceof Function&&function u(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;f===a.length?Object.keys(l).forEach(function(h){return l[h]=r(l[h])}):Object.values(l).forEach(function(h){return u(h,f+1)})}(o);var s=o;return i&&(s=[],function u(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];f.length===a.length?s.push({keys:f,vals:l}):Object.entries(l).forEach(function(h){var c=Ef(h,2),d=c[0],g=c[1];return u(g,[].concat(Pf(f),[d]))})}(o),n instanceof Array&&n.length===0&&s.length===1&&(s[0].keys=[])),s};function Lf(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const Fr=Symbol("implicit");function Ur(){var e=new fr,n=[],r=[],i=Fr;function a(o){let s=e.get(o);if(s===void 0){if(i!==Fr)return i;e.set(o,s=n.push(o)-1)}return r[s%r.length]}return a.domain=function(o){if(!arguments.length)return n.slice();n=[],e=new fr;for(const s of o)e.has(s)||e.set(s,n.push(s)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return Ur(n,r).unknown(i)},Lf.apply(a,arguments),a}function qf(e){for(var n=e.length/6|0,r=new Array(n),i=0;i<n;)r[i]="#"+e.slice(i*6,++i*6);return r}var jf=qf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Hf(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var Vf=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  transform: translate(-50%, 25px);
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;Hf(Vf);function Lr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function Re(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Lr(Object(r),!0).forEach(function(i){ce(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Ne(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ne=function(n){return typeof n}:Ne=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ne(e)}function ce(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function dn(e,n){return dn=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},dn(e,n)}function Gf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function he(e,n,r){return Gf()?he=Reflect.construct:he=function(a,o,s){var u=[null];u.push.apply(u,o);var l=Function.bind.apply(a,u),f=new l;return s&&dn(f,s.prototype),f},he.apply(null,arguments)}function de(e,n){return Xf(e)||Wf(e,n)||qr(e,n)||Kf()}function pt(e){return Bf(e)||Yf(e)||qr(e)||Zf()}function Bf(e){if(Array.isArray(e))return gn(e)}function Xf(e){if(Array.isArray(e))return e}function Yf(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wf(e,n){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],a=!0,o=!1,s,u;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(i.push(s.value),!(n&&i.length===n));a=!0);}catch(l){o=!0,u=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}return i}}function qr(e,n){if(!!e){if(typeof e=="string")return gn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gn(e,n)}}function gn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function Zf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qf=Ur(jf);function jr(e,n,r){!n||typeof r!="string"||e.filter(function(i){return!i[r]}).forEach(function(i){i[r]=Qf(n(i))})}function Jf(e,n){var r=e.nodes,i=e.links,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.nodeFilter,s=o===void 0?function(){return!0}:o,u=a.onLoopError,l=u===void 0?function(g){throw"Invalid DAG structure! Found cycle in node path: ".concat(g.join(" -> "),".")}:u,f={};r.forEach(function(g){return f[n(g)]={data:g,out:[],depth:-1,skip:!s(g)}}),i.forEach(function(g){var _=g.source,w=g.target,k=m(_),y=m(w);if(!f.hasOwnProperty(k))throw"Missing source node with id: ".concat(k);if(!f.hasOwnProperty(y))throw"Missing target node with id: ".concat(y);var S=f[k],z=f[y];S.out.push(z);function m(x){return Ne(x)==="object"?n(x):x}});var h=[];d(Object.values(f));var c=Object.assign.apply(Object,[{}].concat(pt(Object.entries(f).filter(function(g){var _=de(g,2),w=_[1];return!w.skip}).map(function(g){var _=de(g,2),w=_[0],k=_[1];return ce({},w,k.depth)}))));return c;function d(g){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=0,y=g.length;k<y;k++){var S=g[k];if(_.indexOf(S)!==-1){var z=function(){var m=[].concat(pt(_.slice(_.indexOf(S))),[S]).map(function(x){return n(x.data)});return h.some(function(x){return x.length===m.length&&x.every(function(M,C){return M===m[C]})})||(h.push(m),l(m)),"continue"}();if(z==="continue")continue}w>S.depth&&(S.depth=w,d(S.out,[].concat(pt(_),[S]),w+(S.skip?0:1)))}}}var tl=2,rt=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Oe=yr({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:rt},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:rt},nodeColor:{default:"color",triggerUpdate:!1,onChange:rt},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:rt},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:rt},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:rt},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:rt},linkColor:{default:"color",triggerUpdate:!1,onChange:rt},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:rt},linkWidth:{default:1,triggerUpdate:!1,onChange:rt},linkCurvature:{default:0,triggerUpdate:!1,onChange:rt},linkCanvasObject:{triggerUpdate:!1,onChange:rt},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:rt},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:rt},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:rt},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:rt},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,i){return i===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,i),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),a(),!n.isShadow&&o(),!n.isShadow&&s(),i(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function i(){var u=W(n.nodeVisibility),l=W(n.nodeVal),f=W(n.nodeColor),h=W(n.nodeCanvasObjectMode),c=n.ctx,d=n.isShadow/n.globalScale,g=n.graphData.nodes.filter(u);c.save(),g.forEach(function(_){var w=h(_);if(n.nodeCanvasObject&&(w==="before"||w==="replace")&&(n.nodeCanvasObject(_,c,n.globalScale),w==="replace")){c.restore();return}var k=Math.sqrt(Math.max(0,l(_)||1))*n.nodeRelSize+d;c.beginPath(),c.arc(_.x,_.y,k,0,2*Math.PI,!1),c.fillStyle=f(_)||"rgba(31, 120, 180, 0.92)",c.fill(),n.nodeCanvasObject&&w==="after"&&n.nodeCanvasObject(_,n.ctx,n.globalScale)}),c.restore()}function a(){var u=W(n.linkVisibility),l=W(n.linkColor),f=W(n.linkWidth),h=W(n.linkLineDash),c=W(n.linkCurvature),d=W(n.linkCanvasObjectMode),g=n.ctx,_=n.isShadow*2,w=n.graphData.links.filter(u);w.forEach(M);var k=[],y=[],S=w;if(n.linkCanvasObject){var z=[],m=[];w.forEach(function(C){return({before:k,after:y,replace:z}[d(C)]||m).push(C)}),S=[].concat(pt(k),y,m),k=k.concat(z)}g.save(),k.forEach(function(C){return n.linkCanvasObject(C,g,n.globalScale)}),g.restore();var x=Uf(S,[l,f,h]);g.save(),Object.entries(x).forEach(function(C){var E=de(C,2),F=E[0],D=E[1],L=!F||F==="undefined"?"rgba(0,0,0,0.15)":F;Object.entries(D).forEach(function(q){var B=de(q,2),A=B[0],N=B[1],P=(A||1)/n.globalScale+_;Object.entries(N).forEach(function(U){var j=de(U,2);j[0];var H=j[1],I=h(H[0]);g.beginPath(),H.forEach(function(G){var V=G.source,et=G.target;if(!(!V||!et||!V.hasOwnProperty("x")||!et.hasOwnProperty("x"))){g.moveTo(V.x,V.y);var Z=G.__controlPoints;Z?g[Z.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(g,pt(Z).concat([et.x,et.y])):g.lineTo(et.x,et.y)}}),g.strokeStyle=L,g.lineWidth=P,g.setLineDash(I||[]),g.stroke()})})}),g.restore(),g.save(),y.forEach(function(C){return n.linkCanvasObject(C,g,n.globalScale)}),g.restore();function M(C){var E=c(C);if(!E){C.__controlPoints=null;return}var F=C.source,D=C.target;if(!(!F||!D||!F.hasOwnProperty("x")||!D.hasOwnProperty("x"))){var L=Math.sqrt(Math.pow(D.x-F.x,2)+Math.pow(D.y-F.y,2));if(L>0){var q=Math.atan2(D.y-F.y,D.x-F.x),B=L*E,A={x:(F.x+D.x)/2+B*Math.cos(q-Math.PI/2),y:(F.y+D.y)/2+B*Math.sin(q-Math.PI/2)};C.__controlPoints=[A.x,A.y]}else{var N=E*70;C.__controlPoints=[D.x,D.y-N,D.x+N,D.y]}}}}function o(){var u=1.6,l=.2,f=W(n.linkDirectionalArrowLength),h=W(n.linkDirectionalArrowRelPos),c=W(n.linkVisibility),d=W(n.linkDirectionalArrowColor||n.linkColor),g=W(n.nodeVal),_=n.ctx;_.save(),n.graphData.links.filter(c).forEach(function(w){var k=f(w);if(!(!k||k<0)){var y=w.source,S=w.target;if(!(!y||!S||!y.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var z=Math.sqrt(Math.max(0,g(y)||1))*n.nodeRelSize,m=Math.sqrt(Math.max(0,g(S)||1))*n.nodeRelSize,x=Math.min(1,Math.max(0,h(w))),M=d(w)||"rgba(0,0,0,0.28)",C=k/u/2,E=w.__controlPoints&&he(J,[y.x,y.y].concat(pt(w.__controlPoints),[S.x,S.y])),F=E?function(P){return E.get(P)}:function(P){return{x:y.x+(S.x-y.x)*P||0,y:y.y+(S.y-y.y)*P||0}},D=E?E.length():Math.sqrt(Math.pow(S.x-y.x,2)+Math.pow(S.y-y.y,2)),L=z+k+(D-z-m-k)*x,q=F(L/D),B=F((L-k)/D),A=F((L-k*(1-l))/D),N=Math.atan2(q.y-B.y,q.x-B.x)-Math.PI/2;_.beginPath(),_.moveTo(q.x,q.y),_.lineTo(B.x+C*Math.cos(N),B.y+C*Math.sin(N)),_.lineTo(A.x,A.y),_.lineTo(B.x-C*Math.cos(N),B.y-C*Math.sin(N)),_.fillStyle=M,_.fill()}}}),_.restore()}function s(){var u=W(n.linkDirectionalParticles),l=W(n.linkDirectionalParticleSpeed),f=W(n.linkDirectionalParticleWidth),h=W(n.linkVisibility),c=W(n.linkDirectionalParticleColor||n.linkColor),d=n.ctx;d.save(),n.graphData.links.filter(h).forEach(function(g){var _=u(g);if(!(!g.hasOwnProperty("__photons")||!g.__photons.length)){var w=g.source,k=g.target;if(!(!w||!k||!w.hasOwnProperty("x")||!k.hasOwnProperty("x"))){var y=l(g),S=g.__photons||[],z=Math.max(0,f(g)/2)/Math.sqrt(n.globalScale),m=c(g)||"rgba(0,0,0,0.28)";d.fillStyle=m;var x=g.__controlPoints?he(J,[w.x,w.y].concat(pt(g.__controlPoints),[k.x,k.y])):null,M=0,C=!1;S.forEach(function(E){var F=!!E.__singleHop;if(E.hasOwnProperty("__progressRatio")||(E.__progressRatio=F?0:M/_),!F&&M++,E.__progressRatio+=y,E.__progressRatio>=1)if(!F)E.__progressRatio=E.__progressRatio%1;else{C=!0;return}var D=E.__progressRatio,L=x?x.get(D):{x:w.x+(k.x-w.x)*D||0,y:w.y+(k.y-w.y)*D||0};d.beginPath(),d.arc(L.x,L.y,z,0,2*Math.PI,!1),d.fill()}),C&&(g.__photons=g.__photons.filter(function(E){return!E.__singleHop||E.__progressRatio<=1}))}}}),d.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:vf().force("link",ff()).force("charge",_f()).force("center",hu()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n){if(n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&jr(n.graphData.nodes,W(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&jr(n.graphData.links,W(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(c){c.source=c[n.linkSource],c.target=c[n.linkTarget]}),!n.isShadow){var r=W(n.linkDirectionalParticles);n.graphData.links.forEach(function(c){var d=Math.round(Math.abs(r(c)));d?c.__photons=pt(Array(d)).map(function(){return{}}):delete c.__photons})}n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var i=n.forceLayout.force("link");i&&i.id(function(c){return c[n.nodeId]}).links(n.graphData.links);var a=n.dagMode&&Jf(n.graphData,function(c){return c[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),o=Math.max.apply(Math,pt(Object.values(a||[]))),s=n.dagLevelDistance||n.graphData.nodes.length/(o||1)*tl*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(n.dagMode){var u=function(d,g){return function(_){return d?(a[_[n.nodeId]]-o/2)*s*(g?-1:1):void 0}},l=u(["lr","rl"].indexOf(n.dagMode)!==-1,n.dagMode==="rl"),f=u(["td","bu"].indexOf(n.dagMode)!==-1,n.dagMode==="bu");n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(c){c.fx=l(c),c.fy=f(c)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?mf(function(c){var d=a[c[n.nodeId]]||-1;return(n.dagMode==="radialin"?o-d:d)*s}).strength(function(c){return n.dagNodeFilter(c)?1:0}):null);for(var h=0;h<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);h++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function Hr(e,n){var r=e instanceof Array?e:[e],i=new n;return{linkProp:function(o){return{default:i[o](),onChange:function(u,l){r.forEach(function(f){return l[f][o](u)})},triggerUpdate:!1}},linkMethod:function(o){return function(s){for(var u=arguments.length,l=new Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];var h=[];return r.forEach(function(c){var d=s[c],g=d[o].apply(d,l);g!==d&&h.push(g)}),h.length?h[0]:this}}}}var el=800,nl=4,Vr=Hr("forceGraph",Oe),rl=Hr(["forceGraph","shadowGraph"],Oe),il=Object.assign.apply(Object,pt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return ce({},e,Vr.linkProp(e))})).concat(pt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return ce({},e,rl.linkProp(e))})))),al=Object.assign.apply(Object,pt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return ce({},e,Vr.linkMethod(e))})));function pn(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var i=window.devicePixelRatio;n/=i,r/=i,[e.canvas,e.shadowCanvas].forEach(function(o){o.style.width="".concat(e.width,"px"),o.style.height="".concat(e.height,"px"),o.width=e.width*i,o.height=e.height*i,!n&&!r&&o.getContext("2d").scale(i,i)});var a=bt(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/a,(e.height-r)/2/a),e.needsRedraw=!0}}function Gr(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function Br(e,n,r){e.save(),Gr(e),e.clearRect(0,0,n,r),e.restore()}var ol=yr({props:Re({width:{default:window.innerWidth,onChange:function(n,r){return pn(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return pn(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(i),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function i(a){var o=a.type,s=a.objs;s.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var l=r.colorTracker.lookup(u.__indexColor);return!l||!l.hasOwnProperty("d")||l.d!==u}).forEach(function(u){u.__indexColor=r.colorTracker.register({type:o,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(i,a,o){return n(i,i.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(i,a,o){return n(i,i.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{default:function(){},triggerUpdate:!1},onZoomEnd:{default:function(){},triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},il),aliases:{stopAnimation:"pauseAnimation"},methods:Re({graph2ScreenCoords:function(n,r,i){var a=bt(n.canvas);return{x:r*a.k+a.x,y:i*a.k+a.y}},screen2GraphCoords:function(n,r,i){var a=bt(n.canvas);return{x:(r-a.x)/a.k,y:(i-a.y)/a.k}},centerAt:function(n,r,i,a){if(!n.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return a?new ae.Tween(s()).to(o,a).easing(ae.Easing.Quadratic.Out).onUpdate(u).start():u(o),this}return s();function s(){var l=bt(n.canvas);return{x:(n.width/2-l.x)/l.k,y:(n.height/2-l.y)/l.k}}function u(l){var f=l.x,h=l.y;n.zoom.translateTo(n.zoom.__baseElem,f===void 0?s().x:f,h===void 0?s().y:h),n.needsRedraw=!0}},zoom:function(n,r,i){if(!n.canvas)return null;if(r!==void 0)return i?new ae.Tween({k:a()}).to({k:r},i).easing(ae.Easing.Quadratic.Out).onUpdate(function(s){var u=s.k;return o(u)}).start():o(r),this;return a();function a(){return bt(n.canvas).k}function o(s){n.zoom.scaleTo(n.zoom.__baseElem,s),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];var u=this.getGraphBbox.apply(this,o);if(u){var l={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},f=Math.max(1e-12,Math.min(1e12,(n.width-i*2)/(u.x[1]-u.x[0]),(n.height-i*2)/(u.y[1]-u.y[0])));this.centerAt(l.x,l.y,r),this.zoom(f,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=W(n.nodeVal),a=function(u){return Math.sqrt(Math.max(0,i(u)||1))*n.nodeRelSize},o=n.graphData.nodes.filter(r).map(function(s){return{x:s.x,y:s.y,r:a(s)}});return o.length?{x:[hr(o,function(s){return s.x-s.r}),cr(o,function(s){return s.x+s.r})],y:[hr(o,function(s){return s.y-s.r}),cr(o,function(s){return s.y+s.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},al),stateInit:function(){return{lastSetZoom:1,zoom:Os(),forceGraph:new Oe,shadowGraph:new Oe().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new cu}},init:function(n,r){n.innerHTML="";var i=document.createElement("div");i.classList.add("force-graph-container"),i.style.position="relative",n.appendChild(i),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),i.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var a=r.canvas.getContext("2d"),o=r.shadowCanvas.getContext("2d"),s={x:-1e12,y:-1e12},u=function(){var c=null,d=window.devicePixelRatio,g=s.x>0&&s.y>0?o.getImageData(s.x*d,s.y*d,1,1):null;return g&&(c=r.colorTracker.lookup(g.data)),c};vt(r.canvas).call(Ga().subject(function(){if(!r.enableNodeDrag)return null;var h=u();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var c=h.subject;c.__initialDragPos={x:c.x,y:c.y,fx:c.fx,fy:c.fy},h.active||(c.fx=c.x,c.fy=c.y),r.canvas.classList.add("grabbable")}).on("drag",function(h){var c=h.subject,d=c.__initialDragPos,g=h,_=bt(r.canvas).k,w={x:d.x+(g.x-d.x)/_-c.x,y:d.y+(g.y-d.y)/_-c.y};["x","y"].forEach(function(k){return c["f".concat(k)]=c[k]=d[k]+(g[k]-d[k])/_}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,c.__dragged=!0,r.onNodeDrag(c,w)}).on("end",function(h){var c=h.subject,d=c.__initialDragPos,g={x:c.x-d.x,y:c.y-d.y};d.fx===void 0&&(c.fx=void 0),d.fy===void 0&&(c.fy=void 0),delete c.__initialDragPos,r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,c.__dragged&&(delete c.__dragged,r.onNodeDragEnd(c,g))})),r.zoom(r.zoom.__baseElem=vt(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(h){return!h.button&&r.enableZoomPanInteraction&&(r.enableZoomInteraction||h.type!=="wheel")&&(r.enablePanInteraction||h.type==="wheel")}).on("zoom",function(h){var c=h.transform;[a,o].forEach(function(d){Gr(d),d.translate(c.x,c.y),d.scale(c.k,c.k)}),r.onZoom(Re({},c)),r.needsRedraw=!0}).on("end",function(h){return r.onZoomEnd(Re({},h.transform))}),pn(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){bt(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=nl/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)});var l=document.createElement("div");l.classList.add("graph-tooltip"),i.appendChild(l),["pointermove","pointerdown"].forEach(function(h){return i.addEventListener(h,function(c){h==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=c),!r.isPointerDragging&&c.type==="pointermove"&&r.onBackgroundClick&&(c.pressure>0||r.isPointerPressed)&&(c.pointerType!=="touch"||c.movementX===void 0||[c.movementX,c.movementY].some(function(_){return Math.abs(_)>1}))&&(r.isPointerDragging=!0);var d=g(i);s.x=c.pageX-d.left,s.y=c.pageY-d.top,l.style.top="".concat(s.y,"px"),l.style.left="".concat(s.x,"px");function g(_){var w=_.getBoundingClientRect(),k=window.pageXOffset||document.documentElement.scrollLeft,y=window.pageYOffset||document.documentElement.scrollTop;return{top:w.top+y,left:w.left+k}}},{passive:!0})}),i.addEventListener("pointerup",function(h){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var c=[h,r.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(r.hoverObj){var d=r["on".concat(r.hoverObj.type,"Click")];d&&d.apply(void 0,[r.hoverObj.d].concat(c))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,c);if(h.button===2)if(r.hoverObj){var g=r["on".concat(r.hoverObj.type,"RightClick")];g&&g.apply(void 0,[r.hoverObj.d].concat(c))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,c)})},{passive:!0}),i.addEventListener("contextmenu",function(h){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(h.preventDefault(),!1)}),r.forceGraph(a),r.shadowGraph(o);var f=ei(function(){Br(o,r.width,r.height),r.shadowGraph.linkWidth(function(c){return W(r.linkWidth)(c)+r.linkHoverPrecision});var h=bt(r.canvas);r.shadowGraph.globalScale(h.k).tickFrame()},el);r.flushShadowCanvas=f.flush,(this._animationCycle=function h(){var c=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(m){return m.__photons&&m.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var d=r.isPointerDragging?null:u();if(d!==r.hoverObj){var g=r.hoverObj,_=g?g.type:null,w=d?d.type:null;if(_&&_!==w){var k=r["on".concat(_,"Hover")];k&&k(null,g.d)}if(w){var y=r["on".concat(w,"Hover")];y&&y(d.d,_===w?g.d:null)}var S=d&&W(r["".concat(d.type.toLowerCase(),"Label")])(d.d)||"";l.style.visibility=S?"visible":"hidden",l.innerHTML=S,r.canvas.classList[d&&r["on".concat(w,"Click")]||!d&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=d}c&&f()}if(c){Br(a,r.width,r.height);var z=bt(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(a,z),r.forceGraph.globalScale(z).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(a,z)}ae.update(),r.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(n){}}),sl=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"flex flex-col md:flex-row items-stretch justify-end"},[r("div",{ref:"graph",staticClass:"graph flex flex-col overflow-hidden fixed left-0 right-0 top-0 bottom-0"}),e.selectedTag?r("div",{staticClass:"docs flex flex-col p-4"},[r("DocumentList",{staticClass:"z-index-1",attrs:{tag:e.selectedTag,cols:1}})],1):e._e()])},ul=[];const fl={name:"Graph",components:{DocumentList:ni},data(){return{instance:null,selectedTag:null}},watch:{graph(){this.resize()}},computed:{colors(){return{edge:this.theme==="dark"?"#333":"#aaa",label:this.theme==="dark"?"rgba(200, 200, 200, 0.8)":"rgba(17, 17, 17, 0.8)",node:"rgba(224, 108, 117, 0.8)"}},connections(){return this.docs.flatMap(e=>e.tags.flatMap((n,r)=>e.tags.slice(r+1).map(i=>{const[a,o]=[n,i].sort();return{id:a+"_"+o,source:a,target:o}})))},docs(){return this.$store.getters.allKept},edges(){return this.connections.reduce((e,n)=>{const r=e.find(i=>i.id===n.id);return r?r.size+=1:e.push(mn(_n({},n),{color:this.colors.edge,size:1})),e},[])},graph(){return{nodes:this.nodes,links:this.edges}},maxEdgeSize(){return Math.max(...this.edges.map(e=>e.size))},maxNodeSize(){return Math.max(...this.nodes.map(e=>e.size))},nodes(){return this.edges.flatMap(e=>[e.source,e.target]).reduce((e,n)=>{const r=e.find(i=>i.id===n);return r?r.size+=1:e.push({id:n,name:n,size:1}),e},[])},theme(){return this.$store.state.settings.theme}},methods:{resize(){this.instance&&this.instance.graphData(this.graph).height(this.$refs.graph.clientHeight).width(this.$refs.graph.clientWidth)}},mounted(){this.instance=ol()(this.$refs.graph).height(this.$refs.graph.clientHeight).width(this.$refs.graph.clientWidth).graphData(this.graph).linkWidth(e=>e.size/this.maxEdgeSize*5).nodeCanvasObject((e,n,r)=>{const i=16/r,a=e.id,o=e.size/this.maxNodeSize*15/r;n.beginPath(),n.fillStyle=this.colors.node,n.arc(e.x,e.y,o,0,2*Math.PI,!1),n.fill(),n.closePath(),n.fillStyle=this.colors.label,n.font=`${i}px Inter`,n.textAlign="center",n.textBaseline="top",n.fillText(a,e.x,e.y+o+1)}).onNodeHover(e=>this.$refs.graph.style.cursor=e?"pointer":null).onNodeClick(e=>{this.selectedTag=e.id,this.instance.centerAt(e.x,e.y,1e3),this.instance.zoom(6,2e3)}),window.addEventListener("resize",()=>{this.resize()})}},Xr={};var ll=ri(fl,sl,ul,!1,cl,"3bf08216",null,null);function cl(e){for(let n in Xr)this[n]=Xr[n]}var vl=function(){return ll.exports}();export{vl as default};
